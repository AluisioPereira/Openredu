var old_link = "<%= escape_javascript "#status-#{@favorite.favoritable.id}-rm_favorites_link" %>"
var link = "<%= escape_javascript "#status-#{@favorite.favoritable.id}-favorites_link" %>"

var new_link = "<%= escape_javascript( link_to 'Favoritar',
                                      favorite_user_favorite_path(current_user,
                                        @favorite.favoritable,
                                        :id => @favorite.favoritable.id,
                                        :type => @favorite.favoritable.class.to_s),
                                      :class => 'icon icon-favorite-gray_8_8',
                                      :id => "status-#{@favorite.favoritable.id}-favorites_link",
                                      :remote => true, :method => :post) %>"
$(old_link).after(new_link);

$(old_link).remove();
$(link).show();

//# Troca o link de Desfavoritar pelo de Favoritar
//link = "#status-#{@favorite.favoritable.id} > div > .actions #favorites_link"
//spinner = "#status-#{@favorite.favoritable.id} > div > .actions #favorite_spinner"

//page.insert_html :after, spinner , (link_to_remote('Adicionar a favoritos',
//                       { :url => { :controller => :favorites,
//                                  :action => :favorite,
//                         :id => @favorite.favoritable.id, :type => @favorite.favoritable.class.to_s },
//                         :loading => "$('#status-#{@favorite.favoritable.id} > div > .actions #favorites_link').hide(); $('#status-#{@favorite.favoritable.id} > div > .actions #favorite_spinner').show();" },
//                       { :class => 'icon icon-favorite-gray_8_8',
//                         :id => 'favorites_link'}))
//page.remove "#status-#{@favorite.favoritable.id} > div > .actions #rm_favorites_link"
//page << "$('#{spinner}').hide();"
//page << "$('#{link}').show();"
