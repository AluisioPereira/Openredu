<% if @education.valid? %>
  var newItem = "<%= escape_javascript render :partial => 'educations/item',
    :locals => { :item => @education } %>"
  $("#education-<%= @education.id %>").slideUp(150, 'swing');
  $("#education-<%= @education.id %>").attr('id', 'education-<%= @education.id %>-old');
  $("#curriculum .educations").prepend(newItem);
<% else %>
  <% if @education.educationable.class == HighSchool %>
    var $form = $("#edit_high_school_<%= @education.educationable.id %>");
  <% elsif @education.educationable.class == HigherEducation %>
    var $form = $("#edit_higher_education_<%= @education.educationable.id %>");
  <% elsif @education.educationable.class == ComplementaryCourse %>
    var $form = $("#edit_complementary_course_<%= @education.educationable.id %>");
  <% elsif @education.educationable.class == EventEducation %>
    var $form = $("#edit_event_education_<%= @education.educationable.id %>");
  <% end %>

  var educationable_form = "<%= escape_javascript render :partial => 'educations/form_edit', :locals => { :education => @education } %>"
  $form.replaceWith(educationable_form);
<% end %>
