<script>
	function selectAll(){
	//$('select_all_link').hide();
	//$('select_all_string').show();
	var checkboxes = document.getElementsByName("courses[]");
	for (var i =0; i< checkboxes.length; i++) {
		checkboxes[i].checked = true;
	}
	
}

function selectNone(){
	var checkboxes = document.getElementsByName("courses[]");
	for (var i =0; i< checkboxes.length; i++) {
		checkboxes[i].checked = false;
	}
}

	
</script>


<div class="grid_16">
<div id="breadcrumbs">
	<a href="#">Administração</a> > Aulas
</div>

<div id="title_video">Moderação de Aulas</div>
</div>

<div class="main grid_16">
    <div class="fake-tabs grid_16 alpha omega">
        <%= render :partial => "admin/taskbar" %>
        <div class="panel">
        	
					<h3>Mostrando aulas mais recentes</h3>
					
					
					
    <div id="all_list">
    	
		<% if @courses && @courses.size > 0 %>
		Selecionar <%=link_to_function 'Todos', 'selectAll()'%> | <%=link_to_function 'Nenhum', 'selectNone()'%> 
		
		 <% form_tag :action => :moderate_courses do %>
			<table style="width: 100%; margin: 15px 10px 20px 10px;">
				<tr>
					<th></th><th>#ID</th><th>Aula</th><th>Autor</th><th>Data</th>
				</tr>
		 	<% for course in @courses %>
				<tr>
					<tr>
						<td><%= check_box_tag 'courses[]', course.id, false,:id => "course_"+ course.id.to_s  %></td>
						<td><%= course.id  %></td>
						<td><%= link_to course.name, course_path(course), :target => "_blank" %> </td>
						<td><%= course.owner.display_name %> </td>
						<td><%= time_ago_in_words(course.updated_at) %> </td>
					</tr>
				</tr>
 			<% end %>
			</table>
			<%= submit_tag "Remover" %>
		 <% end %>
		<% else %>
 			Não há aulas publicadas ainda. 
		<% end %>
    	
    </div> <!-- fim da listagem --> 
	
	<div id="pagination" align="center" class="pagination">

		<%= will_paginate  @courses, :params => {:sort_by => @sort_by}, :class => "pagination_number"  %>
		
    </div>

			</div>
    </div> <!-- end tabs -->
</div><!-- end main -->

