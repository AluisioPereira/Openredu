<div class="grid_16">
  <div class="fake-tabs grid_16 alpha omega clearfix">
    <%= render :partial => "courses/admin_taskbar" %>
    <div class="panel">
      <h1>Moderação de Membros</h1>

      <% if @pending_members && @pending_members.size > 0 %>
        <% form_tag :action => :moderate_members_requests, :id => @course.id do %>
          <table class="common">
            <thead>
              <th style="max-width:25px;">Aprovar</th><th style="max-width:27px;">Rejeitar</th><th>Nome</th><th>Data</th>
            </thead>
            <% for association in @pending_members %>
              <tr>
                <tr>
                  <td><%= radio_button_tag '[member]['+ association.user.id.to_s+']', 'approve'  %></td>
                  <td><%= radio_button_tag '[member]['+ association.user.id.to_s+']', 'reject' %></td>
                  <td><%= link_to association.user.display_name, association.user, :target => "_blank" %> </td>
                  <td><%= time_ago_in_words(association.created_at) %> </td>
                </tr>
              </tr>
            <% end %>
          </table>
          <%= submit_tag "Moderar" %>
        <% end %>
      <% else %>
         
          <div class="box_notice">Não há solicitacões pendentes.</div>


      <% end %>

      <div id="pagination" align="center" class="pagination">
        <%= will_paginate  @pending_members, :params => {:sort_by => @sort_by}, :class => "pagination_number"  %>
      </div>

    </div><!-- end panel -->
  </div><!-- end fake-tabs -->
</div><!-- end grid_16 -->
