<%# Utilizado para a crição de um Course. A flag edit deve ser true quando o form
    estiver sendo utilizado para editar uma entrada já existente %>
<script type="text/javascript">
  $(document).ready(function(){
     $("#course_name").bind('keyup blur', function(e){
       $("#course_path").val($(this).slug());    
     })

    <% if edit %>
    $("input[type=text][name*=color]").val("<%= @course.color if @course %>")
    $("input[type=text][name*=color]").css('background-color' , "#<%= @course.color %>")
    <% end %>
  })
</script>

<%= apply_color_picker_to "#course_color" %>

<% field_set_tag "Informações Gerais" do %>
  <%= f.label :name, "Nome" %>
  <%= f.text_field :name %>
  <%= f.label :path, :path.l %>
  <%= f.text_field :path %>
  <%= f.label :description, "Descrição" %>
  <%= f.text_area :description, :class => "mceEditor", :size => "2x10"%>
  <%= f.label :workload, "Carga Horária" %>
  <%= f.text_field :workload,  :size=> 8 %>
  <%= f.label "Palavras-chave <span class='snippet'>(separadas por vírgula)</span>" %>
  <%= f.text_field :tag_list %>
<% end %>
<% field_set_tag "Quem pode participar do curso?" do %>
  <%= f.radio_button :subscription_type, "1", :checked => true %> Todos
  <%= f.radio_button :subscription_type, "2" %> Moderação 
<% end %>
<% field_set_tag "Personalização" do %>
  <%= f.label :color, "Cor" %>
  <%=  %>
  <%= f.select :color, options_for_select(color_picker_colors, :selected => @course.nil? ? nil : @course.color )%>
<% end %>

