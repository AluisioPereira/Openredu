<div class="exercise-nav">
  <ol>
    <% if prev_range = current.item_at_offset(-4) %>
      <li class="endless-lecture">
        <%= link_to "...", exercise_question_path(exercise, prev_range) %>
      </li>
    <% end %>
    <% limit, offset = pagination(current) %>
    <% exercise.questions.limit(limit).offset(offset).order('position ASC').each do |question| %>
      <% if question == current && question != first %>
        <li class="lecture-buttons">
          <%= submit_tag "Anterior", :class => "concave-clean" %>
        </li>
      <% end %>
      <% choice = question.choice_for(current_user) %>
      <li class="<%= question == current ? "actual" : "" %> <%= choice ? "question-answered" : "" %>">
        <%= link_to question.position, exercise_question_path(exercise, question)  %>
      </li>
      <% if question == current && question != last %>
        <li class="lecture-buttons">
          <%= submit_tag "Próxima", :class => "concave-clean" %>
        </li>
      <% end %>
    <% end %>
    <% if  next_range = current.item_at_offset(4) %>
      <li class="endless-lecture">
        <%= link_to "...", exercise_question_path(exercise, next_range) %>
      </li>
    <% end %>
  </ol>
  <%= link_to "< primeira", exercise_question_path(exercise, first), :class => "first-question" %>
  <% if last %>
    <%= link_to "> última", exercise_question_path(exercise, last), :class => "last-question" %>
  <% end %>
</div>
