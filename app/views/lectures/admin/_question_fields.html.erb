<% question_visibility, summary_visibility, fields_visibility = retract_question(f.object) %>
<li class="question-item <%= question_visibility %>">
  <span class="position">1</span>
  <div class="summary clearfix" style="display: <%= summary_visibility %>;">
    <span class="statement"><%= f.object.statement or "(Enunciado não informado)" %></span>
    <span class="alternatives">
      <span class="qtt"><%= f.object.alternatives.size %></span> alternativas. Correta: <span class="correct"><%= correct_alternative_order_for(f.object) %></span>
    </span>
    <span class="expand icon-small icon-expand_down-gray_16_18 replacement">Mais detalhes</span>
  </div>
  <div class="fields" style="display: <%= fields_visibility %>;">
    <%= f.label :statement %>
    <%= f.text_area :statement, :class => "question-statement" %>
    <div class="tip">Descrição da questão e sua problemática</div>
    <%= concave_errors_for(f.object, :statement) %>
    <%= f.label :explanation %>
    <%= f.text_area :explanation %>
    <div class="tip">Explicação da questão. Será exibida após a realização do exame</div>

    <%= f.hidden_field :id %>
    <%= f.hidden_field :_destroy %>

    <div class="nested-fields-level-2 clearfix">
      <ol class="alternative-container">
        <%= f.nested_fields_for :alternatives, { :new_item_index => 'new_alternative_item' } do |builder| %>
          <%= render 'lectures/admin/alternative_fields', :f => builder %>
        <% end %>
      </ol>
      <div class="simple-actions">
        <a href="#" class="question-remove">excluir questão</a>
        <a href="#" class="finalize-edition">finalizar edição da questão</a>
        <a href="#" class="alternative-add">+ adicionar alternativa</a>
      </div>
    </div>
  </div>
</li>
