# Logfile created on Sun Sep 20 16:10:14 +0100 2009  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mActivity Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `activities`[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:15:48')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:15:48' WHERE `id` = 1[0m
  [4;36;1mTagging Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `metro_areas`[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` ORDER BY activities.id DESC LIMIT 1[0m


Processing ActivitiesController#destroy (for 0.0.0.0 at 2009-09-20 16:15:48) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`id` = 1) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Destroy (0.0ms)[0m   [0;1mDELETE FROM `activities` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed in 46ms (DB: 63) | 302 Found [http://test.host/activities/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:15:48')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:15:48' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` ORDER BY activities.id DESC LIMIT 1[0m


Processing ActivitiesController#destroy (for 0.0.0.0 at 2009-09-20 16:15:49) [DELETE]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`id` = 2) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Destroy (0.0ms)[0m   [0mDELETE FROM `activities` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed in 15ms (DB: 47) | 302 Found [http://test.host/activities/2]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ActivitiesController#network (for 0.0.0.0 at 2009-09-20 16:15:49) [GET]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mFriendship Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `friendships`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2009-09-13 15:15:49')) [0m
Rendering template within layouts/application
Rendering activities/network
Rendered shared/_box (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;36;1mPhoto Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `photos`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.user_id = 1) [0m
  [4;36;1mClipping Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `clippings`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `clippings` WHERE (`clippings`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
Rendered shared/_box (0.0ms)
Rendered users/_dashboard_nav (47.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (15.0ms)
  [4;35;1mMessage Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (922.0ms)
Rendered shared/_messages (16.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
  [4;35;1mPage Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `pages`[0m
Completed in 1062ms (View: 1031, DB: 16) | 200 OK [http://test.host/activities/network/quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 2, NULL, '2009-09-20 15:15:50')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:15:50' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` ORDER BY activities.id DESC LIMIT 1[0m


Processing ActivitiesController#destroy (for 0.0.0.0 at 2009-09-20 16:15:50) [DELETE]
  Parameters: {"id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`id` = 3) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/activities/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activation_code` = 'test', `updated_at` = '2009-09-20 15:15:50' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activated_at` = NULL, `updated_at` = '2009-09-20 15:15:50' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdminController#activate_user (for 0.0.0.0 at 2009-09-20 16:15:50) [PUT]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `states`[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activated_at` = '2009-09-20 15:15:50', `activation_code` = NULL, `updated_at` = '2009-09-20 15:15:50' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:15:50 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Your Community account has been activated!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi quentin, 
Just a quick note to let you know your Community account has been activated. There's always a lot going on at Community, so come check out what's new:

http://localhost:3000/

* As a Community member, you'll receive occasional e-mails from us (with news, contest announcements, and updates on the site). If you don't want them, you can change your e-mail preferences here:

http://localhost:3000/quentin/edit_account

Thanks for joining Community!
The Community Team
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/users
Completed in 5532ms (DB: 62) | 302 Found [http://test.host/admin/activate_user/1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AdminController#deactivate_user (for 0.0.0.0 at 2009-09-20 16:15:55) [PUT]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activated_at` = NULL, `activation_code` = '900baf72fe40e3e24506e87f68d4dacea6b0aa8a', `updated_at` = '2009-09-20 15:15:55' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/users
Completed in 109ms (DB: 16) | 302 Found [http://test.host/admin/deactivate_user/1]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdminController#users (for 0.0.0.0 at 2009-09-20 16:15:55) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(users.id) AS count_users_id FROM `users` [0m
Rendering template within layouts/application
Rendering admin/users
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (16.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` ORDER BY users.created_at DESC LIMIT 0, 13[0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 172ms (View: 157, DB: 16) | 200 OK [http://test.host/admin/users]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AdminController#activate_user (for 0.0.0.0 at 2009-09-20 16:15:56) [PUT]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 32ms (DB: 0) | 302 Found [http://test.host/admin/activate_user]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AdminController#users (for 0.0.0.0 at 2009-09-20 16:15:56) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 31ms (DB: 15) | 302 Found [http://test.host/admin/users]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `ads` [0m


Processing AdsController#create (for 0.0.0.0 at 2009-09-20 16:15:56) [POST]
  Parameters: {"ad"=>{"html"=>"Our company is great!", "audience"=>"all", "frequency"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAd Create (0.0ms)[0m   [0;1mINSERT INTO `ads` (`name`, `html`, `start_date`, `end_date`, `updated_at`, `published`, `time_constrained`, `audience`, `frequency`, `created_at`, `location`) VALUES(NULL, 'Our company is great!', NULL, NULL, '2009-09-20 15:15:56', 0, 0, 'all', 1, '2009-09-20 15:15:56', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/2
Completed in 94ms (DB: 0) | 302 Found [http://test.host/ads?ad%5Baudience%5D=all&ad%5Bfrequency%5D=1&ad%5Bhtml%5D=Our+company+is+great%21]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ads` [0m
  [4;35;1mSQL (32.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ads` [0m


Processing AdsController#destroy (for 0.0.0.0 at 2009-09-20 16:15:56) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mAd Load (0.0ms)[0m   [0;1mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAd Destroy (0.0ms)[0m   [0;1mDELETE FROM `ads` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads
Completed in 16ms (DB: 32) | 302 Found [http://test.host/ads/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ads` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdsController#edit (for 0.0.0.0 at 2009-09-20 16:15:56) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mAd Load (0.0ms)[0m   [0mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
Rendering template within layouts/application
Rendering ads/edit
Rendered shared/_box (219.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 375ms (View: 375, DB: 0) | 200 OK [http://test.host/ads/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdsController#index (for 0.0.0.0 at 2009-09-20 16:15:56) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mAd Load (0.0ms)[0m   [0mSELECT * FROM `ads` [0m
Rendering template within layouts/application
Rendering ads/index
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/ads]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdsController#new (for 0.0.0.0 at 2009-09-20 16:15:56) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering ads/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/ads/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdsController#show (for 0.0.0.0 at 2009-09-20 16:15:56) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mAd Load (0.0ms)[0m   [0;1mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
Rendering template within layouts/application
Rendering ads/show
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://test.host/ads/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing AdsController#update (for 0.0.0.0 at 2009-09-20 16:15:57) [PUT]
  Parameters: {"ad"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mAd Load (0.0ms)[0m   [0;1mSELECT * FROM `ads` WHERE (`ads`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ads/1
Completed in 16ms (DB: 0) | 302 Found [http://test.host/ads/1?]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#create (for 0.0.0.0 at 2009-09-20 16:15:57) [POST]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 62) | 302 Found [http://test.host/quentin/photo_manager/albums?user=quentin]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m


Processing AlbumsController#create (for 0.0.0.0 at 2009-09-20 16:15:57) [POST]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin/photo_manager/albums?user=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2009-09-20 16:15:57) [DELETE]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/albums/destroy?user=quentin&user_id=quentin]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2009-09-20 16:15:57) [DELETE]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/albums/destroy?user=quentin&user_id=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#edit (for 0.0.0.0 at 2009-09-20 16:15:57) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/albums/edit?user=quentin&user_id=quentin]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m


Processing AlbumsController#edit (for 0.0.0.0 at 2009-09-20 16:15:57) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/albums/edit?user=quentin&user_id=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#new (for 0.0.0.0 at 2009-09-20 16:15:57) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin/photo_manager/albums/new?user=quentin]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m


Processing AlbumsController#new (for 0.0.0.0 at 2009-09-20 16:15:57) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin/photo_manager/albums/new?user=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#update (for 0.0.0.0 at 2009-09-20 16:15:57) [PUT]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/albums/update?user=quentin&user_id=quentin]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#show (for 0.0.0.0 at 2009-09-20 16:15:57) [GET]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAlbum Update (0.0ms)[0m   [0;1mUPDATE `albums` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id = '2' AND parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering albums/show
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (78.0ms)
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (album_id = '2' AND parent_id IS NULL) LIMIT 0, 0[0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (16.0ms)
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Album') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 156ms (View: 140, DB: 0) | 200 OK [http://test.host/albums/show/2]
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 2) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#show (for 0.0.0.0 at 2009-09-20 16:15:57) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id = '1' AND parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering albums/show
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (15.0ms)
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (album_id = '1' AND parent_id IS NULL) LIMIT 0, 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Album') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 16) | 200 OK [http://test.host/albums/show/1]
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2009-09-20 16:15:57) [DELETE]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;35;1mPhoto Destroy (0.0ms)[0m   [0mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1305:in `platform_support'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `each'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/app/controllers/albums_controller.rb:85:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/lib/localized_application.rb:25:in `set_locale'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:186:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `sass_old_process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:567:in `process_with_test'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:447:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:413:in `delete'
 > ./test/functional/albums_controller_test.rb:62:in `test_photos_should_be_destroyed'
 > ./test/unit/../test_helper.rb:24:in `assert_difference'
 > ./test/functional/albums_controller_test.rb:61:in `test_photos_should_be_destroyed'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit.rb:278
 > C:/Ruby/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Album') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Album') [0m
  [4;35;1mAlbum Destroy (0.0ms)[0m   [0mDELETE FROM `albums` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager
Completed in 156ms (DB: 16) | 302 Found [http://test.host/albums/destroy/1?user=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m


Processing AlbumsController#create (for 0.0.0.0 at 2009-09-20 16:15:57) [POST]
  Parameters: {"album"=>{"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "title"=>"Some title"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAlbum Create (0.0ms)[0m   [0;1mINSERT INTO `albums` (`updated_at`, `title`, `description`, `user_id`, `created_at`, `view_count`) VALUES('2009-09-20 15:15:57', 'Some title', NULL, 1, '2009-09-20 15:15:57', NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(3, 'album', 1, 'Album', '2009-09-20 15:15:57')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:15:57' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager/albums/3/photos/new
Completed in 500ms (DB: 0) | 302 Found [http://test.host/albums/create?album%5Btitle%5D=Some+title&album%5Buser%5D=quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` ORDER BY albums.id DESC LIMIT 1[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#destroy (for 0.0.0.0 at 2009-09-20 16:15:58) [DELETE]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;36;1mPhoto Destroy (0.0ms)[0m   [0;1mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1305:in `platform_support'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `each'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/app/controllers/albums_controller.rb:85:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/lib/localized_application.rb:25:in `set_locale'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:186:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `sass_old_process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:567:in `process_with_test'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:447:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:413:in `delete'
 > ./test/functional/albums_controller_test.rb:54:in `test_should_destroy_album'
 > ./test/unit/../test_helper.rb:24:in `assert_difference'
 > ./test/functional/albums_controller_test.rb:53:in `test_should_destroy_album'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit.rb:278
 > C:/Ruby/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Album') [0m
  [4;35;1mComment Load (16.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Album') [0m
  [4;36;1mAlbum Destroy (0.0ms)[0m   [0;1mDELETE FROM `albums` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager
Completed in 94ms (DB: 47) | 302 Found [http://test.host/albums/destroy/1?user=quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#edit (for 0.0.0.0 at 2009-09-20 16:15:58) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
Rendering template within layouts/application
Rendering albums/edit
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered albums/_form (203.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 250ms (View: 250, DB: 0) | 200 OK [http://test.host/albums/edit/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing AlbumsController#new (for 0.0.0.0 at 2009-09-20 16:15:58) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
Rendering template within layouts/application
Rendering albums/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered albums/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://test.host/quentin/photo_manager/albums/new?user=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` [0m


Processing AlbumsController#create (for 0.0.0.0 at 2009-09-20 16:15:58) [POST]
  Parameters: {"abum"=>{"description"=>"Some content"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering albums/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered albums/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/albums/create?abum%5Bdescription%5D=Some+content]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` [0m


Processing AlbumsController#create (for 0.0.0.0 at 2009-09-20 16:15:58) [POST]
  Parameters: {"go_to"=>"only_create", "album"=>{"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "title"=>"Some title"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAlbum Create (0.0ms)[0m   [0;1mINSERT INTO `albums` (`updated_at`, `title`, `description`, `user_id`, `created_at`, `view_count`) VALUES('2009-09-20 15:15:58', 'Some title', NULL, 1, '2009-09-20 15:15:58', NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(4, 'album', 1, 'Album', '2009-09-20 15:15:58')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:15:58' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager
Completed in 47ms (DB: 0) | 302 Found [http://test.host/albums/create?album%5Btitle%5D=Some+title&album%5Buser%5D=quentin&go_to=only_create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AlbumsController#show (for 0.0.0.0 at 2009-09-20 16:15:58) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id = '1' AND parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering albums/show
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (album_id = '1' AND parent_id IS NULL) LIMIT 0, 1[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Album') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 16) | 200 OK [http://test.host/albums/show/1]
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m


Processing AlbumsController#update (for 0.0.0.0 at 2009-09-20 16:15:58) [PUT]
  Parameters: {"go_to"=>"only_create", "id"=>"1", "album"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager/albums/1
Completed in 15ms (DB: 0) | 302 Found [http://test.host/albums/update/1?&go_to=only_create]


Processing AlbumsController#update (for 0.0.0.0 at 2009-09-20 16:15:58) [PUT]
  Parameters: {"go_to"=>"", "id"=>"1", "album"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager/albums/1/photos/new
Completed in 16ms (DB: 0) | 302 Found [http://test.host/albums/update/1?&go_to=only_create]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mAsset Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `assets`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES(NULL, NULL, '2009-09-20 15:15:58', NULL, NULL, NULL, 'Clipping', 1, NULL, NULL, '2009-09-20 15:15:58')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mHomepageFeature Load (0.0ms)[0m   [0;1mSELECT * FROM `homepage_features` WHERE (parent_id IS NULL) ORDER BY created_at DESC[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT activities.user_id, count(*) as count FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE (activities.created_at > '2009-09-13 15:15:59') GROUP BY activities.user_id ORDER BY count DESC LIMIT 5[0m
  [4;36;1mPost Load Including Associations (16.0ms)[0m   [0;1mSELECT `posts`.`id` AS t0_r0, `posts`.`created_at` AS t0_r1, `posts`.`updated_at` AS t0_r2, `posts`.`raw_post` AS t0_r3, `posts`.`post` AS t0_r4, `posts`.`title` AS t0_r5, `posts`.`category_id` AS t0_r6, `posts`.`user_id` AS t0_r7, `posts`.`view_count` AS t0_r8, `posts`.`contest_id` AS t0_r9, `posts`.`emailed_count` AS t0_r10, `posts`.`favorited_count` AS t0_r11, `posts`.`published_as` AS t0_r12, `posts`.`published_at` AS t0_r13, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`email` AS t1_r2, `users`.`description` AS t1_r3, `users`.`avatar_id` AS t1_r4, `users`.`crypted_password` AS t1_r5, `users`.`salt` AS t1_r6, `users`.`created_at` AS t1_r7, `users`.`updated_at` AS t1_r8, `users`.`remember_token` AS t1_r9, `users`.`remember_token_expires_at` AS t1_r10, `users`.`stylesheet` AS t1_r11, `users`.`view_count` AS t1_r12, `users`.`vendor` AS t1_r13, `users`.`activation_code` AS t1_r14, `users`.`activated_at` AS t1_r15, `users`.`state_id` AS t1_r16, `users`.`metro_area_id` AS t1_r17, `users`.`login_slug` AS t1_r18, `users`.`notify_comments` AS t1_r19, `users`.`notify_friend_requests` AS t1_r20, `users`.`notify_community_news` AS t1_r21, `users`.`country_id` AS t1_r22, `users`.`featured_writer` AS t1_r23, `users`.`last_login_at` AS t1_r24, `users`.`zip` AS t1_r25, `users`.`birthday` AS t1_r26, `users`.`gender` AS t1_r27, `users`.`profile_public` AS t1_r28, `users`.`activities_count` AS t1_r29, `users`.`sb_posts_count` AS t1_r30, `users`.`sb_last_seen_at` AS t1_r31, `users`.`role_id` AS t1_r32 FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE ((users.featured_writer = 1) AND (published_as = 'live')) ORDER BY posts.published_at DESC LIMIT 10[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` ORDER BY replied_at DESC LIMIT 5[0m
  [4;36;1mContest Load (0.0ms)[0m   [0;1mSELECT * FROM `contests` WHERE (begin_date < '2009-09-20 16:15:59' AND end_date > '2009-09-20 16:15:59') ORDER BY created_at desc LIMIT 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-09-13 15:15:59') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 10[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (polls.created_at > '2009-09-10 15:15:59') ORDER BY polls.votes_count desc LIMIT 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m


Processing BaseController#footer_content (for 0.0.0.0 at 2009-09-20 16:15:59) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (created_at > '2009-09-13 15:15:59') ORDER BY created_at DESC LIMIT 10[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (photos.created_at > '2009-09-13 15:15:24' AND photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (created_at > '2009-09-06 15:15:59') ORDER BY created_at DESC LIMIT 13[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 30[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(activities.id) AS count_activities_id FROM `activities` [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` ORDER BY activities.created_at DESC LIMIT 0, 0[0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_footer_content (15.0ms)
Completed in 47ms (View: 31, DB: 32) | 200 OK [http://test.host/base/footer_content]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m


Processing BaseController#site_index (for 0.0.0.0 at 2009-09-20 16:15:59) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mHomepageFeature Load (0.0ms)[0m   [0;1mSELECT * FROM `homepage_features` WHERE (parent_id IS NULL) ORDER BY created_at DESC[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT activities.user_id, count(*) as count FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE (activities.created_at > '2009-09-13 15:15:59') GROUP BY activities.user_id ORDER BY count DESC LIMIT 5[0m
  [4;36;1mPost Load Including Associations (0.0ms)[0m   [0;1mSELECT `posts`.`id` AS t0_r0, `posts`.`created_at` AS t0_r1, `posts`.`updated_at` AS t0_r2, `posts`.`raw_post` AS t0_r3, `posts`.`post` AS t0_r4, `posts`.`title` AS t0_r5, `posts`.`category_id` AS t0_r6, `posts`.`user_id` AS t0_r7, `posts`.`view_count` AS t0_r8, `posts`.`contest_id` AS t0_r9, `posts`.`emailed_count` AS t0_r10, `posts`.`favorited_count` AS t0_r11, `posts`.`published_as` AS t0_r12, `posts`.`published_at` AS t0_r13, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`email` AS t1_r2, `users`.`description` AS t1_r3, `users`.`avatar_id` AS t1_r4, `users`.`crypted_password` AS t1_r5, `users`.`salt` AS t1_r6, `users`.`created_at` AS t1_r7, `users`.`updated_at` AS t1_r8, `users`.`remember_token` AS t1_r9, `users`.`remember_token_expires_at` AS t1_r10, `users`.`stylesheet` AS t1_r11, `users`.`view_count` AS t1_r12, `users`.`vendor` AS t1_r13, `users`.`activation_code` AS t1_r14, `users`.`activated_at` AS t1_r15, `users`.`state_id` AS t1_r16, `users`.`metro_area_id` AS t1_r17, `users`.`login_slug` AS t1_r18, `users`.`notify_comments` AS t1_r19, `users`.`notify_friend_requests` AS t1_r20, `users`.`notify_community_news` AS t1_r21, `users`.`country_id` AS t1_r22, `users`.`featured_writer` AS t1_r23, `users`.`last_login_at` AS t1_r24, `users`.`zip` AS t1_r25, `users`.`birthday` AS t1_r26, `users`.`gender` AS t1_r27, `users`.`profile_public` AS t1_r28, `users`.`activities_count` AS t1_r29, `users`.`sb_posts_count` AS t1_r30, `users`.`sb_last_seen_at` AS t1_r31, `users`.`role_id` AS t1_r32 FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE ((users.featured_writer = 1) AND (published_as = 'live')) ORDER BY posts.published_at DESC LIMIT 10[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` ORDER BY replied_at DESC LIMIT 5[0m
  [4;36;1mContest Load (0.0ms)[0m   [0;1mSELECT * FROM `contests` WHERE (begin_date < '2009-09-20 16:15:59' AND end_date > '2009-09-20 16:15:59') ORDER BY created_at desc LIMIT 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-09-13 15:15:59') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 10[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (polls.created_at > '2009-09-10 15:15:59') ORDER BY polls.votes_count desc LIMIT 8[0m
Rendering template within layouts/application
Rendering base/site_index
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered base/_homepage_banner_message (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mPoll Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `polls`[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
Rendered posts/_post (47.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
Rendered posts/_post (16.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 3) [0m
Rendered posts/_post (15.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 4) [0m
Rendered posts/_post (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_explore (16.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered posts/_sidebar_post (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered posts/_sidebar_post (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered posts/_sidebar_post (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered posts/_sidebar_post (15.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.featured_writer = 1) [0m
Rendered users/_sidebar_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 203ms (View: 155, DB: 16) | 200 OK [http://test.host/]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m


Processing BaseController#site_index to rss (for 0.0.0.0 at 2009-09-20 16:15:59) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPost Load (16.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Completed in 79ms (View: 47, DB: 16) | 200 OK [http://test.host/site_index.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m


Processing BaseController#teaser (for 0.0.0.0 at 2009-09-20 16:15:59) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
Rendering template within layouts/beta
Rendering base/teaser
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered base/_homepage_banner_message (94.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_messages (0.0ms)
Completed in 188ms (View: 172, DB: 0) | 200 OK [http://test.host/]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` [0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-09-20 16:15:59) [POST]
  Parameters: {"category"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Create (0.0ms)[0m   [0;1mINSERT INTO `categories` (`name`, `tips`, `new_post_text`, `nav_text`) VALUES(NULL, NULL, NULL, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/6-
Completed in 109ms (DB: 0) | 302 Found [http://test.host/categories?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` [0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-09-20 16:15:59) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Destroy (0.0ms)[0m   [0;1mDELETE FROM `categories` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories
Completed in 0ms (DB: 0) | 302 Found [http://test.host/categories/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-09-20 16:15:59) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
Rendering template within layouts/application
Rendering categories/edit
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 265ms (View: 265, DB: 0) | 200 OK [http://test.host/categories/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-09-20 16:16:00) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendering template within layouts/application
Rendering categories/index
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.category_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.category_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.category_id = 3) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.category_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.category_id = 5) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/categories]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-09-20 16:16:00) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering categories/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-09-20 16:16:00) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT posts.id) AS count_posts_id FROM `posts` LEFT OUTER JOIN `taggings` ON (`posts`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Post') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (category_id = 1) AND (published_as = 'live') [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.category_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;36;1mPoll Load Including Associations (0.0ms)[0m   [0;1mSELECT `polls`.`id` AS t0_r0, `polls`.`question` AS t0_r1, `polls`.`created_at` AS t0_r2, `polls`.`updated_at` AS t0_r3, `polls`.`post_id` AS t0_r4, `polls`.`votes_count` AS t0_r5, `posts`.`id` AS t1_r0, `posts`.`created_at` AS t1_r1, `posts`.`updated_at` AS t1_r2, `posts`.`raw_post` AS t1_r3, `posts`.`post` AS t1_r4, `posts`.`title` AS t1_r5, `posts`.`category_id` AS t1_r6, `posts`.`user_id` AS t1_r7, `posts`.`view_count` AS t1_r8, `posts`.`contest_id` AS t1_r9, `posts`.`emailed_count` AS t1_r10, `posts`.`favorited_count` AS t1_r11, `posts`.`published_as` AS t1_r12, `posts`.`published_at` AS t1_r13, `users`.`id` AS t2_r0, `users`.`login` AS t2_r1, `users`.`email` AS t2_r2, `users`.`description` AS t2_r3, `users`.`avatar_id` AS t2_r4, `users`.`crypted_password` AS t2_r5, `users`.`salt` AS t2_r6, `users`.`created_at` AS t2_r7, `users`.`updated_at` AS t2_r8, `users`.`remember_token` AS t2_r9, `users`.`remember_token_expires_at` AS t2_r10, `users`.`stylesheet` AS t2_r11, `users`.`view_count` AS t2_r12, `users`.`vendor` AS t2_r13, `users`.`activation_code` AS t2_r14, `users`.`activated_at` AS t2_r15, `users`.`state_id` AS t2_r16, `users`.`metro_area_id` AS t2_r17, `users`.`login_slug` AS t2_r18, `users`.`notify_comments` AS t2_r19, `users`.`notify_friend_requests` AS t2_r20, `users`.`notify_community_news` AS t2_r21, `users`.`country_id` AS t2_r22, `users`.`featured_writer` AS t2_r23, `users`.`last_login_at` AS t2_r24, `users`.`zip` AS t2_r25, `users`.`birthday` AS t2_r26, `users`.`gender` AS t2_r27, `users`.`profile_public` AS t2_r28, `users`.`activities_count` AS t2_r29, `users`.`sb_posts_count` AS t2_r30, `users`.`sb_last_seen_at` AS t2_r31, `users`.`role_id` AS t2_r32 FROM `polls` LEFT OUTER JOIN `posts` ON `posts`.id = `polls`.post_id LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE (posts.category_id = 1) ORDER BY polls.votes_count desc LIMIT 5[0m
  [4;35;1mUser Load IDs For Limited Eager Loading (0.0ms)[0m   [0mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `posts` ON posts.user_id = users.id WHERE (posts.category_id = 1 AND posts.published_at > '2009-09-06 15:16:00') ORDER BY users.view_count DESC LIMIT 5[0m
  [4;36;1mUser Load Including Associations (16.0ms)[0m   [0;1mSELECT `users`.`id` AS t0_r0, `users`.`login` AS t0_r1, `users`.`email` AS t0_r2, `users`.`description` AS t0_r3, `users`.`avatar_id` AS t0_r4, `users`.`crypted_password` AS t0_r5, `users`.`salt` AS t0_r6, `users`.`created_at` AS t0_r7, `users`.`updated_at` AS t0_r8, `users`.`remember_token` AS t0_r9, `users`.`remember_token_expires_at` AS t0_r10, `users`.`stylesheet` AS t0_r11, `users`.`view_count` AS t0_r12, `users`.`vendor` AS t0_r13, `users`.`activation_code` AS t0_r14, `users`.`activated_at` AS t0_r15, `users`.`state_id` AS t0_r16, `users`.`metro_area_id` AS t0_r17, `users`.`login_slug` AS t0_r18, `users`.`notify_comments` AS t0_r19, `users`.`notify_friend_requests` AS t0_r20, `users`.`notify_community_news` AS t0_r21, `users`.`country_id` AS t0_r22, `users`.`featured_writer` AS t0_r23, `users`.`last_login_at` AS t0_r24, `users`.`zip` AS t0_r25, `users`.`birthday` AS t0_r26, `users`.`gender` AS t0_r27, `users`.`profile_public` AS t0_r28, `users`.`activities_count` AS t0_r29, `users`.`sb_posts_count` AS t0_r30, `users`.`sb_last_seen_at` AS t0_r31, `users`.`role_id` AS t0_r32, `posts`.`id` AS t1_r0, `posts`.`created_at` AS t1_r1, `posts`.`updated_at` AS t1_r2, `posts`.`raw_post` AS t1_r3, `posts`.`post` AS t1_r4, `posts`.`title` AS t1_r5, `posts`.`category_id` AS t1_r6, `posts`.`user_id` AS t1_r7, `posts`.`view_count` AS t1_r8, `posts`.`contest_id` AS t1_r9, `posts`.`emailed_count` AS t1_r10, `posts`.`favorited_count` AS t1_r11, `posts`.`published_as` AS t1_r12, `posts`.`published_at` AS t1_r13 FROM `users` LEFT OUTER JOIN `posts` ON posts.user_id = users.id WHERE (posts.category_id = 1 AND posts.published_at > '2009-09-06 15:16:00') AND `users`.id IN (1, 2) ORDER BY users.view_count DESC[0m
Rendering template within layouts/application
Rendering categories/show
Rendered shared/_box (0.0ms)
Rendered users/_sidebar_user (0.0ms)
Rendered users/_sidebar_user (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered posts/_sidebar_post (15.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered posts/_sidebar_post (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered posts/_sidebar_post (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mPost Load (16.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (category_id = 1) AND (published_as = 'live') ORDER BY published_at DESC LIMIT 0, 3[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,3,4) and `taggings`.`taggable_type` = 'Post') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
Rendered posts/_post (16.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 3) [0m
Rendered posts/_post (15.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 4) [0m
Rendered posts/_post (31.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 156ms (View: 109, DB: 32) | 200 OK [http://test.host/categories/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-09-20 16:16:00) [PUT]
  Parameters: {"category"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/categories/1-how-to
Completed in 15ms (DB: 0) | 302 Found [http://test.host/categories/1?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Questions') LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 3) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'How to') LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Inspiration') LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 2) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'News') LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
  [4;36;1mCategory Load (16.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Talk') LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Questions') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.0ms)[0m   [0;1mUPDATE `categories` SET `new_post_text` = 'Ask a question' WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`name` = 'Questions') LIMIT 1[0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mChoice Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mClippingImage Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `assets`[0m
WARNING: Can't mass-assign these protected attributes: attachable
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8558, '2009-09-20 15:16:01', NULL, 'logo.gif', 110, NULL, NULL, NULL, 276, '2009-09-20 15:16:01')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 2 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:01', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 2, 200, '2009-09-20 15:16:01')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 2 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:01', 'medium', 'logo_medium.gif', 80, NULL, NULL, 2, 200, '2009-09-20 15:16:01')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 2 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:01', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 2, 100, '2009-09-20 15:16:01')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at > '2009-09-18 15:15:58')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at < '2009-09-19 15:15:58')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 2) [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (created_at > '2009-09-13 15:16:01') ORDER BY created_at DESC LIMIT 1[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE (clippings.id != 1 AND (clippings_tags.name LIKE 'Misc')) ORDER BY created_at DESC LIMIT 8[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 2) [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClipping Create (0.0ms)[0m   [0;1mINSERT INTO `clippings` (`image_url`, `updated_at`, `url`, `description`, `favorited_count`, `user_id`, `created_at`) VALUES('http://www.google.com/intl/en_ALL/images/logo.gif', '2009-09-20 15:16:02', 'http://example.com', NULL, 0, 1, '2009-09-20 15:16:02')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(3, 'clipping', 1, 'Clipping', '2009-09-20 15:16:02')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:02' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 3)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 3 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:03', NULL, 'logo.gif', 110, 'Clipping', 3, NULL, 276, '2009-09-20 15:16:03')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 6 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:03', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 6, 200, '2009-09-20 15:16:03')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 6 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:03', 'medium', 'logo_medium.gif', 80, NULL, NULL, 6, 200, '2009-09-20 15:16:03')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 6 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:04', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 6, 100, '2009-09-20 15:16:04')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 3 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.parent_id = 6) [0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 7[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 8[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 9[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 6[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 3)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 3 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:04', NULL, 'logo.gif', 110, 'Clipping', 3, NULL, 276, '2009-09-20 15:16:04')[0m
  [4;36;1mClippingImage Load (16.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 10 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:04', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 10, 200, '2009-09-20 15:16:04')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 10 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:05', 'medium', 'logo_medium.gif', 80, NULL, NULL, 10, 200, '2009-09-20 15:16:05')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 10 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:05', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 10, 100, '2009-09-20 15:16:05')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAsset Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 12[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAsset Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 13[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m


Processing ClippingsController#create (for 0.0.0.0 at 2009-09-20 16:16:05) [POST]
  Parameters: {"clipping"=>{"image_url"=>"http://www.google.com/intl/en/images/logo.gif", "url"=>"http://www.google.com"}, "tag_list"=>"tag1, tag2", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClipping Create (0.0ms)[0m   [0mINSERT INTO `clippings` (`image_url`, `updated_at`, `url`, `description`, `favorited_count`, `user_id`, `created_at`) VALUES('http://www.google.com/intl/en/images/logo.gif', '2009-09-20 15:16:05', 'http://www.google.com', NULL, 0, 1, '2009-09-20 15:16:05')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(4, 'clipping', 1, 'Clipping', '2009-09-20 15:16:05')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:05' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 4 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:06', NULL, 'logo.gif', 110, 'Clipping', 4, NULL, 276, '2009-09-20 15:16:06')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 14 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:06', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 14, 200, '2009-09-20 15:16:06')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 14 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:06', 'medium', 'logo_medium.gif', 80, NULL, NULL, 14, 200, '2009-09-20 15:16:06')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 14 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:07', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 14, 100, '2009-09-20 15:16:07')[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(4, 'Clipping', 4)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(5, 'Clipping', 4)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/clippings/4
Completed in 1906ms (DB: 94) | 302 Found [http://test.host/quentin/clippings?clipping%5Bimage_url%5D=http%3A%2F%2Fwww.google.com%2Fintl%2Fen%2Fimages%2Flogo.gif&clipping%5Burl%5D=http%3A%2F%2Fwww.google.com&tag_list=tag1%2C+tag2]
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 4) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#new_clipping (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
  Parameters: {"uri"=>"http://www.google.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering clippings/new_clipping
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_box (0.0ms)
Completed in 78ms (View: 62, DB: 16) | 200 OK [http://test.host/new_clipping?uri=http%3A%2F%2Fwww.google.com]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `clippings` [0m


Processing ClippingsController#destroy (for 0.0.0.0 at 2009-09-20 16:16:07) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;36;1mClippingImage Load (15.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mTagging Destroy (0.0ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 2[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Clipping') [0m
  [4;36;1mClipping Destroy (0.0ms)[0m   [0;1mDELETE FROM `clippings` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/clippings
Completed in 15ms (DB: 15) | 302 Found [http://test.host/quentin/clippings/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `clippings` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#edit (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering clippings/edit
Rendered shared/_box (0.0ms)
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/quentin/clippings/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#index (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN clippings ON clippings.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Clipping' AND `clippings`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
Rendering template within layouts/application
Rendering clippings/index
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 110ms (View: 63, DB: 0) | 200 OK [http://test.host/quentin/clippings]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#index to rss (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN clippings ON clippings.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Clipping' AND `clippings`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 63ms (View: 16, DB: 0) | 200 OK [http://test.host/quentin/clippings.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#new (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering clippings/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/quentin/clippings/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing ClippingsController#index (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
  Parameters: {"user_id"=>#<User id: 10, login: "privateuser", email: "privateuser@example.com", description: "I am a private user, which means you can't see my p...", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:45:48", state_id: nil, metro_area_id: nil, login_slug: "privateuser", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: false, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 10) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN clippings ON clippings.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Clipping' AND `clippings`.`user_id` = 10) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (user_id = 10) ORDER BY created_at DESC LIMIT 0, 0[0m
Rendering template within layouts/application
Rendering clippings/index
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 10) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 10) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (user_id = 10) ORDER BY created_at DESC LIMIT 0, 0[0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (16.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://test.host/privateuser/clippings]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m


Processing ClippingsController#site_index (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((created_at > '2009-08-23 15:16:07')) [0m
Rendering template within layouts/application
Rendering clippings/site_index
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE ((created_at > '2009-08-23 15:16:07')) ORDER BY clippings.favorited_count DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (ip_address = '0.0.0.0' AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (ip_address = '0.0.0.0' AND favoritable_type = 'Clipping' AND favoritable_id = 2) LIMIT 1[0m
Rendered clippings/_clipping (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 63, DB: 0) | 200 OK [http://test.host/clippings]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m


Processing ClippingsController#site_index to rss (for 0.0.0.0 at 2009-09-20 16:16:07) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT clippings.id) AS count_clippings_id FROM `clippings` LEFT OUTER JOIN `taggings` ON (`clippings`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Clipping') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((created_at > '2009-08-23 15:16:07')) [0m
  [4;35;1mClipping Load (15.0ms)[0m   [0mSELECT * FROM `clippings` WHERE ((created_at > '2009-08-23 15:16:07')) ORDER BY clippings.favorited_count DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE ((created_at > '2009-08-23 15:16:07')) ORDER BY clippings.favorited_count DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE ((created_at > '2009-08-23 15:16:07')) ORDER BY clippings.favorited_count DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 157ms (View: 47, DB: 31) | 200 OK [http://test.host/clippings.rss]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing ClippingsController#index (for 0.0.0.0 at 2009-09-20 16:16:08) [GET]
  Parameters: {"user_id"=>#<User id: 10, login: "privateuser", email: "privateuser@example.com", description: "I am a private user, which means you can't see my p...", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:45:48", state_id: nil, metro_area_id: nil, login_slug: "privateuser", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: false, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:find_user] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/privateuser/clippings]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAsset Load (0.0ms)[0m   [0mSELECT * FROM `assets` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#show (for 0.0.0.0 at 2009-09-20 16:16:08) [GET]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at < '2009-09-19 15:15:58')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1 AND (created_at > '2009-09-19 15:15:58')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE (clippings.id != 1 AND (clippings_tags.name LIKE 'Misc')) ORDER BY created_at DESC LIMIT 8[0m
Rendering template within layouts/application
Rendering clippings/show
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (63.0ms)
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
Rendered shared/_box (0.0ms)
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 219ms (View: 156, DB: 16) | 200 OK [http://test.host/quentin/clippings/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAsset Load (15.0ms)[0m   [0;1mSELECT * FROM `assets` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing ClippingsController#update (for 0.0.0.0 at 2009-09-20 16:16:08) [PUT]
  Parameters: {"id"=>"1", "clipping"=>{"url"=>"changed url"}, "tag_list"=>"tagX, tagY", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:09', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:16:09')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 18 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:09', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 18, 200, '2009-09-20 15:16:09')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 18 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:09', 'medium', 'logo_medium.gif', 80, NULL, NULL, 18, 200, '2009-09-20 15:16:09')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 18 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:10', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 18, 100, '2009-09-20 15:16:10')[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Clipping' AND (tag_id IN (2))) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mTagging Destroy (0.0ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tagX') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagX') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tagX')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(6, 'Clipping', 1)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tagY') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagY') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tagY')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(7, 'Clipping', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.parent_id = 18) [0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 19[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 20[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 21[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 18[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `updated_at` = '2009-09-20 15:16:10', `url` = 'changed url' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:11', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:16:11')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 22 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:11', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 22, 200, '2009-09-20 15:16:11')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 22 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:11', 'medium', 'logo_medium.gif', 80, NULL, NULL, 22, 200, '2009-09-20 15:16:11')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 22 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:16:11', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 22, 100, '2009-09-20 15:16:11')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/clippings/1
Completed in 3562ms (DB: 15) | 302 Found [http://test.host/quentin/clippings/1?clipping%5Burl%5D=changed+url&tag_list=tagX%2C+tagY]
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bar@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 2, NULL, 1, NULL, 'foo', NULL, NULL, '2009-09-20 15:16:12', 1)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(8, 'comment', 1, 'Comment', '2009-09-20 15:16:12')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:12' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (user_id = 1) ORDER BY created_at DESC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bruno@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:16:12', 0)[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'alicia@foo.com', 'bar', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (16.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bruno@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bruno@foo.com', 'bar', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bruno@foo.com', 'bar', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bruno@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bruno@foo.com', 'bar', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'alicia@foo.com', 'bar', NULL, '123.123.123', '2009-09-20 15:16:12', 1)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
Sent mail to bruno@foo.com

Date: Sun, 20 Sep 2009 16:16:12 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: bruno@foo.com
Subject: [Community] Anonymous has commented on a User that you also commented on.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey!

Anonymous has added a comment to a User 
that you commented on. Use this link to check it out:

http://localhost:3000/quentin#comment_16 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you believe you received this notice in error, please contact support at
support@community.com


To stop receiving updates about new comments on this User, visit this URL:
http://localhost:3000/comments/unsubscribe?comment_id=16&email=bruno%40foo.com&token=0861898b51a3c81132a22a9101639fa0630b493f
  [4;35;1mSQL (32.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'alicia@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:16:17', 1)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'alicia@foo.com', 'bar', NULL, '123.123.123', '2009-09-20 15:16:17', 1)[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`author_email` = 'alicia@foo.com') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.0ms)[0m   [0;1mUPDATE `comments` SET `notify_by_email` = 0 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.0ms)[0m   [0mUPDATE `comments` SET `notify_by_email` = 0 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 18) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 17) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:16:17) [POST]
  Parameters: {"commentable_type"=>"photo", "commentable_id"=>"1", "comment"=>{"title"=>"test comment on a photo", "comment"=>"hey man, nice pic?"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('Photo', 'test comment on a photo', NULL, 1, 1, 2, NULL, 'hey man, nice pic?', NULL, '0.0.0.0', '2009-09-20 15:16:17', 1)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(19, 'comment', 2, 'Comment', '2009-09-20 15:16:17')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:17' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:16:17 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] aaron has something to say to you on Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has something to say about you! Use this link to see:

http://localhost:3000/quentin/photos/1#comment_19 

Thanks,
The Community team
  [4;36;1mUser Load IDs For Limited Eager Loading (0.0ms)[0m   [0;1mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (2,1) AND users.notify_comments = 1 
 AND commentable_id = 1 AND commentable_type = 'Photo' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2009-09-06 15:16:25') LIMIT 20[0m
Redirected to http://test.host/quentin/photos/1#comment_19
Completed in 8375ms (DB: 157) | 302 Found [http://test.host/photo/1/comments?comment%5Bcomment%5D=hey+man%2C+nice+pic%3F&comment%5Btitle%5D=test+comment+on+a+photo]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:16:25) [POST]
  Parameters: {"commentable_type"=>"post", "commentable_id"=>"1", "comment"=>{"title"=>"test comment on a posts", "comment"=>"hey man, nice posts?"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('Post', 'test comment on a posts', NULL, 1, 1, 2, NULL, 'hey man, nice posts?', NULL, '0.0.0.0', '2009-09-20 15:16:25', 1)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(20, 'comment', 2, 'Comment', '2009-09-20 15:16:25')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:25' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:16:25 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] aaron has something to say to you on Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has something to say about you! Use this link to see:

http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love#comment_20 

Thanks,
The Community team
  [4;35;1mUser Load IDs For Limited Eager Loading (0.0ms)[0m   [0mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (2,1) AND users.notify_comments = 1 
 AND commentable_id = 1 AND commentable_type = 'Post' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2009-09-06 15:16:37') LIMIT 20[0m
Redirected to http://test.host/quentin/posts/1-building-communities-is-all-about-love#comment_20
Completed in 11437ms (DB: 31) | 302 Found [http://test.host/post/1/comments?comment%5Bcomment%5D=hey+man%2C+nice+posts%3F&comment%5Btitle%5D=test+comment+on+a+posts]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (32.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:16:37) [POST]
  Parameters: {"commentable_type"=>"user", "commentable_id"=>"2", "comment"=>{"title"=>"test comment to quentin", "comment"=>"hey man, how are you?"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', 'test comment to quentin', NULL, 2, 2, 5, NULL, 'hey man, how are you?', NULL, '0.0.0.0', '2009-09-20 15:16:37', 1)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(21, 'comment', 5, 'Comment', '2009-09-20 15:16:37')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 5) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:37' WHERE `id` = 5[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to aaron@example.com

Date: Sun, 20 Sep 2009 16:16:37 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] dwreach has something to say to you on Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey aaron!

dwreach has something to say about you! Use this link to see:

http://localhost:3000/aaron#comment_21 

Thanks,
The Community team
  [4;36;1mUser Load IDs For Limited Eager Loading (0.0ms)[0m   [0;1mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (5,2) AND users.notify_comments = 1 
 AND commentable_id = 2 AND commentable_type = 'User' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2009-09-06 15:16:45') LIMIT 20[0m
  [4;35;1mUser Load Including Associations (0.0ms)[0m   [0mSELECT `users`.`id` AS t0_r0, `users`.`login` AS t0_r1, `users`.`email` AS t0_r2, `users`.`description` AS t0_r3, `users`.`avatar_id` AS t0_r4, `users`.`crypted_password` AS t0_r5, `users`.`salt` AS t0_r6, `users`.`created_at` AS t0_r7, `users`.`updated_at` AS t0_r8, `users`.`remember_token` AS t0_r9, `users`.`remember_token_expires_at` AS t0_r10, `users`.`stylesheet` AS t0_r11, `users`.`view_count` AS t0_r12, `users`.`vendor` AS t0_r13, `users`.`activation_code` AS t0_r14, `users`.`activated_at` AS t0_r15, `users`.`state_id` AS t0_r16, `users`.`metro_area_id` AS t0_r17, `users`.`login_slug` AS t0_r18, `users`.`notify_comments` AS t0_r19, `users`.`notify_friend_requests` AS t0_r20, `users`.`notify_community_news` AS t0_r21, `users`.`country_id` AS t0_r22, `users`.`featured_writer` AS t0_r23, `users`.`last_login_at` AS t0_r24, `users`.`zip` AS t0_r25, `users`.`birthday` AS t0_r26, `users`.`gender` AS t0_r27, `users`.`profile_public` AS t0_r28, `users`.`activities_count` AS t0_r29, `users`.`sb_posts_count` AS t0_r30, `users`.`sb_last_seen_at` AS t0_r31, `users`.`role_id` AS t0_r32, `comments`.`id` AS t1_r0, `comments`.`title` AS t1_r1, `comments`.`created_at` AS t1_r2, `comments`.`commentable_id` AS t1_r3, `comments`.`commentable_type` AS t1_r4, `comments`.`user_id` AS t1_r5, `comments`.`recipient_id` AS t1_r6, `comments`.`comment` AS t1_r7, `comments`.`author_name` AS t1_r8, `comments`.`author_email` AS t1_r9, `comments`.`author_url` AS t1_r10, `comments`.`author_ip` AS t1_r11, `comments`.`notify_by_email` AS t1_r12 FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (5,2) AND users.notify_comments = 1 
 AND commentable_id = 2 AND commentable_type = 'User' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2009-09-06 15:16:45') AND `users`.id IN (1) [0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:16:45 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] dwreach has commented on a User that you also commented on.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

dwreach has added a comment to a User 
that you commented on. Use this link to check it out:

http://localhost:3000/aaron#comment_21 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//quentin/edit_account
Redirected to http://test.host/aaron#comment_21
Completed in 17797ms (DB: 32) | 302 Found [http://test.host/user/2/comments?comment%5Bcomment%5D=hey+man%2C+how+are+you%3F&comment%5Btitle%5D=test+comment+to+quentin]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:16:54) [POST]
  Parameters: {"commentable_type"=>"user", "commentable_id"=>"1", "comment"=>{"title"=>"test comment to quentin", "comment"=>"hey man, how are you?"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', 'test comment to quentin', NULL, 1, 1, 2, NULL, 'hey man, how are you?', NULL, '0.0.0.0', '2009-09-20 15:16:54', 1)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(22, 'comment', 2, 'Comment', '2009-09-20 15:16:54')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:16:54' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:16:54 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] aaron has something to say to you on Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has something to say about you! Use this link to see:

http://localhost:3000/quentin#comment_22 

Thanks,
The Community team
  [4;36;1mUser Load IDs For Limited Eager Loading (0.0ms)[0m   [0;1mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (2,1) AND users.notify_comments = 1 
 AND commentable_id = 1 AND commentable_type = 'User' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2009-09-06 15:17:03') LIMIT 20[0m
Redirected to http://test.host/quentin#comment_22
Completed in 9031ms (DB: 31) | 302 Found [http://test.host/user/1/comments?comment%5Bcomment%5D=hey+man%2C+how+are+you%3F&comment%5Btitle%5D=test+comment+to+quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `notify_comments` = 0, `updated_at` = '2009-09-20 15:17:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:17:04) [POST]
  Parameters: {"commentable_type"=>"user", "commentable_id"=>"1", "comment"=>{"title"=>"test comment to quentin", "comment"=>"hey man, how are you?"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', 'test comment to quentin', NULL, 1, 1, 2, NULL, 'hey man, how are you?', NULL, '0.0.0.0', '2009-09-20 15:17:04', 1)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(23, 'comment', 2, 'Comment', '2009-09-20 15:17:04')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:04' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load IDs For Limited Eager Loading (0.0ms)[0m   [0mSELECT DISTINCT `users`.id FROM `users` LEFT OUTER JOIN `comments` ON comments.user_id = users.id WHERE (users.id NOT IN (2,1) AND users.notify_comments = 1 
 AND commentable_id = 1 AND commentable_type = 'User' 
 AND comments.notify_by_email = 1 
 AND comments.created_at > '2009-09-06 15:17:04') LIMIT 20[0m
Redirected to http://test.host/quentin#comment_23
Completed in 313ms (DB: 47) | 302 Found [http://test.host/user/1/comments?comment%5Bcomment%5D=hey+man%2C+how+are+you%3F&comment%5Btitle%5D=test+comment+to+quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-09-20 16:17:04) [DELETE]
  Parameters: {"commentable_type"=>"Post", "commentable_id"=>"1", "id"=>#<Comment id: 1, title: "I want to comment on this post", created_at: "2009-09-16 15:15:48", commentable_id: 1, commentable_type: "Post", user_id: 1, recipient_id: 1, comment: "I think you are really cool", author_name: nil, author_email: nil, author_url: nil, author_ip: nil, notify_by_email: true>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 47ms (DB: 62) | 302 Found [http://test.host/Post/1/comments/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:17:04) [POST]
  Parameters: {"commentable_type"=>"unkown_commentable_type", "commentable_id"=>"1", "comment"=>{"title"=>"test comment on a posts", "comment"=>"hey man, nice posts?"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:17:04) [POST]
  Parameters: {"commentable_type"=>"photo", "commentable_id"=>"1", "comment"=>{"title"=>"test comment on a photo", "comment"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/photos/show/1
Completed in 93ms (DB: 0) | 302 Found [http://test.host/photo/1/comments?comment%5Bcomment%5D=&comment%5Btitle%5D=test+comment+on+a+photo]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:17:04) [POST]
  Parameters: {"commentable_type"=>"post", "commentable_id"=>"1", "comment"=>{"title"=>"test comment on a posts", "comment"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/posts/show/1
Completed in 94ms (DB: 0) | 302 Found [http://test.host/post/1/comments?comment%5Bcomment%5D=&comment%5Btitle%5D=test+comment+on+a+posts]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#create (for 0.0.0.0 at 2009-09-20 16:17:05) [POST]
  Parameters: {"commentable_type"=>"user", "commentable_id"=>"1", "comment"=>{"title"=>"test comment to quentin", "comment"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/1
Completed in 62ms (DB: 0) | 302 Found [http://test.host/user/1/comments?comment%5Bcomment%5D=&comment%5Btitle%5D=test+comment+to+quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mComment Create (0.0ms)[0m   [0;1mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bar@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:17:05', 1)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing CommentsController#unsubscribe (for 0.0.0.0 at 2009-09-20 16:17:05) [POST]
  Parameters: {"commentable_type"=>"User", "token"=>"badtokengoeshere", "commentable_id"=>"quentin", "comment_id"=>"24"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 24) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/quentin#comment_24
Completed in 16ms (DB: 16) | 302 Found [http://test.host/comments/unsubscribe?comment_id=24&commentable_id=quentin&commentable_type=User&token=badtokengoeshere]
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 24) [0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-09-20 16:17:05) [DELETE]
  Parameters: {"commentable_type"=>"Post", "commentable_id"=>"1", "id"=>#<Comment id: 1, title: "I want to comment on this post", created_at: "2009-09-16 15:15:48", commentable_id: 1, commentable_type: "Post", user_id: 1, recipient_id: 1, comment: "I think you are really cool", author_name: nil, author_email: nil, author_url: nil, author_ip: nil, notify_by_email: true>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 1) [0m
Redirected to http://test.host/users
Completed in 234ms (DB: 31) | 302 Found [http://test.host/Post/1/comments/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing CommentsController#index (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"privateuser"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('privateuser')) LIMIT 1[0m
Redirected to http://test.host/login
Completed in 15ms (DB: 0) | 302 Found [http://test.host/privateuser/comments]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#index (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('aaron')) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendering template within layouts/application
Rendering comments/index
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered comments/_comment (15.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered comments/_comment (0.0ms)
Rendered comments/_comment_form (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 93, DB: 16) | 200 OK [http://test.host/aaron/comments]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#index to rss (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('aaron')) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://test.host/aaron/comments.rss]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing CommentsController#index to rss (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('aaron')) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Completed in 47ms (View: 15, DB: 0) | 200 OK [http://test.host/aaron/comments.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#index (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 0[0m
Rendering template within layouts/application
Rendering comments/index
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (16.0ms)
Rendered comments/_comment_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 2 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/quentin/comments]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing CommentsController#index to rss (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 0[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 0[0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://test.host/quentin/comments.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing CommentsController#index (for 0.0.0.0 at 2009-09-20 16:17:05) [GET]
  Parameters: {"user_id"=>"privateuser"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('privateuser')) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(comments.id) AS count_comments_id FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendering template within layouts/application
Rendering comments/index
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 10) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 10) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (16.0ms)
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') AND (`comments`.commentable_id = 10 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Rendered comments/_comment (0.0ms)
Rendered comments/_comment_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 47, DB: 0) | 200 OK [http://test.host/privateuser/comments]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mComment Create (0.0ms)[0m   [0mINSERT INTO `comments` (`commentable_type`, `title`, `author_name`, `commentable_id`, `recipient_id`, `user_id`, `author_email`, `comment`, `author_url`, `author_ip`, `created_at`, `notify_by_email`) VALUES('User', '', NULL, 1, 1, 0, 'bar@foo.com', 'foo', NULL, '123.123.123', '2009-09-20 15:17:06', 1)[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing CommentsController#unsubscribe (for 0.0.0.0 at 2009-09-20 16:17:06) [POST]
  Parameters: {"token"=>"0d304a8627ed9778ad0ac8acd810263f5ea0d919", "comment_id"=>"25", "email"=>"bar@foo.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 25) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`author_email` = 'bar@foo.com') AND (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.0ms)[0m   [0;1mUPDATE `comments` SET `notify_by_email` = 0 WHERE `id` = 25[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/quentin#comment_25
Completed in 16ms (DB: 15) | 302 Found [http://test.host/comments/unsubscribe?comment_id=25&email=bar%40foo.com&token=0d304a8627ed9778ad0ac8acd810263f5ea0d919]
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 25) [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mContest Load (0.0ms)[0m   [0;1mSELECT * FROM `contests` WHERE (begin_date < '2009-09-20 16:17:06' AND end_date > '2009-09-20 16:17:06') ORDER BY created_at desc LIMIT 1[0m
  [4;35;1mContest Load (0.0ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mContest Create (0.0ms)[0m   [0mINSERT INTO `contests` (`end_date`, `banner_subtitle`, `updated_at`, `title`, `post`, `raw_post`, `begin_date`, `banner_title`, `created_at`) VALUES('2009-10-20 15:17:06', 'test contest', '2009-09-20 15:17:06', 'test contest', '&lt;script>&lt;/script>', '<script></script>', '2009-09-20 15:17:06', 'test contest', '2009-09-20 15:17:06')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `contests` [0m


Processing ContestsController#create (for 0.0.0.0 at 2009-09-20 16:17:06) [POST]
  Parameters: {"contest"=>{"end_date"=>"2009-09-20 15:17:06 UTC", "banner_subtitle"=>"created from tests", "title"=>"created from tests", "begin_date"=>"2008-05-08 15:17:06 UTC", "banner_title"=>"created from tests"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mContest Create (0.0ms)[0m   [0mINSERT INTO `contests` (`end_date`, `banner_subtitle`, `updated_at`, `title`, `post`, `raw_post`, `begin_date`, `banner_title`, `created_at`) VALUES('2009-09-20 15:17:06', 'created from tests', '2009-09-20 15:17:06', 'created from tests', NULL, NULL, '2008-05-08 15:17:06', 'created from tests', '2009-09-20 15:17:06')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/contests/4
Completed in 32ms (DB: 47) | 302 Found [http://test.host/contests?contest%5Bbanner_subtitle%5D=created+from+tests&contest%5Bbanner_title%5D=created+from+tests&contest%5Bbegin_date%5D=2008-05-08+15%3A17%3A06+UTC&contest%5Bend_date%5D=2009-09-20+15%3A17%3A06+UTC&contest%5Btitle%5D=created+from+tests]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `contests` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `contests` [0m


Processing ContestsController#destroy (for 0.0.0.0 at 2009-09-20 16:17:06) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mContest Load (0.0ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mContest Destroy (0.0ms)[0m   [0mDELETE FROM `contests` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/contests
Completed in 0ms (DB: 0) | 302 Found [http://test.host/contests/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `contests` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ContestsController#update (for 0.0.0.0 at 2009-09-20 16:17:06) [PUT]
  Parameters: {"contest"=>{"title"=>nil}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mContest Load (0.0ms)[0m   [0;1mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering contests/edit
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://test.host/contests/1?contest%5Btitle%5D=]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ContestsController#edit (for 0.0.0.0 at 2009-09-20 16:17:06) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mContest Load (0.0ms)[0m   [0;1mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
Rendering template within layouts/application
Rendering contests/edit
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/contests/1/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ContestsController#index (for 0.0.0.0 at 2009-09-20 16:17:06) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mContest Load (0.0ms)[0m   [0;1mSELECT * FROM `contests` [0m
Rendering template within layouts/application
Rendering contests/index
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/contests]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ContestsController#new (for 0.0.0.0 at 2009-09-20 16:17:06) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering contests/new
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/contests/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `contests` [0m


Processing ContestsController#create (for 0.0.0.0 at 2009-09-20 16:17:06) [POST]
  Parameters: {"contest"=>{"end_date"=>"2009-09-20 15:17:06 UTC", "banner_subtitle"=>"created from tests", "begin_date"=>"2008-05-08 15:17:06 UTC", "banner_title"=>"created from tests"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering contests/new
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 250ms (View: 234, DB: 0) | 200 OK [http://test.host/contests?contest%5Bbanner_subtitle%5D=created+from+tests&contest%5Bbanner_title%5D=created+from+tests&contest%5Bbegin_date%5D=2008-05-08+15%3A17%3A06+UTC&contest%5Bend_date%5D=2009-09-20+15%3A17%3A06+UTC]
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `contests` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ContestsController#show (for 0.0.0.0 at 2009-09-20 16:17:06) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mContest Load (0.0ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
Rendering template within layouts/application
Rendering contests/show
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.contest_id = 1) AND (published_as = 'live') ORDER BY published_at desc[0m
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 16) | 200 OK [http://test.host/contests/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ContestsController#update (for 0.0.0.0 at 2009-09-20 16:17:06) [PUT]
  Parameters: {"contest"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mContest Load (0.0ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/contests/1
Completed in 15ms (DB: 15) | 302 Found [http://test.host/contests/1?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`name` = 'United States') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (end_time <= '2009-09-20 16:17:06') ORDER BY start_time DESC[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (end_time <= '2009-09-20 16:17:06') ORDER BY start_time DESC[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 4) [0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (end_time > '2009-09-20 16:17:06') ORDER BY start_time[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (end_time > '2009-09-20 16:17:06') ORDER BY start_time[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#index (for 0.0.0.0 at 2009-09-20 16:17:07) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(events.id) AS count_events_id FROM `events` WHERE (end_time > '2009-09-20 16:17:07') [0m
Rendering template within layouts/application
Rendering events/index
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered events/_subscribe (15.0ms)
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (end_time > '2009-09-20 16:17:07') ORDER BY start_time LIMIT 0, 2[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mRsvp Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `rsvps`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`user_id` = 4) AND (`rsvps`.event_id = 2) LIMIT 1[0m
Rendered events/_event (16.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 3) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 3) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`user_id` = 4) AND (`rsvps`.event_id = 3) LIMIT 1[0m
Rendered events/_event (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 31, DB: 78) | 200 OK [http://test.host/events]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#past (for 0.0.0.0 at 2009-09-20 16:17:07) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(events.id) AS count_events_id FROM `events` WHERE (end_time <= '2009-09-20 16:17:07') [0m
Rendering template within layouts/application
Rendering events/index
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (16.0ms)
Rendered events/_subscribe (16.0ms)
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (end_time <= '2009-09-20 16:17:07') ORDER BY start_time DESC LIMIT 0, 3[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 4) [0m
Rendered events/_event (0.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 1) [0m
Rendered events/_event (16.0ms)
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 5) [0m
Rendered events/_event (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 63, DB: 0) | 200 OK [http://test.host/events/past]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m


Processing EventsController#create (for 0.0.0.0 at 2009-09-20 16:17:07) [POST]
  Parameters: {"event"=>{"name"=>"New event", "description"=>"A great event", "end_time"=>Sun Sep 20 16:17:07 +0100 2009, "start_time"=>Sat, 19 Sep 2009 15:17:07 UTC +00:00}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Create (0.0ms)[0m   [0;1mINSERT INTO `events` (`name`, `updated_at`, `description`, `metro_area_id`, `user_id`, `created_at`, `start_time`, `end_time`, `location`) VALUES('New event', '2009-09-20 15:17:07', 'A great event', NULL, 4, '2009-09-20 15:17:07', '2009-09-19 15:17:07', '2009-09-20 15:17:07', NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(6, 'event', 4, 'Event', '2009-09-20 15:17:07')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 4) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `login_slug` = 'administrator', `activities_count` = 1, `updated_at` = '2009-09-20 15:17:07' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/events/6
Completed in 32ms (DB: 0) | 302 Found [http://test.host/events?event%5Bdescription%5D=A+great+event&event%5Bend_time%5D=Sun+Sep+20+16%3A17%3A07+%2B0100+2009&event%5Bname%5D=New+event&event%5Bstart_time%5D=2009-09-19+15%3A17%3A07+UTC]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m


Processing EventsController#destroy (for 0.0.0.0 at 2009-09-20 16:17:07) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Event') [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.event_id = 1) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Event') [0m
  [4;36;1mEvent Destroy (0.0ms)[0m   [0;1mDELETE FROM `events` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/events
Completed in 0ms (DB: 31) | 302 Found [http://test.host/events/1]
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `events` [0m


Processing EventsController#create (for 0.0.0.0 at 2009-09-20 16:17:07) [POST]
  Parameters: {"event"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering events/new
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (15.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 62, DB: 16) | 200 OK [http://test.host/events?]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `events` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#update (for 0.0.0.0 at 2009-09-20 16:17:07) [PUT]
  Parameters: {"event"=>{"name"=>nil}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering events/edit
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 281ms (View: 266, DB: 0) | 200 OK [http://test.host/events/1?event%5Bname%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#edit (for 0.0.0.0 at 2009-09-20 16:17:07) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 1) [0m
  [4;35;1mState Load Including Associations (0.0ms)[0m   [0mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (1,2,3)) [0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering events/edit
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 47, DB: 0) | 200 OK [http://test.host/events/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing EventsController#ical to ics (for 0.0.0.0 at 2009-09-20 16:17:08) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Completed in 47ms (View: 0, DB: 0) | 200 OK [http://test.host/events/ical.ics]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#index (for 0.0.0.0 at 2009-09-20 16:17:08) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(events.id) AS count_events_id FROM `events` WHERE (end_time > '2009-09-20 16:17:08') [0m
Rendering template within layouts/application
Rendering events/index
Rendered shared/_box (0.0ms)
Rendered shared/_box (16.0ms)
Rendered shared/_box (0.0ms)
Rendered events/_subscribe (0.0ms)
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (end_time > '2009-09-20 16:17:08') ORDER BY start_time LIMIT 0, 2[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`user_id` = 4) AND (`rsvps`.event_id = 2) LIMIT 1[0m
Rendered events/_event (16.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 3) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT sum(`rsvps`.attendees_count) AS sum_attendees_count FROM `rsvps` WHERE (`rsvps`.event_id = 3) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`user_id` = 4) AND (`rsvps`.event_id = 3) LIMIT 1[0m
Rendered events/_event (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 63, DB: 0) | 200 OK [http://test.host/events]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#new (for 0.0.0.0 at 2009-09-20 16:17:08) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering events/new
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/events/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing EventsController#update (for 0.0.0.0 at 2009-09-20 16:17:08) [PUT]
  Parameters: {"event"=>{"name"=>"changed name"}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mEvent Update (0.0ms)[0m   [0;1mUPDATE `events` SET `metro_area_id` = NULL, `updated_at` = '2009-09-20 15:17:08', `name` = 'changed name' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/events/1
Completed in 16ms (DB: 0) | 302 Found [http://test.host/events/1?event%5Bname%5D=changed+name]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mFavorite Columns (0.0ms)[0m   [0;1mSHOW FIELDS FROM `favorites`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:08', 'Clipping', 1, NULL, '2009-09-20 15:17:08', '127.0.0.1')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.0ms)[0m   [0mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:08' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:08', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:08')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 26 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (15.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:09', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 26, 200, '2009-09-20 15:17:09')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 26 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:09', 'medium', 'logo_medium.gif', 80, NULL, NULL, 26, 200, '2009-09-20 15:17:09')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 26 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:09', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 26, 100, '2009-09-20 15:17:09')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (15.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:09', 'Clipping', 1, 1, '2009-09-20 15:17:09', '127.0.0.1')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(2, 'favorite', 1, 'Favorite', '2009-09-20 15:17:09')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.0ms)[0m   [0mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:09' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:09', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:09')[0m
  [4;36;1mClippingImage Load (16.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 30 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:10', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 30, 200, '2009-09-20 15:17:10')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 30 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:10', 'medium', 'logo_medium.gif', 80, NULL, NULL, 30, 200, '2009-09-20 15:17:10')[0m
  [4;36;1mClippingImage Load (15.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 30 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:10', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 30, 100, '2009-09-20 15:17:10')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:10', 'Clipping', 1, NULL, '2009-09-20 15:17:10', '127.0.0.1')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:10' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:11', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:11')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 34 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:11', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 34, 200, '2009-09-20 15:17:11')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 34 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:11', 'medium', 'logo_medium.gif', 80, NULL, NULL, 34, 200, '2009-09-20 15:17:11')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 34 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:11', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 34, 100, '2009-09-20 15:17:11')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type IS NULL AND `favorites`.favoritable_id IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:12', 'Clipping', 1, NULL, '2009-09-20 15:17:12', '127.0.0.1')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:12', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:12')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 38 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:12', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 38, 200, '2009-09-20 15:17:12')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 38 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (15.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:13', 'medium', 'logo_medium.gif', 80, NULL, NULL, 38, 200, '2009-09-20 15:17:13')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 38 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:13', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 38, 100, '2009-09-20 15:17:13')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Favorite') [0m
  [4;36;1mFavorite Destroy (0.0ms)[0m   [0;1mDELETE FROM `favorites` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 0, `updated_at` = '2009-09-20 15:17:13' WHERE `id` = 1[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.parent_id = 38) [0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 39[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 40[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 41[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 38[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:13', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:13')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 42 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:13', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 42, 200, '2009-09-20 15:17:13')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 42 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (16.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:14', 'medium', 'logo_medium.gif', 80, NULL, NULL, 42, 200, '2009-09-20 15:17:14')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 42 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:14', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 42, 100, '2009-09-20 15:17:14')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (15.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:14', 'Clipping', 1, NULL, '2009-09-20 15:17:14', '127.0.0.1')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:14', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:14')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 46 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:15', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 46, 200, '2009-09-20 15:17:15')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 46 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:15', 'medium', 'logo_medium.gif', 80, NULL, NULL, 46, 200, '2009-09-20 15:17:15')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 46 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:15', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 46, 100, '2009-09-20 15:17:15')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (ip_address = '127.0.0.1' AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:15', 'Clipping', 1, 1, '2009-09-20 15:17:15', '127.0.0.1')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(6, 'favorite', 1, 'Favorite', '2009-09-20 15:17:15')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:15' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:15' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:16', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:16')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 50 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:16', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 50, 200, '2009-09-20 15:17:16')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 50 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (15.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:16', 'medium', 'logo_medium.gif', 80, NULL, NULL, 50, 200, '2009-09-20 15:17:16')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 50 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:16', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 50, 100, '2009-09-20 15:17:16')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:16', 'Clipping', 1, 1, '2009-09-20 15:17:16', '127.0.0.1')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(7, 'favorite', 1, 'Favorite', '2009-09-20 15:17:16')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:16' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (16.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:16' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:17', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:17')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 54 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:17', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 54, 200, '2009-09-20 15:17:17')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 54 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:17', 'medium', 'logo_medium.gif', 80, NULL, NULL, 54, 200, '2009-09-20 15:17:17')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 54 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:18', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 54, 100, '2009-09-20 15:17:18')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1) ORDER BY created_at DESC[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (16.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.1' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:18', 'Clipping', 1, NULL, '2009-09-20 15:17:18', '127.0.0.1')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.0ms)[0m   [0mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:18', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:18')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 58 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:18', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 58, 200, '2009-09-20 15:17:18')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 58 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:19', 'medium', 'logo_medium.gif', 80, NULL, NULL, 58, 200, '2009-09-20 15:17:19')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 58 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:19', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 58, 100, '2009-09-20 15:17:19')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '127.0.0.2' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:19', 'Clipping', 1, NULL, '2009-09-20 15:17:19', '127.0.0.2')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.0ms)[0m   [0mUPDATE `clippings` SET `favorited_count` = 2, `updated_at` = '2009-09-20 15:17:19' WHERE `id` = 1[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.parent_id = 58) [0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 59[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 60[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 61[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 58[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:19', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:19')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 62 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:20', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 62, 200, '2009-09-20 15:17:20')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 62 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:20', 'medium', 'logo_medium.gif', 80, NULL, NULL, 62, 200, '2009-09-20 15:17:20')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 62 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:20', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 62, 100, '2009-09-20 15:17:20')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2009-09-20 16:17:20) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`ip_address` = BINARY '0.0.0.0' AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:20', 'Clipping', 1, NULL, '2009-09-20 15:17:20', '0.0.0.0')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.0ms)[0m   [0mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:20' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:20', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:20')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 66 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:21', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 66, 200, '2009-09-20 15:17:21')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 66 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:21', 'medium', 'logo_medium.gif', 80, NULL, NULL, 66, 200, '2009-09-20 15:17:21')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 66 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:21', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 66, 100, '2009-09-20 15:17:21')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (ip_address = '0.0.0.0' AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (ip_address = '0.0.0.0' AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_meta (16.0ms)
Completed in 1500ms (View: 31, DB: 311) | 200 OK [http://test.host/clipping/1/favorites.js]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2009-09-20 16:17:22) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:22', 'Clipping', 1, 1, '2009-09-20 15:17:22', '0.0.0.0')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(11, 'favorite', 1, 'Favorite', '2009-09-20 15:17:22')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:22' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mClipping Update (0.0ms)[0m   [0mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:22' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:22', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:22')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 70 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:22', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 70, 200, '2009-09-20 15:17:22')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 70 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:23', 'medium', 'logo_medium.gif', 80, NULL, NULL, 70, 200, '2009-09-20 15:17:23')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 70 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:23', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 70, 100, '2009-09-20 15:17:23')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_meta (0.0ms)
Completed in 1265ms (View: 15, DB: 47) | 200 OK [http://test.host/clipping/1/favorites.js]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2009-09-20 16:17:23) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:23', 'Clipping', 1, 1, '2009-09-20 15:17:23', '0.0.0.0')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(12, 'favorite', 1, 'Favorite', '2009-09-20 15:17:23')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:23' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (16.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:23' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:23', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:23')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 74 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:24', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 74, 200, '2009-09-20 15:17:24')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 74 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:24', 'medium', 'logo_medium.gif', 80, NULL, NULL, 74, 200, '2009-09-20 15:17:24')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 74 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:24', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 74, 100, '2009-09-20 15:17:24')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_meta (0.0ms)
Completed in 1422ms (View: 16, DB: 16) | 200 OK [http://test.host/clipping/1/favorites.js]
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 1) ORDER BY created_at ASC LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` [0m


Processing FavoritesController#destroy to js (for 0.0.0.0 at 2009-09-20 16:17:23) [DELETE]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1", "id"=>"12"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.`id` = 12 AND (`favorites`.user_id = 1)) ORDER BY created_at desc[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 12 AND `activities`.item_type = 'Favorite') [0m
  [4;36;1mActivity Destroy (0.0ms)[0m   [0;1mDELETE FROM `activities` WHERE `id` = 19[0m
  [4;35;1mFavorite Destroy (0.0ms)[0m   [0mDELETE FROM `favorites` WHERE `id` = 12[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 0, `updated_at` = '2009-09-20 15:17:24' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.parent_id = 74) [0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 75[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 76[0m
  [4;36;1mClippingImage Destroy (0.0ms)[0m   [0;1mDELETE FROM `assets` WHERE `id` = 77[0m
  [4;35;1mClippingImage Destroy (0.0ms)[0m   [0mDELETE FROM `assets` WHERE `id` = 74[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:25', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:25')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 78 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:25', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 78, 200, '2009-09-20 15:17:25')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 78 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:25', 'medium', 'logo_medium.gif', 80, NULL, NULL, 78, 200, '2009-09-20 15:17:25')[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 78 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mClippingImage Create (0.0ms)[0m   [0mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:25', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 78, 100, '2009-09-20 15:17:25')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/destroy
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_meta (15.0ms)
Completed in 1171ms (View: 15, DB: 0) | 200 OK [http://test.host/clipping/1/favorites.js]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `favorites` [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2009-09-20 16:17:25) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:25', 'Clipping', 1, 1, '2009-09-20 15:17:25', '0.0.0.0')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(13, 'favorite', 1, 'Favorite', '2009-09-20 15:17:25')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (16.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:25' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:26', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:26')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 82 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:26', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 82, 200, '2009-09-20 15:17:26')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 82 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:27', 'medium', 'logo_medium.gif', 80, NULL, NULL, 82, 200, '2009-09-20 15:17:27')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 82 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:27', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 82, 100, '2009-09-20 15:17:27')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (15.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_meta (0.0ms)
Completed in 1375ms (View: 15, DB: 63) | 200 OK [http://test.host/clipping/1/favorites.js]


Processing FavoritesController#index (for 0.0.0.0 at 2009-09-20 16:17:25) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(favorites.id) AS count_favorites_id FROM `favorites` WHERE (user_id = 1) [0m
Rendering template within layouts/application
Rendering favorites/index
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 0, 1[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (0.0ms)
Rendered favorites/_favorite (0.0ms)
Rendered shared/_box (15.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/clipping/1/favorites.js]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m


Processing FavoritesController#create to js (for 0.0.0.0 at 2009-09-20 16:17:27) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mFavorite Create (0.0ms)[0m   [0;1mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:17:27', 'Clipping', 1, 1, '2009-09-20 15:17:27', '0.0.0.0')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(14, 'favorite', 1, 'Favorite', '2009-09-20 15:17:27')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:17:27' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mClipping Update (0.0ms)[0m   [0;1mUPDATE `clippings` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:17:27' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:28', NULL, 'logo.gif', 110, 'Clipping', 1, NULL, 276, '2009-09-20 15:17:28')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 86 AND `assets`.`thumbnail` = 'medium_square') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:28', 'medium_square', 'logo_medium_square.gif', 200, NULL, NULL, 86, 200, '2009-09-20 15:17:28')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 86 AND `assets`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:28', 'medium', 'logo_medium.gif', 80, NULL, NULL, 86, 200, '2009-09-20 15:17:28')[0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.`parent_id` = 86 AND `assets`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mClippingImage Create (0.0ms)[0m   [0;1mINSERT INTO `assets` (`content_type`, `size`, `updated_at`, `thumbnail`, `filename`, `height`, `attachable_type`, `attachable_id`, `parent_id`, `width`, `created_at`) VALUES('image/gif', 8568, '2009-09-20 15:17:28', 'thumb', 'logo_thumb.gif', 100, NULL, NULL, 86, 100, '2009-09-20 15:17:28')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering favorites/create
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_clipping (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Clipping' AND favoritable_id = 1) LIMIT 1[0m
Rendered clippings/_meta (0.0ms)
Completed in 1329ms (View: 16, DB: 0) | 200 OK [http://test.host/clipping/1/favorites.js]


Processing FavoritesController#create to js (for 0.0.0.0 at 2009-09-20 16:17:27) [POST]
  Parameters: {"favoritable_type"=>"clipping", "favoritable_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Clipping' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering favorites/create
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://test.host/clipping/1/favorites.js]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (16.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY replied_at desc LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.forum_id = 1) ORDER BY sb_posts.created_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 5) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.forum_id = 1) ORDER BY sb_posts.created_at desc[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `forums` [0m


Processing ForumsController#create (for 0.0.0.0 at 2009-09-20 16:17:28) [POST]
  Parameters: {"forum"=>{"name"=>"yeah"}, "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mForum Create (0.0ms)[0m   [0;1mINSERT INTO `forums` (`name`, `topics_count`, `description_html`, `description`, `owner_id`, `sb_posts_count`, `position`, `owner_type`) VALUES('yeah', 0, '', NULL, NULL, 0, 1, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Forum') AND (`taggings`.taggable_id = 3)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(8, 'Forum', 3)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(9, 'Forum', 3)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums
Completed in 47ms (DB: 63) | 302 Found [http://test.host/forums?forum%5Bname%5D=yeah&tag_list=tag1%2C+tag2]
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`name` = 'yeah') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Forum') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `forums` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `forums` [0m


Processing ForumsController#destroy (for 0.0.0.0 at 2009-09-20 16:17:29) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Forum') [0m
  [4;36;1mModeratorship Load (0.0ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.forum_id = 1) [0m
  [4;35;1mModeratorship Destroy (0.0ms)[0m   [0mDELETE FROM `moderatorships` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (15.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 5[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;35;1mSbPost Destroy (15.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;35;1mTopic Load (15.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;35;1mForum Destroy (0.0ms)[0m   [0mDELETE FROM `forums` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums
Completed in 344ms (DB: 45) | 302 Found [http://test.host/forums/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `forums` [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ForumsController#edit (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Rendering template within layouts/application
Rendering forums/edit
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Forum') AND (`taggings`.taggable_id = 1)) [0m
Rendered forums/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 47, DB: 31) | 200 OK [http://test.host/forums/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ForumsController#index (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` ORDER BY position[0m
Rendering template within layouts/application
Rendering forums/index
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (sb_posts_count>0) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.forum_id = 1) ORDER BY sb_posts.created_at desc LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.forum_id = 2) ORDER BY sb_posts.created_at desc LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (sb_last_seen_at > '2009-09-20 15:12:29') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://test.host/forums]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing ForumsController#index to xml (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` ORDER BY position[0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://test.host/forums.xml]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ForumsController#new (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering forums/new
Rendered forums/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 32ms (View: 32, DB: 0) | 200 OK [http://test.host/forums/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m


Processing ForumsController#new (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/forums/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing ForumsController#show (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT topics.id) AS count_topics_id FROM `topics` LEFT OUTER JOIN `users` ON `users`.id = `topics`.replied_by WHERE (`topics`.forum_id = 1) [0m
Rendering template within layouts/application
Rendering forums/show
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Forum') AND (`taggings`.taggable_id = 1)) [0m
Rendered shared/_box (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 1)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 1)) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky DESC, replied_at DESC, sticky desc, replied_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (1,2)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 94, DB: 0) | 200 OK [http://test.host/forums/1]
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky DESC, replied_at DESC, sticky desc, replied_at desc LIMIT 0, 4[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (1,2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing ForumsController#show to xml (for 0.0.0.0 at 2009-09-20 16:17:29) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://test.host/forums/1.xml]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing ForumsController#update (for 0.0.0.0 at 2009-09-20 16:17:29) [PUT]
  Parameters: {"forum"=>{}, "id"=>"1", "tag_list"=>"tagX, tagY"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `description_html` = '' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Forum') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tagX') LIMIT 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagX') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tagX')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(10, 'Forum', 1)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tagY') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagY') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tagY')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(11, 'Forum', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums
Completed in 32ms (DB: 16) | 302 Found [http://test.host/forums/1?&tag_list=tagX%2C+tagY]
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Forum') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mFriendshipStatus Load (0.0ms)[0m   [0mSELECT * FROM `friendship_statuses` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;36;1mFriendship Update (0.0ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;35;1mFriendship Update (0.0ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:17:29 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Friendship request accepted!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has accepted your friendship request. To visit their profile:

http://localhost:3000/aaron 

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Create (0.0ms)[0m   [0;1mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(1, 1, 1, 3, '2009-09-20 15:17:38')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 4 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mFriendship Create (0.0ms)[0m   [0mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(1, 1, 1, 4, '2009-09-20 15:17:38')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 5 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (16.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 5 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mSQL (46.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m


Processing FriendshipsController#accept (for 0.0.0.0 at 2009-09-20 16:17:38) [PUT]
  Parameters: {"id"=>"2", "user_id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:45:48", state_id: nil, metro_area_id: nil, login_slug: "aaron", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2009-09-20 15:10:48", role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2 AND (`friendships`.user_id = 2 AND (initiator = 0))) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;36;1mFriendship Update (0.0ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (16.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;35;1mFriendship Update (0.0ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:17:38 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Friendship request accepted!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has accepted your friendship request. To visit their profile:

http://localhost:3000/aaron 

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/aaron/friendships/accepted
Completed in 9484ms (DB: 124) | 302 Found [http://test.host/aaron/friendships/2/accept]
  [4;35;1mFriendship Load (16.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;36;1mFriendshipStatus Load (0.0ms)[0m   [0;1mSELECT * FROM `friendship_statuses` WHERE (`friendship_statuses`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 AND friend_id = 2 AND friendship_status_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m
  [4;35;1mFriendshipStatus Load (0.0ms)[0m   [0mSELECT * FROM `friendship_statuses` WHERE (`friendship_statuses`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mFriendship Update (0.0ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:17:47 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Friendship request accepted!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has accepted your friendship request. To visit their profile:

http://localhost:3000/aaron 

Thanks,
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;35;1mFriendship Update (0.0ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 AND friend_id = 2 AND friendship_status_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m


Processing FriendshipsController#create (for 0.0.0.0 at 2009-09-20 16:17:57) [POST]
  Parameters: {"user_id"=>"1", "friend_id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Create (0.0ms)[0m   [0;1mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(1, 1, 1, 3, '2009-09-20 15:17:57')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 3) LIMIT 1[0m
  [4;36;1mFriendship Create (0.0ms)[0m   [0;1mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(0, 1, 3, 1, '2009-09-20 15:17:57')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to kevin@example.com

Date: Sun, 20 Sep 2009 16:17:57 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: kevin@example.com
Subject: [Community] quentin would like to be friends with you!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey kevin!

quentin would like to be friends with you! Use this link to see:

http://localhost:3000/kevin/friendships/pending 

Thanks,
The Community team
Redirected to http://test.host/quentin/friendships/accepted
Completed in 10031ms (DB: 31) | 302 Found [http://test.host/1/friendships?friend_id=3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'kevin' AND `users`.id <> 3) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'kevin@example.com' AND `users`.id <> 3) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'kevin' AND `users`.id <> 3) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `notify_friend_requests` = 0, `updated_at` = '2009-09-20 15:18:07' WHERE `id` = 3[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 3)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` [0m


Processing FriendshipsController#create (for 0.0.0.0 at 2009-09-20 16:18:07) [POST]
  Parameters: {"user_id"=>"1", "friend_id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 3 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mFriendship Create (0.0ms)[0m   [0;1mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(1, 1, 1, 3, '2009-09-20 15:18:07')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 3) LIMIT 1[0m
  [4;36;1mFriendship Create (0.0ms)[0m   [0;1mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(0, 1, 3, 1, '2009-09-20 15:18:07')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/friendships/accepted
Completed in 31ms (DB: 0) | 302 Found [http://test.host/1/friendships?friend_id=3]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m


Processing FriendshipsController#deny (for 0.0.0.0 at 2009-09-20 16:18:07) [PUT]
  Parameters: {"id"=>"2", "user_id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:45:48", state_id: nil, metro_area_id: nil, login_slug: "aaron", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2009-09-20 15:10:48", role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2 AND (`friendships`.user_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;35;1mFriendship Update (0.0ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 3 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;36;1mFriendship Update (0.0ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 3 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/aaron/friendships/denied
Completed in 31ms (DB: 0) | 302 Found [http://test.host/aaron/friendships/2/deny]
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;35;1mFriendshipStatus Load (0.0ms)[0m   [0mSELECT * FROM `friendship_statuses` WHERE (`friendship_statuses`.`id` = 3) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m


Processing FriendshipsController#destroy (for 0.0.0.0 at 2009-09-20 16:18:07) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 2 and friend_id = 1) LIMIT 1[0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/friendships/accepted
Completed in 16ms (DB: 0) | 302 Found [http://test.host/1/friendships/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m


Processing FriendshipsController#create (for 0.0.0.0 at 2009-09-20 16:18:08) [POST]
  Parameters: {"user_id"=>"1", "friend_id"=>nil}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` IS NULL AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` [0m
Redirected to http://test.host/quentin/friendships
Completed in 141ms (DB: 0) | 302 Found [http://test.host/1/friendships]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing FriendshipsController#accepted (for 0.0.0.0 at 2009-09-20 16:18:08) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0 AND friendship_status_id = 1)) [0m
Rendering template within layouts/application
Rendering friendships/accepted
  [4;35;1mOffering Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `offerings`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
  [4;35;1mSQL (15.0ms)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered users/_profile_user_info_sidebar (31.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 93ms (View: 63, DB: 30) | 200 OK [http://test.host/1/friendships/accepted]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing FriendshipsController#pending (for 0.0.0.0 at 2009-09-20 16:18:08) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0 AND friendship_status_id = 1)) [0m
Rendering template within layouts/application
Rendering friendships/pending
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
Rendered shared/_box (0.0ms)
Rendered users/_profile_user_info_sidebar (31.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered friendships/_friendship (0.0ms)
Rendered shared/_box (15.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 2 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://test.host/2/friendships/pending]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m


Processing FriendshipsController#show (for 0.0.0.0 at 2009-09-20 16:18:08) [GET]
  Parameters: {"id"=>"1", "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering friendships/show
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 47, DB: 0) | 200 OK [http://test.host/quentin/friendships/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to valid@example.com

Date: Sun, 20 Sep 2009 16:18:09 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: valid@example.com
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8



--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
Sent mail to valid_2@example.com

Date: Sun, 20 Sep 2009 16:18:17 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: valid_2@example.com
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8



--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to "Valid Example" <valid@example.com>

Date: Sun, 20 Sep 2009 16:18:26 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: Valid Example <valid@example.com>
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8



--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
Sent mail to valid_2@example.com

Date: Sun, 20 Sep 2009 16:18:38 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: valid_2@example.com
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8



--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invitations` [0m


Processing InvitationsController#create (for 0.0.0.0 at 2009-09-20 16:18:52) [POST]
  Parameters: {"invitation"=>{"message"=>"sup dude", "email_addresses"=>"asdf@asdf.com"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mInvitation Create (0.0ms)[0m   [0;1mINSERT INTO `invitations` (`message`, `email_addresses`, `user_id`, `created_at`) VALUES('sup dude', 'asdf@asdf.com', 1, '2009-09-20 15:18:52')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(3, 'invitation', 1, 'Invitation', '2009-09-20 15:18:52')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:18:52' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
Sent mail to asdf@asdf.com

Date: Sun, 20 Sep 2009 16:18:52 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: asdf@asdf.com
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

sup dude

--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 9125ms (DB: 79) | 302 Found [http://test.host/1/invitations?invitation%5Bemail_addresses%5D=asdf%40asdf.com&invitation%5Bmessage%5D=sup+dude]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invitations` [0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invitations` [0m


Processing InvitationsController#create (for 0.0.0.0 at 2009-09-20 16:19:01) [POST]
  Parameters: {"welcome"=>"complete", "invitation"=>{"message"=>"sup dude", "email_addresses"=>"asdf@asdf.com"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mInvitation Create (0.0ms)[0m   [0mINSERT INTO `invitations` (`message`, `email_addresses`, `user_id`, `created_at`) VALUES('sup dude', 'asdf@asdf.com', 1, '2009-09-20 15:19:01')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(4, 'invitation', 1, 'Invitation', '2009-09-20 15:19:01')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:01' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
Sent mail to asdf@asdf.com

Date: Sun, 20 Sep 2009 16:19:01 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: asdf@asdf.com
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

sup dude

--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/welcome_complete
Completed in 9250ms (DB: 46) | 302 Found [http://test.host/1/invitations?invitation%5Bemail_addresses%5D=asdf%40asdf.com&invitation%5Bmessage%5D=sup+dude&welcome=complete]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invitations` [0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `invitations` [0m


Processing InvitationsController#create (for 0.0.0.0 at 2009-09-20 16:19:11) [POST]
  Parameters: {"invitation"=>{"message"=>"sup dude", "email_addresses"=>nil}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering invitations/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 47, DB: 47) | 200 OK [http://test.host/1/invitations?invitation%5Bemail_addresses%5D=&invitation%5Bmessage%5D=sup+dude]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `invitations` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing InvitationsController#index (for 0.0.0.0 at 2009-09-20 16:19:11) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering invitations/index
  [4;35;1mInvitation Load (0.0ms)[0m   [0mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 1) [0m
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/1/invitations]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing InvitationsController#new (for 0.0.0.0 at 2009-09-20 16:19:11) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering invitations/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (15.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/1/invitations/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` = 3) [0m


Processing MetroAreasController#create (for 0.0.0.0 at 2009-09-20 16:19:12) [POST]
  Parameters: {"metro_area"=>{"name"=>"Dusseldorf", "country_id"=>#<Country id: 3, name: "Germany">}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMetroArea Create (0.0ms)[0m   [0mINSERT INTO `metro_areas` (`name`, `country_id`, `users_count`, `state_id`) VALUES('Dusseldorf', 1, 0, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/metro_areas/273
Completed in 31ms (DB: 93) | 302 Found [http://test.host/metro_areas?metro_area%5Bcountry_id%5D=3&metro_area%5Bname%5D=Dusseldorf]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m


Processing MetroAreasController#destroy (for 0.0.0.0 at 2009-09-20 16:19:12) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'MetroArea') [0m
  [4;36;1mMetroArea Destroy (0.0ms)[0m   [0;1mDELETE FROM `metro_areas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/metro_areas
Completed in 16ms (DB: 63) | 302 Found [http://test.host/metro_areas/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `metro_areas` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing MetroAreasController#edit (for 0.0.0.0 at 2009-09-20 16:19:12) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering metro_areas/edit
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` ORDER BY name[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/metro_areas/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing MetroAreasController#index (for 0.0.0.0 at 2009-09-20 16:19:12) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT metro_areas.id) AS count_metro_areas_id FROM `metro_areas` LEFT OUTER JOIN `countries` ON `countries`.id = `metro_areas`.country_id [0m
Rendering template within layouts/application
Rendering metro_areas/index
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (16.0ms)
  [4;36;1mMetroArea Load Including Associations (0.0ms)[0m   [0;1mSELECT `metro_areas`.`id` AS t0_r0, `metro_areas`.`name` AS t0_r1, `metro_areas`.`state_id` AS t0_r2, `metro_areas`.`country_id` AS t0_r3, `metro_areas`.`users_count` AS t0_r4, `countries`.`id` AS t1_r0, `countries`.`name` AS t1_r1 FROM `metro_areas` LEFT OUTER JOIN `countries` ON `countries`.id = `metro_areas`.country_id ORDER BY countries.name, metro_areas.name LIMIT 0, 5[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 2) [0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/metro_areas]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing MetroAreasController#new (for 0.0.0.0 at 2009-09-20 16:19:12) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering metro_areas/new
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` ORDER BY name[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/metro_areas/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `metro_areas` [0m


Processing MetroAreasController#create (for 0.0.0.0 at 2009-09-20 16:19:12) [POST]
  Parameters: {"metro_area"=>{"name"=>"Dusseldorf"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering metro_areas/new
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` ORDER BY name[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/metro_areas?metro_area%5Bname%5D=Dusseldorf]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `metro_areas` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing MetroAreasController#show (for 0.0.0.0 at 2009-09-20 16:19:12) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering metro_areas/show
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 32, DB: 0) | 200 OK [http://test.host/metro_areas/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing MetroAreasController#update (for 0.0.0.0 at 2009-09-20 16:19:12) [PUT]
  Parameters: {"metro_area"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (16.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/metro_areas/1
Completed in 16ms (DB: 16) | 302 Found [http://test.host/metro_areas/1?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mModeratorship Load (0.0ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.`id` = 1) [0m


Processing ModeratorsController#destroy (for 0.0.0.0 at 2009-09-20 16:19:12) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mModeratorship Load (0.0ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mModeratorship Destroy (0.0ms)[0m   [0mDELETE FROM `moderatorships` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering moderators/destroy
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
Rendered moderators/_toggle (16.0ms)
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://test.host/moderators/destroy/1?user_id=11]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;36;1mModeratorship Load (0.0ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.`id` = 1) [0m


Processing ModeratorsController#destroy (for 0.0.0.0 at 2009-09-20 16:19:12) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/moderators/destroy/1?user_id=11]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2 and user_id = 11) [0m
  [4;35;1mModeratorship Create (0.0ms)[0m   [0mINSERT INTO `moderatorships` (`forum_id`, `user_id`) VALUES(2, 11)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT `forums`.* FROM `forums` INNER JOIN `moderatorships` ON `forums`.id = `moderatorships`.forum_id WHERE ((`moderatorships`.user_id = 11)) ORDER BY forums.name[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `moderatorships` ON `users`.id = `moderatorships`.user_id WHERE ((`moderatorships`.forum_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1 and user_id = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2009-09-20 16:19:12) [POST]
  Parameters: {"topic_id"=>"1", "id"=>"11", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Update (0.0ms)[0m   [0;1mUPDATE `monitorships` SET `active` = 1 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering monitorships/create
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/1/topics/1/monitorship?id=11]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2009-09-20 16:19:12) [POST]
  Parameters: {"topic_id"=>"1", "id"=>"12", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Create (0.0ms)[0m   [0;1mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(1, 12, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering monitorships/create
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/1/topics/1/monitorship?id=12]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE (`users`.`id` = 12) AND ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2009-09-20 16:19:12) [POST]
  Parameters: {"topic_id"=>"1", "id"=>"12", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mMonitorship Create (0.0ms)[0m   [0mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(1, 12, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1/topics/1
Completed in 16ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/1/monitorship?id=12]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#destroy (for 0.0.0.0 at 2009-09-20 16:19:12) [DELETE]
  Parameters: {"topic_id"=>"1", "id"=>"2", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mMonitorship Update (0.0ms)[0m   [0;1mUPDATE `monitorships` SET active = 0 WHERE (user_id = 2 and topic_id = '1') [0m
Rendering monitorships/destroy
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/1/topics/1/monitorship?id=2]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#destroy (for 0.0.0.0 at 2009-09-20 16:19:12) [DELETE]
  Parameters: {"topic_id"=>"1", "id"=>"2", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mMonitorship Update (0.0ms)[0m   [0;1mUPDATE `monitorships` SET active = 0 WHERE (user_id = 2 and topic_id = '1') [0m
Redirected to http://test.host/forums/1/topics/1
Completed in 16ms (DB: 16) | 302 Found [http://test.host/forums/1/topics/1/monitorship?id=2]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2009-09-20 16:19:13) [POST]
  Parameters: {"topic_id"=>"1", "id"=>"2", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendering monitorships/create
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/1/topics/1/monitorship?id=2]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `monitorships` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2009-09-20 16:19:13) [POST]
  Parameters: {"topic_id"=>"1", "id"=>"2", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/1/monitorship?id=2]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing MonitorshipsController#create (for 0.0.0.0 at 2009-09-20 16:19:13) [POST]
  Parameters: {"topic_id"=>"1", "id"=>"2", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/1/monitorship?id=2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 3[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 6[0m
  [4;35;1mMessage Load (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 2 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 2 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 2) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (16.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 5[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 3 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 3) [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 3 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.0ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 3[0m
  [4;36;1mTag Load (15.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 4) [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 4 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 4[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mInvitation Load (0.0ms)[0m   [0mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 2) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2) [0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 1)) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0)) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 2) [0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;36;1mModeratorship Load (0.0ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 2) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-17 15:17:28', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 6[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 14:05:28', replied_by = 11, last_post_id = 7 WHERE (id = 6) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 9 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (32.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 9[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 14:17:28', replied_by = 11, last_post_id = 8 WHERE (id = 7) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.user_id = 2) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 5[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 6 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 7[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 6[0m
  [4;35;1mActivity Load (15.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 2) [0m
  [4;36;1mMonitorship Destroy (0.0ms)[0m   [0;1mDELETE FROM `monitorships` WHERE `id` = 1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.0ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 2) ORDER BY created_at desc[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM `users` WHERE `id` = 2[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 2) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT `monitorships`.id FROM `monitorships` WHERE (`monitorships`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `monitorships` ON `users`.id = `monitorships`.user_id WHERE ((`monitorships`.topic_id = 1) AND ((monitorships.active = 1))) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 2) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 12) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 11) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` [0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 2) [0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m


Processing OfferingsController#replace (for 0.0.0.0 at 2009-09-20 16:19:13) [POST]
  Parameters: {"users_skills"=>[2, 1], "id"=>#<User id: 5, login: "dwreach", email: "dwr@example.com", description: "We are the best design company in the world", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: true, activation_code: nil, activated_at: "2009-09-20 14:45:48", state_id: nil, metro_area_id: nil, login_slug: "dwreach", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) LIMIT 1[0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 2) [0m
  [4;35;1mOffering Create (0.0ms)[0m   [0mINSERT INTO `offerings` (`user_id`, `skill_id`) VALUES(5, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;35;1mOffering Create (0.0ms)[0m   [0mINSERT INTO `offerings` (`user_id`, `skill_id`) VALUES(5, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 265ms (View: 234, DB: 109) | 200 OK [http://test.host/offerings/replace/dwreach?users_skills%5B%5D=2&users_skills%5B%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` [0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPage Update (0.0ms)[0m   [0;1mUPDATE `pages` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:13' WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPage Update (16.0ms)[0m   [0mUPDATE `pages` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:13' WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `pages` [0m


Processing PagesController#create (for 0.0.0.0 at 2009-09-20 16:19:13) [POST]
  Parameters: {"page"=>{"title"=>"New Page", "body"=>"<p>My new page.</p>", "published_as"=>"live", "page_public"=>true}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPage Create (0.0ms)[0m   [0;1mINSERT INTO `pages` (`updated_at`, `title`, `body`, `published_as`, `page_public`, `created_at`) VALUES('2009-09-20 15:19:13', 'New Page', '<p>My new page.</p>', 'live', 1, '2009-09-20 15:19:13')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/pages
Completed in 16ms (DB: 48) | 302 Found [http://test.host/admin/pages?page%5Bbody%5D=%3Cp%3EMy+new+page.%3C%2Fp%3E&page%5Bpage_public%5D=true&page%5Bpublished_as%5D=live&page%5Btitle%5D=New+Page]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `pages` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `pages` [0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#destroy (for 0.0.0.0 at 2009-09-20 16:19:13) [DELETE]
  Parameters: {"id"=>#<Page id: 1, title: "Custom Page", body: "<p>This is a custom page.</p>", published_as: "live", page_public: true, created_at: "2009-09-15 15:19:13", updated_at: "2009-09-16 15:19:13">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPage Destroy (0.0ms)[0m   [0mDELETE FROM `pages` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/pages
Completed in 16ms (DB: 16) | 302 Found [http://test.host/admin/pages/1-custom-page]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `pages` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#update (for 0.0.0.0 at 2009-09-20 16:19:13) [PUT]
  Parameters: {"id"=>"1", "page"=>{"title"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering pages/edit
Rendered pages/_form (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/admin/pages/1?page%5Btitle%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#edit (for 0.0.0.0 at 2009-09-20 16:19:13) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Rendering template within layouts/application
Rendering pages/edit
Rendered pages/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/admin/pages/1/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing PagesController#index (for 0.0.0.0 at 2009-09-20 16:19:13) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` ORDER BY created_at DESC[0m
Rendering template within layouts/application
Rendering pages/index
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/admin/pages]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing PagesController#new (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering pages/new
Rendered pages/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/admin/pages/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `pages` [0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#destroy (for 0.0.0.0 at 2009-09-20 16:19:14) [DELETE]
  Parameters: {"id"=>#<Page id: 1, title: "Custom Page", body: "<p>This is a custom page.</p>", published_as: "live", page_public: true, created_at: "2009-09-15 15:19:13", updated_at: "2009-09-16 15:19:13">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_moderator] rendered_or_redirected.
Completed in 15ms (DB: 0) | 302 Found [http://test.host/admin/pages/1-custom-page]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `pages` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PagesController#index (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/pages]
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PagesController#index (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:require_moderator] rendered_or_redirected.
Completed in 0ms (DB: 16) | 302 Found [http://test.host/admin/pages]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPage Update (0.0ms)[0m   [0mUPDATE `pages` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:14' WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing PagesController#show (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 2) AND (published_as = 'live') [0m
Redirected to http://test.host/
Completed in 0ms (DB: 0) | 302 Found [http://test.host/pages/2]
  [4;36;1mSQL (46.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 3) [0m


Processing PagesController#show (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
  Parameters: {"id"=>"3"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 3) AND (published_as = 'live') [0m
Redirected to http://test.host/login
Completed in 0ms (DB: 46) | 302 Found [http://test.host/pages/3]
  [4;36;1mSQL (16.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#show (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) AND (published_as = 'live') [0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_explore (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_contact (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 16) | 200 OK [http://test.host/pages/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m


Processing PagesController#update (for 0.0.0.0 at 2009-09-20 16:19:14) [PUT]
  Parameters: {"id"=>"1", "page"=>{"title"=>"changed_name"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPage Update (0.0ms)[0m   [0mUPDATE `pages` SET `title` = 'changed_name', `updated_at` = '2009-09-20 15:19:14' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/pages
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin/pages/1?page%5Btitle%5D=changed_name]
  [4;35;1mSQL (15.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotoManagerController#index (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(albums.id) AS count_albums_id FROM `albums` WHERE (user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (album_id IS NULL AND parent_id IS NULL AND user_id = 1) [0m
Rendering template within layouts/application
Rendering photo_manager/index
Rendered shared/_box (0.0ms)
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (user_id = 1) ORDER BY id DESC LIMIT 0, 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;36;1mPhoto Load (16.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (album_id IS NULL AND parent_id IS NULL AND user_id = 1) ORDER BY id DESC LIMIT 0, 1[0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 31, DB: 31) | 200 OK [http://test.host/quentin/photo_manager?user=quentin]
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotoManagerController#index (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
  Parameters: {"user"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin/photo_manager?user=quentin]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m


Processing PhotoManagerController#index (for 0.0.0.0 at 2009-09-20 16:19:14) [GET]
  Parameters: {"user"=>#<User id: 3, login: "kevin", email: "kevin@example.com", description: "I am Garnett", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: nil, metro_area_id: nil, login_slug: "kevin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "user_id"=>#<User id: 3, login: "kevin", email: "kevin@example.com", description: "I am Garnett", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: nil, metro_area_id: nil, login_slug: "kevin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin/photo_manager?user=quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2009-09-20 16:19:14) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x5b02318 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-0.jpg>>}, "album_id"=>"1", "tag_list"=>"tag1, tag2", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (16.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:14', 16966, NULL, 1, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:19:14', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 3 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:14', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 3, '2009-09-20 15:19:14', 290, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 3 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:14', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 3, '2009-09-20 15:19:14', 100, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 5)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 3 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:14', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 3, '2009-09-20 15:19:14', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 6)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(12, 'Photo', 3)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(13, 'Photo', 3)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager/albums/1
Completed in 765ms (DB: 47) | 302 Found [http://test.host/1/photo_manager/albums/1/photos?photo%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0x5b02318%3E&tag_list=tag1%2C+tag2]
  [4;36;1mPhoto Load (16.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#swfupload (for 0.0.0.0 at 2009-09-20 16:19:15) [POST]
  Parameters: {"album_id"=>"1", "user_id"=>"1", "Filedata"=>#<ActionController::TestUploadedFile:0x614f1d0 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-1.jpg>>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 16966, NULL, 1, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:19:15', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 7)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 7 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 7, '2009-09-20 15:19:15', 290, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 8)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 7 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 7, '2009-09-20 15:19:15', 100, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 9)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 7 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 7, '2009-09-20 15:19:15', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 10)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Completed in 219ms (View: 15, DB: 32) | 200 OK [http://test.host/1/photo_manager/albums/1/photos/swfupload?Filedata=%23%3CActionController%3A%3ATestUploadedFile%3A0x614f1d0%3E]
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 7) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.album_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2009-09-20 16:19:15) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x60056bc @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-2.jpg>>}, "tag_list"=>"tag1, tag2", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 16966, NULL, NULL, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:19:15', 142, NULL)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(11, 'photo', 1, 'Photo', '2009-09-20 15:19:15')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:15' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 11)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 11 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 11, '2009-09-20 15:19:15', 290, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 12)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 11 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 11, '2009-09-20 15:19:15', 100, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 13)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 11 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:15', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 11, '2009-09-20 15:19:15', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 14)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(14, 'Photo', 11)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(15, 'Photo', 11)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photos/11
Completed in 422ms (DB: 0) | 302 Found [http://test.host/1/photos?photo%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0x60056bc%3E&tag_list=tag1%2C+tag2]
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 11) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 11)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#destroy (for 0.0.0.0 at 2009-09-20 16:19:16) [DELETE]
  Parameters: {"id"=>#<Photo id: 1, name: "library", description: "The MPLS library is so great", created_at: "2009-09-20 16:15:57", updated_at: "2009-09-20 16:15:57", user_id: 1, content_type: "image/jpg", filename: "test.jpg", size: 274, parent_id: nil, thumbnail: nil, width: 45, height: 45, album_id: 1, view_count: 0>, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mTagging Destroy (0.0ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;36;1mPhoto Destroy (0.0ms)[0m   [0;1mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1305:in `platform_support'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `each'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/app/controllers/photos_controller.rb:194:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `around_proc'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:184:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/lib/localized_application.rb:25:in `set_locale'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:186:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `sass_old_process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:567:in `process_with_test'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:447:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:413:in `delete'
 > ./test/functional/photos_controller_test.rb:204:in `test_should_destroy_photo'
 > ./test/unit/../test_helper.rb:24:in `assert_difference'
 > ./test/functional/photos_controller_test.rb:203:in `test_should_destroy_photo'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit.rb:278
 > C:/Ruby/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/quentin/photos
Completed in 15ms (DB: 0) | 302 Found [http://test.host/1/photos/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2009-09-20 16:19:16) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x60771e0 @content_type="image/bmp", @original_filename="Granite.bmp", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/Granite5760-0.bmp>>}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering photos/new
Rendered shared/_box (15.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` WHERE (`albums`.user_id = 1) [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 563ms (View: 422, DB: 16) | 200 OK [http://test.host/1/photos?photo%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0x60771e0%3E]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#create (for 0.0.0.0 at 2009-09-20 16:19:16) [POST]
  Parameters: {"photo"=>{}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering photos/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `albums` WHERE (`albums`.user_id = 1) [0m
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 46, DB: 0) | 200 OK [http://test.host/1/photos?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing PhotosController#update (for 0.0.0.0 at 2009-09-20 16:19:16) [PUT]
  Parameters: {"photo"=>{"size"=>nil}, "id"=>"1", "user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/2/photos/1?photo%5Bsize%5D=]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#edit (for 0.0.0.0 at 2009-09-20 16:19:16) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering photos/edit
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mAlbum Load (16.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 31, DB: 31) | 200 OK [http://test.host/1/photos/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#index (for 0.0.0.0 at 2009-09-20 16:19:16) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT photos.id) AS count_photos_id FROM `photos` LEFT OUTER JOIN `taggings` ON (`photos`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Photo') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) AND (photos.parent_id IS NULL) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN photos ON photos.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Photo' AND `photos`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
Rendering template within layouts/application
Rendering photos/index
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (user_id = 1) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Photo') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 47, DB: 15) | 200 OK [http://test.host/1/photos]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PhotosController#index (for 0.0.0.0 at 2009-09-20 16:19:16) [GET]
  Parameters: {"user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT photos.id) AS count_photos_id FROM `photos` LEFT OUTER JOIN `taggings` ON (`photos`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Photo') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 10) AND (photos.parent_id IS NULL) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN photos ON photos.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Photo' AND `photos`.`user_id` = 10) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
Rendering template within layouts/application
Rendering photos/index
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 10) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 10) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
Rendered shared/_box (15.0ms)
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (user_id = 10) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 0[0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (16.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 15, DB: 16) | 200 OK [http://test.host/10/photos]
  [4;36;1mSQL (15.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#index to rss (for 0.0.0.0 at 2009-09-20 16:19:16) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT photos.id) AS count_photos_id FROM `photos` LEFT OUTER JOIN `taggings` ON (`photos`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'Photo') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (user_id = 1) AND (photos.parent_id IS NULL) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN photos ON photos.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Photo' AND `photos`.`user_id` = 1) GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 20[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (user_id = 1) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Photo') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (user_id = 1) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Photo') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (user_id = 1) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (1,2) and `taggings`.`taggable_type` = 'Photo') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 63ms (View: 16, DB: 15) | 200 OK [http://test.host/1/photos.rss]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#new (for 0.0.0.0 at 2009-09-20 16:19:16) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering photos/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `albums` WHERE (`albums`.user_id = 1) [0m
  [4;35;1mAlbum Load (0.0ms)[0m   [0mSELECT * FROM `albums` WHERE (`albums`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 46, DB: 0) | 200 OK [http://test.host/1/photos/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PhotosController#recent (for 0.0.0.0 at 2009-09-20 16:19:17) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(photos.id) AS count_photos_id FROM `photos` WHERE (photos.parent_id IS NULL) [0m
Rendering template within layouts/application
Rendering photos/recent
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 0, 2[0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/photos/recent]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#slideshow (for 0.0.0.0 at 2009-09-20 16:19:17) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
Rendering template within layouts/application
Rendering photos/slideshow
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://test.host/quentin/photos/slideshow]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m


Processing PhotosController#create (for 0.0.0.0 at 2009-09-20 16:19:17) [POST]
  Parameters: {"photo"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0x5ae0394 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-3.jpg>>}, "album_id"=>"1", "tag_list"=>"tag1, tag2", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:17', 16966, NULL, 1, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:19:17', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 15)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 15 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 15) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:17', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 15, '2009-09-20 15:19:17', 290, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 16)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 15 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 15) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:17', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 15, '2009-09-20 15:19:17', 100, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 17)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 15 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 15) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:19:17', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 15, '2009-09-20 15:19:17', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 18)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(16, 'Photo', 15)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(17, 'Photo', 15)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photo_manager/albums/1
Completed in 656ms (DB: 0) | 302 Found [http://test.host/1/photo_manager/albums/1/photos?photo%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0x5ae0394%3E&tag_list=tag1%2C+tag2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing PhotosController#destroy (for 0.0.0.0 at 2009-09-20 16:19:17) [DELETE]
  Parameters: {"id"=>#<Photo id: 1, name: "library", description: "The MPLS library is so great", created_at: "2009-09-20 16:15:57", updated_at: "2009-09-20 16:15:57", user_id: 1, content_type: "image/jpg", filename: "test.jpg", size: 274, parent_id: nil, thumbnail: nil, width: 45, height: 45, album_id: 1, view_count: 0>, "user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 0ms (DB: 47) | 302 Found [http://test.host/2/photos/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PhotosController#index (for 0.0.0.0 at 2009-09-20 16:19:17) [GET]
  Parameters: {"user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:find_user] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/10/photos]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Update (0.0ms)[0m   [0mUPDATE `photos` SET `user_id` = 10, `updated_at` = '2009-09-20 15:19:17' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing PhotosController#show (for 0.0.0.0 at 2009-09-20 16:19:17) [GET]
  Parameters: {"id"=>"1", "user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:find_user] rendered_or_redirected.
Completed in 16ms (DB: 0) | 302 Found [http://test.host/10/photos/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `avatar_id` = 1, `updated_at` = '2009-09-20 15:19:17' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#destroy (for 0.0.0.0 at 2009-09-20 16:19:17) [DELETE]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `avatar_id` = NULL, `updated_at` = '2009-09-20 15:19:17' WHERE `id` = 1[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTagging Destroy (15.0ms)[0m   [0mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;35;1mPhoto Destroy (0.0ms)[0m   [0mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1305:in `platform_support'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `each'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/app/controllers/photos_controller.rb:194:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `around_proc'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:184:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/lib/localized_application.rb:25:in `set_locale'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:186:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `sass_old_process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:567:in `process_with_test'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:447:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:413:in `delete'
 > ./test/functional/photos_controller_test.rb:222:in `test_should_remove_avatar_when_photo_is_destroyed'
 > ./test/unit/../test_helper.rb:24:in `assert_difference'
 > ./test/functional/photos_controller_test.rb:221:in `test_should_remove_avatar_when_photo_is_destroyed'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit.rb:278
 > C:/Ruby/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/quentin/photos
Completed in 62ms (DB: 31) | 302 Found [http://test.host/1/photos/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PhotosController#show (for 0.0.0.0 at 2009-09-20 16:19:18) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mPhoto Load (15.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1 AND (`photos`.user_id = 1)) ORDER BY created_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2009-09-20 16:15:57')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2009-09-20 16:15:57')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE (photos.id != 1 AND (photos_tags.name LIKE 'General')) ORDER BY created_at DESC LIMIT 8[0m
Rendering template within layouts/application
Rendering photos/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (16.0ms)
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2009-09-20 16:15:57' and album_id = 1)) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2009-09-20 16:15:57' and album_id = 1)) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 79, DB: 15) | 200 OK [http://test.host/1/photos/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#show (for 0.0.0.0 at 2009-09-20 16:19:18) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1 AND (`photos`.user_id = 1)) ORDER BY created_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2009-09-20 16:15:57')) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2009-09-20 16:15:57')) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE (photos.id != 1 AND (photos_tags.name LIKE 'General')) ORDER BY created_at DESC LIMIT 8[0m
Rendering template within layouts/application
Rendering photos/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (15.0ms)
  [4;36;1mAlbum Load (0.0ms)[0m   [0;1mSELECT * FROM `albums` WHERE (`albums`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at < '2009-09-20 16:15:57' and album_id = 1)) ORDER BY created_at DESC, created_at desc LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1 AND (created_at > '2009-09-20 16:15:57' and album_id = 1)) ORDER BY created_at ASC, created_at desc LIMIT 1[0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
Rendered shared/_box (16.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://test.host/photos/show/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m


Processing PhotosController#update (for 0.0.0.0 at 2009-09-20 16:19:18) [POST]
  Parameters: {"photo"=>{"name"=>"Another name", "album_id"=>2}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
WARNING: Can't mass-assign these protected attributes: album_id
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Update (0.0ms)[0m   [0;1mUPDATE `photos` SET `album_id` = 2, `updated_at` = '2009-09-20 15:19:18', `name` = 'Another name' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo' AND (tag_id IN (1))) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;36;1mTagging Destroy (0.0ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photos/1
Completed in 31ms (DB: 0) | 302 Found [http://test.host/photos/update/1?photo%5Balbum_id%5D=2&photo%5Bname%5D=Another+name]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m


Processing PhotosController#update (for 0.0.0.0 at 2009-09-20 16:19:18) [PUT]
  Parameters: {"photo"=>{"name"=>"changed_name"}, "id"=>"1", "tag_list"=>"tagX, tagY", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Update (0.0ms)[0m   [0mUPDATE `photos` SET `album_id` = NULL, `updated_at` = '2009-09-20 15:19:18', `name` = 'changed_name' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo' AND (tag_id IN (1))) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTagging Destroy (0.0ms)[0m   [0mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagX') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagX') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tagX')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(18, 'Photo', 1)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagY') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagY') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tagY')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(19, 'Photo', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/photos/1
Completed in 47ms (DB: 31) | 302 Found [http://test.host/1/photos/1?photo%5Bname%5D=changed_name&tag_list=tagX%2C+tagY]
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPoll Create (0.0ms)[0m   [0mINSERT INTO `polls` (`updated_at`, `votes_count`, `post_id`, `question`, `created_at`) VALUES('2009-09-20 15:19:18', 0, 1, 'Do you like things?', '2009-09-20 15:19:18')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (polls.created_at > '2009-09-10 15:19:18') ORDER BY polls.votes_count desc LIMIT 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPoll Create (0.0ms)[0m   [0;1mINSERT INTO `polls` (`updated_at`, `votes_count`, `post_id`, `question`, `created_at`) VALUES('2009-09-20 15:19:18', 0, 1, 'Who can have a great time?', '2009-09-20 15:19:18')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 2) [0m
  [4;36;1mChoice Create (0.0ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 2) [0m
  [4;36;1mChoice Create (0.0ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 2) [0m
  [4;36;1mChoice Create (0.0ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 30[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Post' AND favoritable_id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT `favorites`.id FROM `favorites` WHERE (`favorites`.`user_id` = 1 AND `favorites`.favoritable_type = 'Post' AND `favorites`.favoritable_id = 1) LIMIT 1[0m
  [4;35;1mFavorite Create (0.0ms)[0m   [0mINSERT INTO `favorites` (`updated_at`, `favoritable_type`, `favoritable_id`, `user_id`, `created_at`, `ip_address`) VALUES('2009-09-20 15:19:18', 'Post', 1, 1, '2009-09-20 15:19:18', '1.1.1.1')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(15, 'favorite', 1, 'Favorite', '2009-09-20 15:19:18')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `favorited_count` = 1, `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(1, 'post', 1, 'Post', '2009-09-20 15:19:18')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (user_id = 1 AND favoritable_type = 'Post' AND favoritable_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.0ms)[0m   [0;1mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:18', 'testing activity tracking', 'will this work?', 0, 'will this work?', NULL, 0, 'live', 1, '2009-09-20 15:19:18', '2009-09-20 15:19:18', 0, NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(5, 'post', 1, 'Post', '2009-09-20 15:19:18')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 5)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 5 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 5 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Post') [0m
  [4;35;1mActivity Destroy (0.0ms)[0m   [0mDELETE FROM `activities` WHERE `id` = 27[0m
  [4;36;1mPoll Load (16.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 5) [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 5 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (16.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT posts.*, count(*) as comments_count FROM `posts` LEFT JOIN comments ON comments.commentable_id = posts.id WHERE (comments.commentable_type = 'Post' AND posts.published_at > '2009-09-13 15:19:18') AND (published_as = 'live') GROUP BY posts.id,posts.created_at,posts.updated_at,posts.raw_post,posts.post,posts.title,posts.category_id,posts.user_id,posts.view_count,posts.contest_id,posts.emailed_count,posts.favorited_count,posts.published_as,posts.published_at ORDER BY comments_count DESC LIMIT 10[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT posts.*, count(*) as comments_count FROM `posts` LEFT JOIN comments ON comments.commentable_id = posts.id WHERE (comments.commentable_type = 'Post' AND posts.published_at > '2009-09-13 15:19:18') AND (published_as = 'live') GROUP BY posts.id,posts.created_at,posts.updated_at,posts.raw_post,posts.post,posts.title,posts.category_id,posts.user_id,posts.view_count,posts.contest_id,posts.emailed_count,posts.favorited_count,posts.published_as,posts.published_at ORDER BY comments_count DESC LIMIT 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at > '2009-09-15 15:15:48' and published_as = 'live')) ORDER BY published_at ASC, published_at desc LIMIT 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-09-10 15:19:18') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 3[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-09-19 15:19:18') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at < '2009-09-16 15:15:48' and published_as = 'live')) ORDER BY published_at DESC, published_at desc LIMIT 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 3[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `choices` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Create (0.0ms)[0m   [0;1mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:18', 'Title', 'Blog post message', 0, 'Blog post message', NULL, 0, 'draft', 1, NULL, '2009-09-20 15:19:18', 0, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 6)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 6 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.0ms)[0m   [0mUPDATE `posts` SET `published_at` = '2009-09-20 15:19:18', `published_as` = 'live', `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 6[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 6 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(6, 'post', 1, 'Post', '2009-09-20 15:19:18')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.0ms)[0m   [0mUPDATE `posts` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 6[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 6 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mActivity Destroy (15.0ms)[0m   [0mDELETE FROM `activities` WHERE `id` = 28[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `published_as` = 'live', `updated_at` = '2009-09-20 15:19:18' WHERE `id` = 6[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 6 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(6, 'post', 1, 'Post', '2009-09-20 15:19:18')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Create (0.0ms)[0m   [0mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:19', 'testing activity tracking', 'will this work?', 0, 'will this work?', NULL, 0, 'draft', 1, NULL, '2009-09-20 15:19:19', 0, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 7)) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 7 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Create (0.0ms)[0m   [0;1mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:19', 'Title', 'Blog post message', 0, 'Blog post message', NULL, 0, 'draft', 1, NULL, '2009-09-20 15:19:19', 0, NULL)[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 8)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 8 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.0ms)[0m   [0mUPDATE `posts` SET `published_at` = '2009-09-20 15:19:19', `published_as` = 'live', `updated_at` = '2009-09-20 15:19:19' WHERE `id` = 8[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 8 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(8, 'post', 1, 'Post', '2009-09-20 15:19:19')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:19' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mPost Load (15.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:19' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.0ms)[0m   [0;1mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:19', 'testing activity tracking', 'will this work?', 0, 'will this work?', NULL, 0, 'live', 1, '2009-09-20 15:19:19', '2009-09-20 15:19:19', 0, NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(9, 'post', 1, 'Post', '2009-09-20 15:19:19')[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:19' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 9)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 9 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;35;1mPoll Create (0.0ms)[0m   [0mINSERT INTO `polls` (`updated_at`, `votes_count`, `post_id`, `question`, `created_at`) VALUES('2009-09-20 15:19:19', 0, 2, 'Who can have a great time?', '2009-09-20 15:19:19')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 3)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (15.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 3)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 3)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;35;1mPoll Update (0.0ms)[0m   [0mUPDATE `polls` SET `question` = 'Who can have a terrible time?', `updated_at` = '2009-09-20 15:19:19' WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mChoice Load (0.0ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.poll_id = 3) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.choice_id = 4) [0m
  [4;36;1mChoice Destroy (0.0ms)[0m   [0;1mDELETE FROM `choices` WHERE `id` = 4[0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.choice_id = 5) [0m
  [4;36;1mChoice Destroy (0.0ms)[0m   [0;1mDELETE FROM `choices` WHERE `id` = 5[0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.choice_id = 6) [0m
  [4;36;1mChoice Destroy (0.0ms)[0m   [0;1mDELETE FROM `choices` WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'Foo', 3)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 3) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'Bar', 3)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;35;1mChoice Load (16.0ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.poll_id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) LIMIT 1[0m
  [4;36;1mChoice Load (0.0ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.poll_id = 3) ORDER BY choices.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mPoll Create (0.0ms)[0m   [0mINSERT INTO `polls` (`updated_at`, `votes_count`, `post_id`, `question`, `created_at`) VALUES('2009-09-20 15:19:19', 0, 1, 'Who can have a great time?', '2009-09-20 15:19:19')[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 4) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 4) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 4) [0m
  [4;35;1mChoice Create (0.0ms)[0m   [0mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPoll Update (0.0ms)[0m   [0;1mUPDATE `polls` SET `question` = 'Who can have a terrible time?', `updated_at` = '2009-09-20 15:19:19' WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mChoice Load (0.0ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.poll_id = 4) [0m
  [4;36;1mVote Load (0.0ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.choice_id = 9) [0m
  [4;35;1mChoice Destroy (0.0ms)[0m   [0mDELETE FROM `choices` WHERE `id` = 9[0m
  [4;36;1mVote Load (0.0ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.choice_id = 10) [0m
  [4;35;1mChoice Destroy (0.0ms)[0m   [0mDELETE FROM `choices` WHERE `id` = 10[0m
  [4;36;1mVote Load (0.0ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.choice_id = 11) [0m
  [4;35;1mChoice Destroy (0.0ms)[0m   [0mDELETE FROM `choices` WHERE `id` = 11[0m
  [4;36;1mVote Load (0.0ms)[0m   [0;1mSELECT * FROM `votes` WHERE (`votes`.poll_id = 4) [0m
  [4;35;1mPoll Destroy (0.0ms)[0m   [0mDELETE FROM `polls` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m
  [4;35;1mContest Load (0.0ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m


Processing PostsController#create (for 0.0.0.0 at 2009-09-20 16:19:19) [POST]
  Parameters: {"post"=>{"category"=>#<Category id: 4, name: "Talk", tips: nil, new_post_text: nil, nav_text: nil>, "contest"=>#<Contest id: 1, title: "Enter to win!", created_at: "2009-09-15 15:17:06", updated_at: "2009-09-16 15:17:06", begin_date: "2008-05-08 15:17:06", end_date: "2009-09-19 15:17:06", raw_post: nil, post: nil, banner_title: "Enter to win!", banner_subtitle: "It's cool">, "title"=>"dude", "raw_post"=>"rawness"}, "tag_list"=>"tag1, tag2", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.0ms)[0m   [0;1mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:19', 'dude', 'rawness', 0, 'rawness', 4, 0, 'draft', 1, NULL, '2009-09-20 15:19:19', 0, 1)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 10)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(20, 'Post', 10)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(21, 'Post', 10)[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 10 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/posts/manage
Completed in 47ms (DB: 200) | 302 Found [http://test.host/1/posts?post%5Bcategory%5D=4-talk&post%5Bcontest%5D=1&post%5Braw_post%5D=rawness&post%5Btitle%5D=dude&tag_list=tag1%2C+tag2]
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`title` = 'dude') LIMIT 1[0m
  [4;35;1mContest Load (0.0ms)[0m   [0mSELECT * FROM `contests` WHERE (`contests`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`title` = 'dude') LIMIT 1[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`title` = 'dude') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 10)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 4) [0m


Processing PostsController#create (for 0.0.0.0 at 2009-09-20 16:19:19) [POST]
  Parameters: {"post"=>{"category"=>#<Category id: 4, name: "Talk", tips: nil, new_post_text: nil, nav_text: nil>, "title"=>"dude", "raw_post"=>"rawness"}, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Create (0.0ms)[0m   [0;1mINSERT INTO `posts` (`updated_at`, `title`, `post`, `emailed_count`, `raw_post`, `category_id`, `favorited_count`, `published_as`, `user_id`, `published_at`, `created_at`, `view_count`, `contest_id`) VALUES('2009-09-20 15:19:19', 'dude', 'rawness', 0, 'rawness', 4, 0, 'draft', 1, NULL, '2009-09-20 15:19:19', 0, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 11)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 11 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/posts/manage
Completed in 31ms (DB: 0) | 302 Found [http://test.host/1/posts?post%5Bcategory%5D=4-talk&post%5Braw_post%5D=rawness&post%5Btitle%5D=dude]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#destroy (for 0.0.0.0 at 2009-09-20 16:19:19) [DELETE]
  Parameters: {"id"=>#<Post id: 1, created_at: "2009-09-15 15:15:48", updated_at: "2009-09-16 15:15:48", raw_post: "Seriously, how can you build a good group of people...", post: "Seriously, how can you build a good group of people...", title: "Building communities is all about love.", category_id: 1, user_id: 1, view_count: 0, contest_id: nil, emailed_count: 0, favorited_count: 0, published_as: "live", published_at: "2009-09-15 15:15:48">, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.0ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.0ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (16.0ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/posts/manage
Completed in 47ms (DB: 16) | 302 Found [http://test.host/1/posts/1-building-communities-is-all-about-love]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#update (for 0.0.0.0 at 2009-09-20 16:19:19) [PUT]
  Parameters: {"post"=>{"title"=>nil}, "id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering posts/edit
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
Rendered categories/_tips (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 79ms (View: 63, DB: 0) | 200 OK [http://test.host/1/posts/1?post%5Btitle%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#edit (for 0.0.0.0 at 2009-09-20 16:19:19) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendering template within layouts/application
Rendering posts/edit
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
Rendered categories/_tips (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
Rendered shared/_box (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://test.host/1/posts/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PostsController#featured (for 0.0.0.0 at 2009-09-20 16:19:19) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT posts.id) AS count_posts_id FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE ((users.featured_writer = 1) AND (published_as = 'live')) [0m
Rendering template within layouts/application
Rendering posts/featured
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.featured_writer = 1) [0m
Rendered users/_sidebar_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/featured]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#index (for 0.0.0.0 at 2009-09-20 16:19:19) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
Rendering template within layouts/application
Rendering posts/index
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) ORDER BY published_at desc LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
Rendered posts/_post (16.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
Rendered posts/_post (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://test.host/1/posts]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#index to rss (for 0.0.0.0 at 2009-09-20 16:19:19) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) ORDER BY published_at desc LIMIT 0, 2[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) ORDER BY published_at desc LIMIT 0, 2[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND ((`posts`.user_id = 1) AND (published_as = 'live')) ORDER BY published_at desc LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 0, DB: 0) | 200 OK [http://test.host/1/posts.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#new (for 0.0.0.0 at 2009-09-20 16:19:19) [GET]
  Parameters: {"user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendering template within layouts/application
Rendering posts/new
Rendered categories/_tips (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered polls/_new (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 313ms (View: 297, DB: 16) | 200 OK [http://test.host/1/posts/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PostsController#popular (for 0.0.0.0 at 2009-09-20 16:19:20) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-09-17 15:19:20') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 15[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-08-21 15:19:20') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 20[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name[0m
Rendering template within layouts/application
Rendering posts/popular
Rendered shared/_box (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered posts/_sidebar_post (16.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered posts/_sidebar_post (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered posts/_sidebar_post (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered posts/_sidebar_post (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/popular]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing PostsController#popular to rss (for 0.0.0.0 at 2009-09-20 16:19:20) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-09-17 15:19:20') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 15[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE ((posts.published_at > '2009-08-21 15:19:20') AND (published_as = 'live')) ORDER BY posts.view_count DESC LIMIT 20[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name[0m
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://test.host/popular.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing PostsController#recent to rss (for 0.0.0.0 at 2009-09-20 16:19:20) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(posts.id) AS count_posts_id FROM `posts` WHERE (published_as = 'live') [0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (created_at > '2009-09-13 15:19:20') ORDER BY created_at DESC LIMIT 15[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (photos.created_at > '2009-09-13 15:15:24' AND photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 0, 4[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 0, 4[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 0, 4[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Completed in 47ms (View: 16, DB: 0) | 200 OK [http://test.host/recent.rss]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#destroy (for 0.0.0.0 at 2009-09-20 16:19:20) [DELETE]
  Parameters: {"id"=>#<Post id: 1, created_at: "2009-09-15 15:15:48", updated_at: "2009-09-16 15:15:48", raw_post: "Seriously, how can you build a good group of people...", post: "Seriously, how can you build a good group of people...", title: "Building communities is all about love.", category_id: 1, user_id: 1, view_count: 0, contest_id: nil, emailed_count: 0, favorited_count: 0, published_as: "live", published_at: "2009-09-15 15:15:48">, "user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/2/posts/1-building-communities-is-all-about-love]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PostsController#index (for 0.0.0.0 at 2009-09-20 16:19:20) [GET]
  Parameters: {"user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:find_user] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/10/posts]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#send_to_friend (for 0.0.0.0 at 2009-09-20 16:19:20) [POST]
  Parameters: {"message"=>"you are great, friends", "emails"=>"test_is_and_example.com, test2@example.com", "id"=>"1-building-communities-is-all-about-love", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 16ms (View: 16, DB: 0) | 500 Internal Server Error [http://test.host/1/posts/1-building-communities-is-all-about-love/send_to_friend?emails=test_is_and_example.com%2C+test2%40example.com&message=you+are+great%2C+friends]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing PostsController#show (for 0.0.0.0 at 2009-09-20 16:19:20) [GET]
  Parameters: {"id"=>"1", "user_id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:find_user] rendered_or_redirected.
Completed in 0ms (DB: 15) | 302 Found [http://test.host/10/posts/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#manage (for 0.0.0.0 at 2009-09-20 16:19:20) [GET]
  Parameters: {"user_id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:15:48", updated_at: "2009-09-20 15:15:48", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:15:48", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 15ms (DB: 0) | 302 Found [http://test.host/quentin/posts/manage]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#send_to_friend (for 0.0.0.0 at 2009-09-20 16:19:20) [POST]
  Parameters: {"message"=>"you are great, friends", "emails"=>"test@example.com, test2@example.com", "id"=>"1-building-communities-is-all-about-love", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to test@example.com

Date: Sun, 20 Sep 2009 16:19:20 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: test@example.com
Subject: Check out this story on Community
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

## Community&trade; &#8211; CommunityEngine Rocks! ##


quentin wants to share the following article with you:

Building communities is all about love.
[http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love]

Description:

Seriously, how can you build a good group of people around hatred?

Personal Message:

you are great, friends


---------------------------------------	

Use this link to sign up for your own Community account: 

[http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0]


Thanks,
quentin</p>

---------------------------------------	

The Best Place for People Who Love Communities

For support, or to report abuse, please contact support@community.com.	
Sent mail to test2@example.com

Date: Sun, 20 Sep 2009 16:19:29 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: test2@example.com
Subject: Check out this story on Community
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

## Community&trade; &#8211; CommunityEngine Rocks! ##


quentin wants to share the following article with you:

Building communities is all about love.
[http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love]

Description:

Seriously, how can you build a good group of people around hatred?

Personal Message:

you are great, friends


---------------------------------------	

Use this link to sign up for your own Community account: 

[http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0]


Thanks,
quentin</p>

---------------------------------------	

The Best Place for People Who Love Communities

For support, or to report abuse, please contact support@community.com.	
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `updated_at` = '2009-09-20 15:19:42', `emailed_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(1, 'post', 1, 'Post', '2009-09-20 15:19:42')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:19:42' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Completed in 22063ms (View: 32, DB: 0) | 200 OK [http://test.host/1/posts/1-building-communities-is-all-about-love/send_to_friend?emails=test%40example.com%2C+test2%40example.com&message=you+are+great%2C+friends]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Update (0.0ms)[0m   [0mUPDATE `posts` SET `published_as` = 'draft', `updated_at` = '2009-09-20 15:19:42' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#show (for 0.0.0.0 at 2009-09-20 16:19:42) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') ORDER BY created_at DESC LIMIT 20[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (1,2)) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at < '2009-09-15 15:15:48' and published_as = 'live')) ORDER BY published_at DESC, published_at desc LIMIT 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at > '2009-09-15 15:15:48' and published_as = 'live')) ORDER BY published_at ASC, published_at desc LIMIT 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT posts.*, count(*) as comments_count FROM `posts` LEFT JOIN comments ON comments.commentable_id = posts.id WHERE (comments.commentable_type = 'Post' AND posts.published_at > '2009-09-13 15:19:42') AND (published_as = 'live') GROUP BY posts.id,posts.created_at,posts.updated_at,posts.raw_post,posts.post,posts.title,posts.category_id,posts.user_id,posts.view_count,posts.contest_id,posts.emailed_count,posts.favorited_count,posts.published_as,posts.published_at ORDER BY comments_count DESC LIMIT 10[0m
Rendering template within layouts/application
Rendering posts/show
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendered comments/_comment (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendered comments/_comment (15.0ms)
Rendered shared/_box (266.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 610ms (View: 516, DB: 31) | 200 OK [http://test.host/1/posts/1]
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing PostsController#show (for 0.0.0.0 at 2009-09-20 16:19:43) [GET]
  Parameters: {"id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') ORDER BY created_at DESC LIMIT 20[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (1,2)) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at < '2009-09-15 15:15:48' and published_as = 'live')) ORDER BY published_at DESC, published_at desc LIMIT 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND (published_at > '2009-09-15 15:15:48' and published_as = 'live')) ORDER BY published_at ASC, published_at desc LIMIT 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY view_count DESC, published_at desc LIMIT 10[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT posts.*, count(*) as comments_count FROM `posts` LEFT JOIN comments ON comments.commentable_id = posts.id WHERE (comments.commentable_type = 'Post' AND posts.published_at > '2009-09-13 15:19:43') AND (published_as = 'live') GROUP BY posts.id,posts.created_at,posts.updated_at,posts.raw_post,posts.post,posts.title,posts.category_id,posts.user_id,posts.view_count,posts.contest_id,posts.emailed_count,posts.favorited_count,posts.published_as,posts.published_at ORDER BY comments_count DESC LIMIT 10[0m
Rendering template within layouts/application
Rendering posts/show
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (0.0ms)
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendered comments/_comment (16.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendered comments/_comment (16.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
Rendered shared/_box (0.0ms)
Rendered posts/_author_profile (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 78, DB: 79) | 200 OK [http://test.host/1/posts/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#send_to_friend (for 0.0.0.0 at 2009-09-20 16:19:43) [POST]
  Parameters: {"message"=>"you are great, friends", "emails"=>"test@example.com, test2@example.com", "id"=>"1-building-communities-is-all-about-love", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to test@example.com

Date: Sun, 20 Sep 2009 16:19:43 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: test@example.com
Subject: Check out this story on Community
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

## Community&trade; &#8211; CommunityEngine Rocks! ##


quentin wants to share the following article with you:

Building communities is all about love.
[http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love]

Description:

Seriously, how can you build a good group of people around hatred?

Personal Message:

you are great, friends


---------------------------------------	

Use this link to sign up for your own Community account: 

[http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0]


Thanks,
quentin</p>

---------------------------------------	

The Best Place for People Who Love Communities

For support, or to report abuse, please contact support@community.com.	
Sent mail to test2@example.com

Date: Sun, 20 Sep 2009 16:19:52 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: test2@example.com
Subject: Check out this story on Community
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

## Community&trade; &#8211; CommunityEngine Rocks! ##


quentin wants to share the following article with you:

Building communities is all about love.
[http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love]

Description:

Seriously, how can you build a good group of people around hatred?

Personal Message:

you are great, friends


---------------------------------------	

Use this link to sign up for your own Community account: 

[http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0]


Thanks,
quentin</p>

---------------------------------------	

The Best Place for People Who Love Communities

For support, or to report abuse, please contact support@community.com.	
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.0ms)[0m   [0mUPDATE `posts` SET `updated_at` = '2009-09-20 15:20:03', `emailed_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(1, 'post', 1, 'Post', '2009-09-20 15:20:03')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:03' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 20031ms (View: 15, DB: 16) | 200 OK [http://test.host/1/posts/1-building-communities-is-all-about-love/send_to_friend?emails=test%40example.com%2C+test2%40example.com&message=you+are+great%2C+friends]
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#update (for 0.0.0.0 at 2009-09-20 16:20:03) [PUT]
  Parameters: {"post"=>{"title"=>"changed_name"}, "id"=>"1", "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Update (0.0ms)[0m   [0mUPDATE `posts` SET `title` = 'changed_name', `updated_at` = '2009-09-20 15:20:03' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 1 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(1, 'post', 1, 'Post', '2009-09-20 15:20:03')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:03' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/posts/1-changed_name
Completed in 188ms (DB: 48) | 302 Found [http://test.host/1/posts/1?post%5Btitle%5D=changed_name]
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m


Processing PostsController#update_views (for 0.0.0.0 at 2009-09-20 16:20:03) [PUT]
  Parameters: {"id"=>#<Post id: 1, created_at: "2009-09-15 15:15:48", updated_at: "2009-09-16 15:15:48", raw_post: "Seriously, how can you build a good group of people...", post: "Seriously, how can you build a good group of people...", title: "Building communities is all about love.", category_id: 1, user_id: 1, view_count: 0, contest_id: nil, emailed_count: 0, favorited_count: 0, published_as: "live", published_at: "2009-09-15 15:15:48">, "user_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPost Update (0.0ms)[0m   [0;1mUPDATE `posts` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 1) [0m
Completed in 32ms (View: 32, DB: 31) | 200 OK [http://test.host/1/posts/1-building-communities-is-all-about-love/update_views]
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (16.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2009-09-20 16:20:04) [POST]
  Parameters: {"event_id"=>"3", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 3) LIMIT 1[0m
  [4;35;1mRsvp Create (0.0ms)[0m   [0mINSERT INTO `rsvps` (`event_id`, `updated_at`, `user_id`, `attendees_count`, `created_at`) VALUES(3, '2009-09-20 15:20:04', 1, 1, '2009-09-20 15:20:04')[0m
  [4;36;1mActivity Create (16.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(2, 'rsvp', 1, 'Rsvp', '2009-09-20 15:20:04')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:04' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/events/3
Completed in 906ms (DB: 48) | 302 Found [http://test.host/events/3/rsvps?rsvp%5Battendees_count%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 3) [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#destroy (for 0.0.0.0 at 2009-09-20 16:20:04) [DELETE]
  Parameters: {"event_id"=>"2", "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Rsvp') [0m
  [4;35;1mRsvp Destroy (0.0ms)[0m   [0mDELETE FROM `rsvps` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/events/2
Completed in 15ms (DB: 47) | 302 Found [http://test.host/events/2/rsvps/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2009-09-20 16:20:04) [POST]
  Parameters: {"event_id"=>"2", "rsvp"=>{}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
Rendered shared/_box (15.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/events/2/rsvps?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2009-09-20 16:20:05) [POST]
  Parameters: {"event_id"=>"1", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 1) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/events/1/rsvps?rsvp%5Battendees_count%5D=1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m


Processing RsvpsController#create (for 0.0.0.0 at 2009-09-20 16:20:05) [POST]
  Parameters: {"event_id"=>"2", "rsvp"=>{"attendees_count"=>1}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/events/2/rsvps?rsvp%5Battendees_count%5D=1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `rsvps` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing RsvpsController#update (for 0.0.0.0 at 2009-09-20 16:20:05) [PUT]
  Parameters: {"event_id"=>"2", "id"=>"1", "rsvp"=>{"attendees_count"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2 AND `rsvps`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering rsvps/edit
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/events/2/rsvps/1?rsvp%5Battendees_count%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing RsvpsController#update (for 0.0.0.0 at 2009-09-20 16:20:05) [PUT]
  Parameters: {"event_id"=>"2", "id"=>"1", "rsvp"=>{"attendees_count"=>"3"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://test.host/events/2
Filter chain halted as [:require_ownership_or_moderator] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/events/2/rsvps/1?rsvp%5Battendees_count%5D=3]
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1) [0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing RsvpsController#edit (for 0.0.0.0 at 2009-09-20 16:20:05) [GET]
  Parameters: {"event_id"=>"2", "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering rsvps/edit
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 46ms (View: 31, DB: 0) | 200 OK [http://test.host/events/2/rsvps/1/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing RsvpsController#new (for 0.0.0.0 at 2009-09-20 16:20:05) [GET]
  Parameters: {"event_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mEvent Load (0.0ms)[0m   [0;1mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
Rendering template within layouts/application
Rendering rsvps/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (47.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 63, DB: 0) | 200 OK [http://test.host/events/2/rsvps/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing RsvpsController#update (for 0.0.0.0 at 2009-09-20 16:20:05) [PUT]
  Parameters: {"event_id"=>"2", "id"=>"1", "rsvp"=>{"attendees_count"=>"3"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.`id` = 1 AND (`rsvps`.event_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT `rsvps`.id FROM `rsvps` WHERE (`rsvps`.`user_id` = 1 AND `rsvps`.event_id = 2 AND `rsvps`.id <> 1) LIMIT 1[0m
  [4;35;1mRsvp Update (0.0ms)[0m   [0mUPDATE `rsvps` SET `attendees_count` = 3, `updated_at` = '2009-09-20 15:20:05' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/events/2
Completed in 16ms (DB: 16) | 302 Found [http://test.host/events/2/rsvps/1?rsvp%5Battendees_count%5D=3]
  [4;35;1mEvent Load (0.0ms)[0m   [0mSELECT * FROM `events` WHERE (`events`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 4) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (16.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(4, '2009-09-20 15:20:05', 'blah', 'blah', 1, 2, '2009-09-20 15:20:05')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(11, 'sb_post', 2, 'SbPost', '2009-09-20 15:20:05')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:05' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 4) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:20:05', replied_by = 2, last_post_id = 11 WHERE (id = 4) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 4) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.0ms)[0m   [0mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(4, 2, 1)[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 4) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 4) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 3[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 6[0m
  [4;35;1mMessage Load (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 2 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 2 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 2) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 3 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 5[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 3 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 3) [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 3 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.0ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 3[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 4 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 4) [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 4 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 4[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mInvitation Load (0.0ms)[0m   [0mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 2) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2) [0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 1)) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0)) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 2) [0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;36;1mModeratorship Load (0.0ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 2) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-17 15:17:28', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 6[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 14:05:28', replied_by = 11, last_post_id = 7 WHERE (id = 6) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 9 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 9[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 14:17:28', replied_by = 11, last_post_id = 8 WHERE (id = 7) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.user_id = 2) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (16.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 5 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 5[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 6 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 7[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 6[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 2) [0m
  [4;36;1mMonitorship Destroy (0.0ms)[0m   [0;1mDELETE FROM `monitorships` WHERE `id` = 1[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.0ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 2) ORDER BY created_at desc[0m
  [4;35;1mClipping Load (0.0ms)[0m   [0mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 2) ORDER BY created_at desc[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 2) ORDER BY created_at desc[0m
  [4;35;1mUser Destroy (0.0ms)[0m   [0mDELETE FROM `users` WHERE `id` = 2[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 2) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT `sb_posts`.id FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) LIMIT 1[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.0ms)[0m   [0;1mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:20:05', 'blah', 'blah', 1, 2, '2009-09-20 15:20:05')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(12, 'sb_post', 2, 'SbPost', '2009-09-20 15:20:05')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:05' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:20:05', replied_by = 2, last_post_id = 12 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:20:05 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-12 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:20:15', 'blah', 'blah', 1, 2, '2009-09-20 15:20:15')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(13, 'sb_post', 2, 'SbPost', '2009-09-20 15:20:15')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:15' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (15.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:20:15', replied_by = 2, last_post_id = 13 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:20:15 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-13 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;36;1mTopic Load (15.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-17 15:17:28', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (16.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:20:28', 'foo', 'foo', 1, 2, '2009-09-20 15:20:28')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(14, 'sb_post', 2, 'SbPost', '2009-09-20 15:20:28')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:28' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:20:28', replied_by = 2, last_post_id = 14 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:20:29 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-14 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMonitorship Update (0.0ms)[0m   [0;1mUPDATE `monitorships` SET active = 0 WHERE (user_id = 2 and topic_id = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 1) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.0ms)[0m   [0;1mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:20:39', 'bar', 'bar', 1, 2, '2009-09-20 15:20:39')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(15, 'sb_post', 2, 'SbPost', '2009-09-20 15:20:39')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:20:39' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:20:39', replied_by = 2, last_post_id = 15 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:20:39 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-15 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 1) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:20:49', 'ok, ill get right on it', 'ok, ill get right on it', 1, 2, '2009-09-20 15:20:49')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(16, 'sb_post', 2, 'SbPost', '2009-09-20 15:20:49')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:20:49' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:20:49', replied_by = 2, last_post_id = 16 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:20:49 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-16 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2009-09-20 16:21:03) [PUT]
  Parameters: {"topic_id"=>"1-pdi-this", "post"=>{}, "id"=>"3", "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 1 AND `sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this?page=1#sbposts-3
Completed in 328ms (DB: 219) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts/3?]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2009-09-20 16:21:03) [PUT]
  Parameters: {"topic_id"=>"1-pdi-this", "post"=>{}, "id"=>"3", "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 1 AND `sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this?page=1#sbposts-3
Completed in 157ms (DB: 0) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts/3?]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2009-09-20 16:21:03) [PUT]
  Parameters: {"topic_id"=>"6-galactus-is-coming", "post"=>{}, "id"=>"7", "forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 6 AND `sb_posts`.`forum_id` = 2 AND `sb_posts`.`id` = 7) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/2-comics/topics/6-galactus-is-coming?page=1#sbposts-7
Completed in 172ms (DB: 0) | 302 Found [http://test.host/forums/2-comics/topics/6-galactus-is-coming/sb_posts/7?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2009-09-20 16:21:04) [PUT]
  Parameters: {"topic_id"=>"6-galactus-is-coming", "post"=>{}, "id"=>"6", "forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 6 AND `sb_posts`.`forum_id` = 2 AND `sb_posts`.`id` = 6) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2) AND (`moderatorships`.user_id = 11) [0m
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/forums/2-comics/topics/6-galactus-is-coming/sb_posts/6?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (16.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m


Processing SbPostsController#update (for 0.0.0.0 at 2009-09-20 16:21:04) [PUT]
  Parameters: {"topic_id"=>"1-pdi-this", "post"=>{"user_id"=>32}, "id"=>"2", "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 1 AND `sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: user_id
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET `body_html` = 'what? pdi', `updated_at` = '2009-09-20 15:21:04' WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this?page=1#sbposts-2
Completed in 15ms (DB: 16) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts/2?post%5Buser_id%5D=32]
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (16.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `locked` = 1, `updated_at` = '2009-09-20 15:21:04' WHERE `id` = 6[0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 2 WHERE (topic_id = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2009-09-20 16:21:04) [POST]
  Parameters: {"topic_id"=>"6-galactus-is-coming", "post"=>{"body"=>"blah"}, "forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 2 AND `topics`.`id` = 6) LIMIT 1[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
Redirected to http://test.host/forums/2-comics/topics/6-galactus-is-coming
Completed in 15ms (DB: 16) | 302 Found [http://test.host/forums/2-comics/topics/6-galactus-is-coming/sb_posts?post%5Bbody%5D=blah]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m


Processing SbPostsController#edit to js (for 0.0.0.0 at 2009-09-20 16:21:04) [GET]
  Parameters: {"topic_id"=>"6-galactus-is-coming", "id"=>"7", "forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 6 AND `sb_posts`.`forum_id` = 2 AND `sb_posts`.`id` = 7) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Rendering sb_posts/edit
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
Rendered sb_posts/_edit (15.0ms)
Completed in 15ms (View: 15, DB: 0) | 200 OK [http://test.host/forums/2-comics/topics/6-galactus-is-coming/sb_posts/7/edit.js]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2009-09-20 16:21:04) [POST]
  Parameters: {"topic_id"=>"1-pdi-this", "post"=>{"body"=>"blah"}, "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 1 AND `topics`.`id` = 1) LIMIT 1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.0ms)[0m   [0;1mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:21:04', 'blah', 'blah', 1, 2, '2009-09-20 15:21:04')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(17, 'sb_post', 2, 'SbPost', '2009-09-20 15:21:04')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:04' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:21:04', replied_by = 2, last_post_id = 17 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:21:04 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-17 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this?page=1#sbposts-17
Completed in 9391ms (DB: 0) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts?post%5Bbody%5D=blah]
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m


Processing SbPostsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:14) [DELETE]
  Parameters: {"topic_id"=>"1-pdi-this", "id"=>"2", "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 1 AND `sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this
Completed in 31ms (DB: 47) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts/2]
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m


Processing SbPostsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:14) [DELETE]
  Parameters: {"topic_id"=>"1-pdi-this", "id"=>"3", "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 1 AND `sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-17 15:17:28', replied_by = 11, last_post_id = 2 WHERE (id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this
Completed in 32ms (DB: 16) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts/3]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m


Processing SbPostsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:14) [DELETE]
  Parameters: {"topic_id"=>"8-il8n-in-rails", "id"=>"10", "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`topic_id` = 8 AND `sb_posts`.`forum_id` = 1 AND `sb_posts`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 10 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 8) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 10[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 8 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 8) ORDER BY sb_posts.created_at[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails
Completed in 32ms (DB: 0) | 302 Found [http://test.host/forums/1-rails/topics/8-il8n-in-rails/sb_posts/10]
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2009-09-20 16:21:14) [POST]
  Parameters: {"topic_id"=>"1", "post"=>{}, "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 1 AND `topics`.`id` = 1) LIMIT 1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1?page=1#reply-form
Completed in 16ms (DB: 0) | 302 Found [http://test.host/forums/1-rails/topics/1/sb_posts?]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#search (for 0.0.0.0 at 2009-09-20 16:21:14) [GET]
  Parameters: {"q"=>"galactus", "forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') ORDER BY sb_posts.created_at desc LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (11,2)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
Rendered shared/_box (0.0ms)
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') ORDER BY sb_posts.created_at desc LIMIT 0, 2[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') ORDER BY sb_posts.created_at desc LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') ORDER BY sb_posts.created_at desc LIMIT 0, 2[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 79ms (View: 79, DB: 0) | 200 OK [http://test.host/sb_posts/search?forum_id=2-comics&q=galactus]
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%galactus%') ORDER BY sb_posts.created_at desc LIMIT 0, 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SbPostsController#search (for 0.0.0.0 at 2009-09-20 16:21:14) [GET]
  Parameters: {"q"=>"pdi"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
Rendered shared/_box (0.0ms)
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 110ms (View: 94, DB: 0) | 200 OK [http://test.host/sb_posts/search?q=pdi]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE (LOWER(sb_posts.body) LIKE '%pdi%') ORDER BY sb_posts.created_at desc LIMIT 0, 3[0m
  [4;35;1mSQL (15.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing SbPostsController#create (for 0.0.0.0 at 2009-09-20 16:21:14) [POST]
  Parameters: {"topic_id"=>"1-pdi-this", "post"=>{"body"=>"blah"}, "forum_id"=>"1-rails"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`forum_id` = 1 AND `topics`.`id` = 1) LIMIT 1[0m
  [4;36;1mForum Load (16.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:21:14', 'blah', 'blah', 1, 2, '2009-09-20 15:21:14')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(18, 'sb_post', 2, 'SbPost', '2009-09-20 15:21:14')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:14' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:21:14', replied_by = 2, last_post_id = 18 WHERE (id = 1) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:21:14 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-18 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this?page=1#sbposts-18
Completed in 10281ms (DB: 31) | 302 Found [http://test.host/forums/1-rails/topics/1-pdi-this/sb_posts?post%5Bbody%5D=blah]
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing SbPostsController#monitored (for 0.0.0.0 at 2009-09-20 16:21:24) [GET]
  Parameters: {"user_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id INNER JOIN monitorships ON monitorships.topic_id = topics.id WHERE (monitorships.user_id = '2' AND sb_posts.user_id != 2) [0m
Rendering template within layouts/application
Rendering sb_posts/monitored
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 25[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id INNER JOIN monitorships ON monitorships.topic_id = topics.id WHERE (monitorships.user_id = '2' AND sb_posts.user_id != 2) ORDER BY sb_posts.created_at desc LIMIT 0, 1[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id INNER JOIN monitorships ON monitorships.topic_id = topics.id WHERE (monitorships.user_id = '2' AND sb_posts.user_id != 2) ORDER BY sb_posts.created_at desc LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id INNER JOIN monitorships ON monitorships.topic_id = topics.id WHERE (monitorships.user_id = '2' AND sb_posts.user_id != 2) ORDER BY sb_posts.created_at desc LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 141ms (View: 78, DB: 47) | 200 OK [http://test.host/sb_posts/monitored?user_id=2]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id INNER JOIN monitorships ON monitorships.topic_id = topics.id WHERE (monitorships.user_id = '2' AND sb_posts.user_id != 2) ORDER BY sb_posts.created_at desc LIMIT 0, 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#index (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
  Parameters: {"forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
Rendered shared/_box (0.0ms)
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 78, DB: 0) | 200 OK [http://test.host/forums/2-comics/sb_posts]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m


Processing SbPostsController#index to rss (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
  Parameters: {"forum_id"=>"2-comics"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering sb_posts/index
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/2-comics/sb_posts.rss]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.forum_id = 2)) ORDER BY sb_posts.created_at desc LIMIT 0, 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m


Processing SbPostsController#index (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
  Parameters: {"user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendered shared/_box (0.0ms)
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (16.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mSbPost Load (16.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 93ms (View: 61, DB: 32) | 200 OK [http://test.host/forums/recent?user_id=11]
  [4;36;1mSbPost Load (16.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m


Processing SbPostsController#index to rss (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
  Parameters: {"user_id"=>"11"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (11)) [0m
Rendering sb_posts/index
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 15ms (View: 15, DB: 16) | 200 OK [http://test.host/sb_posts.rss?user_id=11]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 5) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id WHERE ((sb_posts.user_id = 11)) ORDER BY sb_posts.created_at desc LIMIT 0, 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SbPostsController#index (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering template within layouts/application
Rendering sb_posts/index
Rendered shared/_box (0.0ms)
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 8) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (16.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (16.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mSbPost Load (16.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (15.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 172ms (View: 109, DB: 63) | 200 OK [http://test.host/forums/recent]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SbPostsController#index to rss (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(sb_posts.id) AS count_sb_posts_id FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT distinct * FROM `users` WHERE (id in (2,11)) [0m
Rendering sb_posts/index
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://test.host/sb_posts.rss]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 10) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 9) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 8) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT sb_posts.*, topics.title as topic_title, forums.name as forum_name FROM `sb_posts` inner join topics on sb_posts.topic_id = topics.id inner join forums on topics.forum_id = forums.id ORDER BY sb_posts.created_at desc LIMIT 0, 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/sessions/new
Completed in 47ms (DB: 0) | 302 Found [http://test.host/logout]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `remember_token_expires_at` = '2009-10-04 15:21:25', `remember_token` = '6e86f9ea29555b8ae2932e5a34047c3c5e6eaf83', `updated_at` = '2009-09-20 15:21:25' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-09-20 16:21:25) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`remember_token` = 'invalid_auth_token') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Rendered shared/_box (0.0ms)
Rendered shared/_login_sidebar (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 31) | 200 OK [http://test.host/login]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2009-09-20 16:21:25) [POST]
  Parameters: {"password"=>"bad password", "login"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Rendered shared/_box (0.0ms)
Rendered shared/_login_sidebar (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 32ms (View: 32, DB: 15) | 200 OK [http://test.host/sessions?login=quentin&password=bad+password]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2009-09-20 16:21:25) [POST]
  Parameters: {"password"=>"test", "login"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:21:25')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:25' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `last_login_at` = '2009-09-20 15:21:25', `updated_at` = '2009-09-20 15:21:25' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:26' WHERE (id = 1) [0m
Redirected to http://test.host/quentin/dashboard
Completed in 47ms (DB: 15) | 302 Found [http://test.host/sessions?login=quentin&password=test]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `remember_token_expires_at` = '2009-10-04 15:21:26', `remember_token` = '1a9cb7265bc6fa344de492aa1a7fe6ceca331871', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing SessionsController#new (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`remember_token` = '1a9cb7265bc6fa344de492aa1a7fe6ceca331871') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `remember_token_expires_at` = '2009-10-04 15:21:26', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:26' WHERE (id = 1) [0m
Redirected to http://test.host/quentin
Completed in 15ms (DB: 0) | 302 Found [http://test.host/login]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `crypted_password` = 'f450150ae5615ce87a31080c903acda34915c2af', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing SessionsController#create (for 0.0.0.0 at 2009-09-20 16:21:26) [POST]
  Parameters: {"password"=>"sHsEtpmN", "login"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:21:26')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `last_login_at` = '2009-09-20 15:21:26', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:26' WHERE (id = 1) [0m
Redirected to http://test.host/quentin/dashboard
Completed in 47ms (DB: 16) | 302 Found [http://test.host/sessions?login=quentin&password=sHsEtpmN]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing SessionsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/sessions/new
Completed in 266ms (DB: 16) | 302 Found [http://test.host/logout]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2009-09-20 16:21:26) [POST]
  Parameters: {"password"=>"test", "login"=>"quentin", "remember_me"=>"0"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:21:26')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `last_login_at` = '2009-09-20 15:21:26', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:26' WHERE (id = 1) [0m
Redirected to http://test.host/quentin/dashboard
Completed in 47ms (DB: 15) | 302 Found [http://test.host/sessions?login=quentin&password=test&remember_me=0]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SessionsController#create (for 0.0.0.0 at 2009-09-20 16:21:26) [POST]
  Parameters: {"password"=>"test", "login"=>"quentin", "remember_me"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:21:26')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `last_login_at` = '2009-09-20 15:21:26', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Update (16.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:26' WHERE (id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `remember_token_expires_at` = '2009-10-04 15:21:26', `sb_last_seen_at` = '2009-09-20 15:21:26', `remember_token` = '1a9cb7265bc6fa344de492aa1a7fe6ceca331871', `updated_at` = '2009-09-20 15:21:26' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/dashboard
Completed in 47ms (DB: 16) | 302 Found [http://test.host/sessions?login=quentin&password=test&remember_me=1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SitemapController#index (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT id, login, updated_at, login_slug FROM `users` WHERE (users.activated_at IS NOT NULL) [0m
  [4;35;1mPost Load Including Associations (0.0ms)[0m   [0mSELECT `posts`.`id` AS t0_r0, `posts`.`created_at` AS t0_r1, `posts`.`updated_at` AS t0_r2, `posts`.`raw_post` AS t0_r3, `posts`.`post` AS t0_r4, `posts`.`title` AS t0_r5, `posts`.`category_id` AS t0_r6, `posts`.`user_id` AS t0_r7, `posts`.`view_count` AS t0_r8, `posts`.`contest_id` AS t0_r9, `posts`.`emailed_count` AS t0_r10, `posts`.`favorited_count` AS t0_r11, `posts`.`published_as` AS t0_r12, `posts`.`published_at` AS t0_r13, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`email` AS t1_r2, `users`.`description` AS t1_r3, `users`.`avatar_id` AS t1_r4, `users`.`crypted_password` AS t1_r5, `users`.`salt` AS t1_r6, `users`.`created_at` AS t1_r7, `users`.`updated_at` AS t1_r8, `users`.`remember_token` AS t1_r9, `users`.`remember_token_expires_at` AS t1_r10, `users`.`stylesheet` AS t1_r11, `users`.`view_count` AS t1_r12, `users`.`vendor` AS t1_r13, `users`.`activation_code` AS t1_r14, `users`.`activated_at` AS t1_r15, `users`.`state_id` AS t1_r16, `users`.`metro_area_id` AS t1_r17, `users`.`login_slug` AS t1_r18, `users`.`notify_comments` AS t1_r19, `users`.`notify_friend_requests` AS t1_r20, `users`.`notify_community_news` AS t1_r21, `users`.`country_id` AS t1_r22, `users`.`featured_writer` AS t1_r23, `users`.`last_login_at` AS t1_r24, `users`.`zip` AS t1_r25, `users`.`birthday` AS t1_r26, `users`.`gender` AS t1_r27, `users`.`profile_public` AS t1_r28, `users`.`activities_count` AS t1_r29, `users`.`sb_posts_count` AS t1_r30, `users`.`sb_last_seen_at` AS t1_r31, `users`.`role_id` AS t1_r32 FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE (published_as = 'live') [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendering template within layouts/application
Rendering sitemap/index
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 31, DB: 0) | 200 OK [http://test.host/sitemap]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m


Processing SkillsController#create (for 0.0.0.0 at 2009-09-20 16:21:26) [POST]
  Parameters: {"skill"=>{"name"=>"Soldering"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT `skills`.id FROM `skills` WHERE (`skills`.`name` = BINARY 'Soldering') LIMIT 1[0m
  [4;35;1mSkill Create (0.0ms)[0m   [0mINSERT INTO `skills` (`name`) VALUES('Soldering')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/skills/5-soldering
Completed in 31ms (DB: 0) | 302 Found [http://test.host/skills?skill%5Bname%5D=Soldering]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m


Processing SkillsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:26) [DELETE]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSkill Destroy (0.0ms)[0m   [0mDELETE FROM `skills` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/skills
Completed in 0ms (DB: 0) | 302 Found [http://test.host/skills/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (16.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing SkillsController#new (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 0ms (DB: 16) | 302 Found [http://test.host/skills/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing SkillsController#edit (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendering template within layouts/application
Rendering skills/edit
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/skills/1/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SkillsController#index (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (users.vendor = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (users.updated_at > '2009-09-15 15:21:26' AND vendor = 1) ORDER BY users.view_count DESC LIMIT 5[0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT `offerings`.* FROM `offerings` WHERE (`offerings`.user_id IN (5,9)) [0m
Rendering template within layouts/application
Rendering skills/index
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` ORDER BY name[0m
Rendered shared/_box (0.0ms)
Rendered skills/_sidebar_menu (15.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_sidebar_user (0.0ms)
Rendered users/_sidebar_user (0.0ms)
Rendered shared/_box (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.vendor = 1) ORDER BY users.created_at DESC LIMIT 0, 2[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (5,9) and `taggings`.`taggable_type` = 'User') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
Rendered users/_user (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendered users/_user (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 62, DB: 0) | 200 OK [http://test.host/skills]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing SkillsController#new (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering skills/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/skills/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing SkillsController#create (for 0.0.0.0 at 2009-09-20 16:21:26) [POST]
  Parameters: {"skill"=>{"name"=>"plumbing"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 16ms (DB: 0) | 302 Found [http://test.host/skills?skill%5Bname%5D=plumbing]


Processing SkillsController#update (for 0.0.0.0 at 2009-09-20 16:21:26) [PUT]
  Parameters: {"id"=>"1", "skill"=>{"name"=>"Welding"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/skills?skill%5Bname%5D=plumbing]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SkillsController#index (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE (users.vendor = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.updated_at > '2009-09-15 15:21:26' AND vendor = 1) ORDER BY users.view_count DESC LIMIT 5[0m
  [4;35;1mOffering Load (0.0ms)[0m   [0mSELECT `offerings`.* FROM `offerings` WHERE (`offerings`.user_id IN (5,9)) [0m
Rendering template within layouts/application
Rendering skills/index
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` ORDER BY name[0m
Rendered shared/_box (0.0ms)
Rendered skills/_sidebar_menu (16.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_sidebar_user (0.0ms)
Rendered users/_sidebar_user (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (users.vendor = 1) ORDER BY users.created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (5,9) and `taggings`.`taggable_type` = 'User') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mOffering Load (0.0ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 63, DB: 0) | 200 OK [http://test.host/skills]


Processing SkillsController#show (for 0.0.0.0 at 2009-09-20 16:21:26) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(`users`.id) AS count_users_id FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) [0m
Rendering template within layouts/application
Rendering skills/show
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` ORDER BY name[0m
Rendered shared/_box (0.0ms)
Rendered skills/_sidebar_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) LIMIT 0, 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mOffering Load (0.0ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 9)) [0m
Rendered users/_user (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 46, DB: 0) | 200 OK [http://test.host/skills]


Processing SkillsController#create (for 0.0.0.0 at 2009-09-20 16:21:26) [POST]
  Parameters: {"skill"=>{"name"=>"plumbing"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (View: 46, DB: 0) | 302 Found [http://test.host/skills]


Processing SkillsController#update (for 0.0.0.0 at 2009-09-20 16:21:26) [PUT]
  Parameters: {"id"=>"1", "skill"=>{"name"=>"Welding"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (View: 46, DB: 0) | 302 Found [http://test.host/skills]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m


Processing SkillsController#create (for 0.0.0.0 at 2009-09-20 16:21:27) [POST]
  Parameters: {"skill"=>{"name"=>"plumbing"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT `skills`.id FROM `skills` WHERE (`skills`.`name` = BINARY 'plumbing') LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering skills/new
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/skills?skill%5Bname%5D=plumbing]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `skills` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing SkillsController#show (for 0.0.0.0 at 2009-09-20 16:21:27) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(`users`.id) AS count_users_id FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) [0m
Rendering template within layouts/application
Rendering skills/show
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` ORDER BY name[0m
Rendered shared/_box (0.0ms)
Rendered skills/_sidebar_menu (15.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `offerings` ON `users`.id = `offerings`.user_id WHERE ((`offerings`.skill_id = 1)) LIMIT 0, 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 9)) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 46ms (View: 46, DB: 0) | 200 OK [http://test.host/skills/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing SkillsController#update (for 0.0.0.0 at 2009-09-20 16:21:27) [PUT]
  Parameters: {"id"=>"1", "skill"=>{"name"=>"Welding"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT `skills`.id FROM `skills` WHERE (`skills`.`name` = BINARY 'Welding' AND `skills`.id <> 1) LIMIT 1[0m
  [4;36;1mSkill Update (0.0ms)[0m   [0;1mUPDATE `skills` SET `name` = 'Welding' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/skills/1-welding
Completed in 0ms (DB: 0) | 302 Found [http://test.host/skills/1?skill%5Bname%5D=Welding]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing StatisticsController#activities_chart (for 0.0.0.0 at 2009-09-20 16:21:27) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'logged_in' AND created_at > '2009-09-10 15:21:27') GROUP BY date(created_at) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'comment' AND created_at > '2009-09-10 15:21:27') GROUP BY date(created_at) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'post' AND created_at > '2009-09-10 15:21:27') GROUP BY date(created_at) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'photo' AND created_at > '2009-09-10 15:21:27') GROUP BY date(created_at) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all, date(created_at) AS date_created_at FROM `activities` WHERE (action = 'clipping' AND created_at > '2009-09-10 15:21:27') GROUP BY date(created_at) [0m

ZiYa [loading] -- C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/public/charts/themes//default/base_chart.yml
Completed in 625ms (View: 16, DB: 31) | 200 OK [http://test.host/statistics/activities_chart]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing StatisticsController#index (for 0.0.0.0 at 2009-09-20 16:21:27) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (activated_at IS NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL) AND created_at >= '2009-09-19 00:00:00' AND created_at <= '2009-09-20 00:00:00') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL) AND created_at >= '2009-09-20 00:00:00' AND created_at <= '2009-09-21 00:00:00') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all, user_id AS user_id FROM `activities` WHERE (created_at > '2009-08-20 15:21:27') GROUP BY user_id [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT activities.user_id, count(*) as count FROM `activities` LEFT JOIN users ON users.id = activities.user_id WHERE ( users.avatar_id IS NOT NULL) AND (activities.created_at > '2009-08-20 15:21:27') GROUP BY activities.user_id ORDER BY count DESC LIMIT 30[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (zip IS NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (gender IS NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (gender = 'M') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (gender = 'F') [0m
  [4;35;1mPost Load Including Associations (0.0ms)[0m   [0mSELECT `posts`.`id` AS t0_r0, `posts`.`created_at` AS t0_r1, `posts`.`updated_at` AS t0_r2, `posts`.`raw_post` AS t0_r3, `posts`.`post` AS t0_r4, `posts`.`title` AS t0_r5, `posts`.`category_id` AS t0_r6, `posts`.`user_id` AS t0_r7, `posts`.`view_count` AS t0_r8, `posts`.`contest_id` AS t0_r9, `posts`.`emailed_count` AS t0_r10, `posts`.`favorited_count` AS t0_r11, `posts`.`published_as` AS t0_r12, `posts`.`published_at` AS t0_r13, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`email` AS t1_r2, `users`.`description` AS t1_r3, `users`.`avatar_id` AS t1_r4, `users`.`crypted_password` AS t1_r5, `users`.`salt` AS t1_r6, `users`.`created_at` AS t1_r7, `users`.`updated_at` AS t1_r8, `users`.`remember_token` AS t1_r9, `users`.`remember_token_expires_at` AS t1_r10, `users`.`stylesheet` AS t1_r11, `users`.`view_count` AS t1_r12, `users`.`vendor` AS t1_r13, `users`.`activation_code` AS t1_r14, `users`.`activated_at` AS t1_r15, `users`.`state_id` AS t1_r16, `users`.`metro_area_id` AS t1_r17, `users`.`login_slug` AS t1_r18, `users`.`notify_comments` AS t1_r19, `users`.`notify_friend_requests` AS t1_r20, `users`.`notify_community_news` AS t1_r21, `users`.`country_id` AS t1_r22, `users`.`featured_writer` AS t1_r23, `users`.`last_login_at` AS t1_r24, `users`.`zip` AS t1_r25, `users`.`birthday` AS t1_r26, `users`.`gender` AS t1_r27, `users`.`profile_public` AS t1_r28, `users`.`activities_count` AS t1_r29, `users`.`sb_posts_count` AS t1_r30, `users`.`sb_last_seen_at` AS t1_r31, `users`.`role_id` AS t1_r32 FROM `posts` LEFT OUTER JOIN `users` ON `users`.id = `posts`.user_id WHERE ('2009-09-01 00:00:00' <= posts.published_at AND posts.published_at <= '2009-10-01 23:59:59' AND users.featured_writer = 1) AND (published_as = 'live') [0m
Rendering template within layouts/application
Rendering statistics/index
Rendered shared/_box (0.0ms)
Rendered shared/_admin_nav (0.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (users.featured_writer = 1) [0m
Rendered shared/_box (16.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 63, DB: 0) | 200 OK [http://test.host/statistics]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing StatisticsController#index (for 0.0.0.0 at 2009-09-20 16:21:27) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/statistics]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TagsController#auto_complete_for_tag_name to js (for 0.0.0.0 at 2009-09-20 16:21:27) [GET]
  Parameters: {"id"=>"mis"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (LOWER(name) LIKE '%mis%') [0m
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://test.host/tags/auto_complete_for_tag_name/mis.js]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TagsController#show (for 0.0.0.0 at 2009-09-20 16:21:28) [GET]
  Parameters: {"id"=>"tag_that_does_not_exist"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name IN ('tag_that_does_not_exist')) [0m
Redirected to http://test.host/admin/tags/index
Completed in 16ms (DB: 0) | 302 Found [http://test.host/tags/show/tag_that_does_not_exist]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TagsController#index (for 0.0.0.0 at 2009-09-20 16:21:28) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 100[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'User' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'Post' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'Photo' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count 
 FROM taggings, tags 
 WHERE tags.id = taggings.tag_id AND taggings.taggable_type = 'Clipping' GROUP BY tags.id, tags.name ORDER BY count DESC LIMIT 75[0m
Rendering template within layouts/application
Rendering tags/index
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 32, DB: 15) | 200 OK [http://test.host/admin/tags/index]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 3) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 3)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'General') LIMIT 1[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(1, 'Post', 3)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'Extra') LIMIT 1[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(3, 'Post', 3)[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 3 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(3, 'post', 2, 'Post', '2009-09-20 15:21:28')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:28' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 4) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'General') LIMIT 1[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(1, 'Post', 4)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'Extra') LIMIT 1[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(3, 'Post', 4)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'Misc') LIMIT 1[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(2, 'Post', 4)[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`item_id` = 4 AND `activities`.`item_type` = 'Post') LIMIT 1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(4, 'post', 2, 'Post', '2009-09-20 15:21:28')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:21:28' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing TagsController#show (for 0.0.0.0 at 2009-09-20 16:21:28) [GET]
  Parameters: {"id"=>"General,Extra"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name IN ('General','Extra')) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.tag_id = 3) LIMIT 10[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count FROM tags
 LEFT OUTER JOIN taggings
 ON taggings.tag_id = tags.id
 WHERE (taggings.taggable_id IN (3,4))
 AND tags.id != '3'
 GROUP BY tags.id, tags.name
 ORDER BY count DESC
 LIMIT 10[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.tag_id = 1) LIMIT 10[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count FROM tags
 LEFT OUTER JOIN taggings
 ON taggings.tag_id = tags.id
 WHERE (taggings.taggable_id IN (1,3,4))
 AND tags.id != '1'
 GROUP BY tags.id, tags.name
 ORDER BY count DESC
 LIMIT 10[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT DISTINCT posts.* FROM `posts` INNER JOIN taggings posts_taggings ON posts_taggings.taggable_id = posts.id AND posts_taggings.taggable_type = 'Post' INNER JOIN tags posts_tags ON posts_tags.id = posts_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Post' AND
 taggable_id = posts.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) AND (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Photo' AND
 taggable_id = photos.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT DISTINCT users.* FROM `users` INNER JOIN taggings users_taggings ON users_taggings.taggable_id = users.id AND users_taggings.taggable_type = 'User' INNER JOIN tags users_tags ON users_tags.id = users_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'User' AND
 taggable_id = users.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) ORDER BY users.created_at DESC LIMIT 10[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Clipping' AND
 taggable_id = clippings.id AND
 (tags.name LIKE 'General' OR tags.name LIKE 'Extra')) = 2
) ORDER BY clippings.created_at DESC LIMIT 10[0m
Rendering template within layouts/application
Rendering tags/show
Rendered shared/_box (16.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 62, DB: 0) | 200 OK [http://test.host/tags/show/General,Extra]
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m


Processing TagsController#show (for 0.0.0.0 at 2009-09-20 16:21:28) [GET]
  Parameters: {"id"=>"General"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name IN ('General')) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.tag_id = 1) LIMIT 10[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, count(*) AS count FROM tags
 LEFT OUTER JOIN taggings
 ON taggings.tag_id = tags.id
 WHERE (taggings.taggable_id IN (1))
 AND tags.id != '1'
 GROUP BY tags.id, tags.name
 ORDER BY count DESC
 LIMIT 10[0m
  [4;35;1mPost Load (16.0ms)[0m   [0mSELECT DISTINCT posts.* FROM `posts` INNER JOIN taggings posts_taggings ON posts_taggings.taggable_id = posts.id AND posts_taggings.taggable_type = 'Post' INNER JOIN tags posts_tags ON posts_tags.id = posts_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Post' AND
 taggable_id = posts.id AND
 (tags.name LIKE 'General')) = 1
) AND (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 5[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT DISTINCT photos.* FROM `photos` INNER JOIN taggings photos_taggings ON photos_taggings.taggable_id = photos.id AND photos_taggings.taggable_type = 'Photo' INNER JOIN tags photos_tags ON photos_tags.id = photos_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Photo' AND
 taggable_id = photos.id AND
 (tags.name LIKE 'General')) = 1
) AND (photos.parent_id IS NULL) ORDER BY photos.created_at DESC LIMIT 10[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT DISTINCT users.* FROM `users` INNER JOIN taggings users_taggings ON users_taggings.taggable_id = users.id AND users_taggings.taggable_type = 'User' INNER JOIN tags users_tags ON users_tags.id = users_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'User' AND
 taggable_id = users.id AND
 (tags.name LIKE 'General')) = 1
) ORDER BY users.created_at DESC LIMIT 10[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT DISTINCT clippings.* FROM `clippings` INNER JOIN taggings clippings_taggings ON clippings_taggings.taggable_id = clippings.id AND clippings_taggings.taggable_type = 'Clipping' INNER JOIN tags clippings_tags ON clippings_tags.id = clippings_taggings.tag_id WHERE ( (SELECT COUNT(*) FROM taggings
 INNER JOIN tags ON taggings.tag_id = tags.id
 WHERE taggings.taggable_type = 'Clipping' AND
 taggable_id = clippings.id AND
 (tags.name LIKE 'General')) = 1
) ORDER BY clippings.created_at DESC LIMIT 10[0m
Rendering template within layouts/application
Rendering tags/show
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 47) | 200 OK [http://test.host/tags/show/General]
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ThemeController#stylesheets (for 0.0.0.0 at 2009-09-20 16:21:28) [GET]
  Parameters: {"filename"=>"../../../config/database.yml"}
[I18n] loading locale: en from config
[I18n] Locale set to en
Completed in 31ms (View: 16, DB: 0) | 404 Not Found [http://test.host/stylesheets/theme/..%2F..%2F..%2Fconfig%2Fdatabase.yml]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to sam@email.com

Date: Sun, 20 Sep 2009 16:21:28 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: sam@email.com
Subject: [Community] aaron has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey sam!

aaron has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-3 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//sam/edit_account
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Create (0.0ms)[0m   [0mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:38', 'happy life', '2009-09-20 15:21:38', NULL, 1, NULL, 2, 0, 0, '2009-09-20 15:21:38', 0)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(9, 'topic', 2, 'Topic', '2009-09-20 15:21:38')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:38' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 9) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.0ms)[0m   [0mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(9, 2, 1)[0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 9) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `forum_id` = 2, `updated_at` = '2009-09-20 15:21:38' WHERE `id` = 1[0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 2 WHERE (topic_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.user_id = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Create (0.0ms)[0m   [0;1mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(1, '2009-09-20 15:21:38', 'I\'ll do it', 'I\'ll do it', 1, 11, '2009-09-20 15:21:38')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(19, 'sb_post', 11, 'SbPost', '2009-09-20 15:21:38')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 11) [0m
  [4;36;1mUser Update (15.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:38' WHERE `id` = 11[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 11)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:21:38', replied_by = 11, last_post_id = 19 WHERE (id = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = 1) LIMIT 1[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to aaron@example.com

Date: Sun, 20 Sep 2009 16:21:38 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] sam has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey aaron!

sam has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/1-pdi-this?page=1#sbposts-19 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//aaron/edit_account
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.user_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 11 AND `taggings`.taggable_type = 'User') [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 11 AND `comments`.commentable_type = 'User') [0m
  [4;36;1mMessage Load (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.sender_id = 11 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mMessage Load (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 11 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.user_id = 11) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 11) ORDER BY created_at desc[0m
  [4;36;1mInvitation Load (0.0ms)[0m   [0;1mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 11) [0m
  [4;35;1mOffering Load (0.0ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 11) [0m
  [4;36;1mRsvp Load (0.0ms)[0m   [0;1mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 11) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 11) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 11 AND (initiator = 1)) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 11 AND (initiator = 0)) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 11) [0m
  [4;35;1mModeratorship Load (0.0ms)[0m   [0mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 11) [0m
  [4;36;1mModeratorship Destroy (16.0ms)[0m   [0;1mDELETE FROM `moderatorships` WHERE `id` = 1[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 11) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 5) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 5[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 5) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 6) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 7[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 6) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 13:17:28', replied_by = 2, last_post_id = 6 WHERE (id = 6) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 8 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 8[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:02:28', replied_by = 2, last_post_id = 9 WHERE (id = 7) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.user_id = 11) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;35;1mTopic Destroy (0.0ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 7 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 7 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 9 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 7) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 9[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 7) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 7) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.0ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 7[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 11) [0m
  [4;35;1mMonitorship Destroy (0.0ms)[0m   [0mDELETE FROM `monitorships` WHERE `id` = 2[0m
  [4;36;1mComment Load (15.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.user_id = 11) ORDER BY created_at desc[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 11) ORDER BY created_at desc[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 11) ORDER BY created_at desc[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 11) ORDER BY created_at desc[0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 11[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 11) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 11)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT `topics`.id FROM `topics` WHERE (`topics`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Create (0.0ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:48', 'foo', '2009-09-20 15:21:48', NULL, 1, NULL, 2, 0, 0, '2009-09-20 15:21:48', 0)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(10, 'topic', 2, 'Topic', '2009-09-20 15:21:48')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:48' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 10) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.0ms)[0m   [0;1mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(10, 2, 1)[0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 10) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.0ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTopic Create (0.0ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:48', 'happy life', '2009-09-20 15:21:48', NULL, 1, NULL, 2, 0, 0, '2009-09-20 15:21:48', 0)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(11, 'topic', 2, 'Topic', '2009-09-20 15:21:48')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:48' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 11) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.0ms)[0m   [0;1mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(11, 2, 1)[0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Create (0.0ms)[0m   [0mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:48', 'foo', '2009-09-20 15:21:48', NULL, 1, NULL, 2, 0, 0, '2009-09-20 15:21:48', 0)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(12, 'topic', 2, 'Topic', '2009-09-20 15:21:48')[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:48' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 12) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.0ms)[0m   [0mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(12, 2, 1)[0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 12) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 12) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#create (for 0.0.0.0 at 2009-09-20 16:21:49) [POST]
  Parameters: {"topic"=>{"title"=>"blah2", "body"=>"foo", "sticky"=>"1", "locked"=>"1"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body, sticky, locked
WARNING: Can't mass-assign these protected attributes: title, sticky, locked
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Create (0.0ms)[0m   [0mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:49', 'blah2', '2009-09-20 15:21:49', NULL, 1, NULL, 4, 0, 1, '2009-09-20 15:21:49', 1)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(13, 'topic', 4, 'Topic', '2009-09-20 15:21:49')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 4) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `login_slug` = 'administrator', `activities_count` = 1, `updated_at` = '2009-09-20 15:21:49' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Create (0.0ms)[0m   [0;1mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(13, '2009-09-20 15:21:49', 'foo', 'foo', 1, 4, '2009-09-20 15:21:49')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(20, 'sb_post', 4, 'SbPost', '2009-09-20 15:21:49')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 4) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:21:49' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 4) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 13) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:21:49', replied_by = 4, last_post_id = 20 WHERE (id = 13) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 4 AND `monitorships`.`topic_id` = 13) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.0ms)[0m   [0;1mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(13, 4, 1)[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 13) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 4 AND `monitorships`.`topic_id` = 13) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 13)) [0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 13) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/13-blah2
Completed in 93ms (DB: 171) | 302 Found [http://test.host/forums/1/topics?topic%5Bbody%5D=foo&topic%5Blocked%5D=1&topic%5Bsticky%5D=1&topic%5Btitle%5D=blah2]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:49) [DELETE]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Topic') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Topic') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 1[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 2[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-18 15:17:28', replied_by = 2, last_post_id = 3 WHERE (id = 1) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 3 AND `activities`.item_type = 'SbPost') [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `sb_posts` WHERE `id` = 3[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;35;1mTopic Destroy (0.0ms)[0m   [0mDELETE FROM `topics` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails
Completed in 344ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/1]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `topics` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing TopicsController#create (for 0.0.0.0 at 2009-09-20 16:21:49) [POST]
  Parameters: {"topic"=>{"title"=>"blah", "body"=>"foo"}, "tag_list"=>"tag1, tag2", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 2) [0m
WARNING: Can't mass-assign these protected attributes: title
  [4;35;1mTopic Create (0.0ms)[0m   [0mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:49', 'blah', '2009-09-20 15:21:49', NULL, 1, NULL, 2, 0, 0, '2009-09-20 15:21:49', 0)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(14, 'topic', 2, 'Topic', '2009-09-20 15:21:49')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:49' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mSbPost Create (0.0ms)[0m   [0;1mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(14, '2009-09-20 15:21:49', 'foo', 'foo', 1, 2, '2009-09-20 15:21:49')[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(21, 'sb_post', 2, 'SbPost', '2009-09-20 15:21:49')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:21:49' WHERE `id` = 2[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mForum Update (0.0ms)[0m   [0mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 2) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 14) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET replied_at = '2009-09-20 15:21:49', replied_by = 2, last_post_id = 21 WHERE (id = 14) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 14) LIMIT 1[0m
  [4;36;1mMonitorship Create (0.0ms)[0m   [0;1mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(14, 2, 1)[0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 14) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 2 AND `monitorships`.`topic_id` = 14) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 14)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;36;1mTagging Create (16.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(22, 'Topic', 14)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(23, 'Topic', 14)[0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 14) [0m
  [4;36;1mSQL (15.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/14-blah
Completed in 109ms (DB: 31) | 302 Found [http://test.host/forums/1/topics?tag_list=tag1%2C+tag2&topic%5Bbody%5D=foo&topic%5Btitle%5D=blah]
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 14) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 14)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#destroy (for 0.0.0.0 at 2009-09-20 16:21:49) [DELETE]
  Parameters: {"id"=>"4", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'Topic') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 4 AND `taggings`.taggable_type = 'Topic') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 4 AND `activities`.item_type = 'SbPost') [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) - 1 WHERE (`id` = 4) [0m
  [4;35;1mSbPost Destroy (0.0ms)[0m   [0mDELETE FROM `sb_posts` WHERE `id` = 4[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at desc, sb_posts.created_at LIMIT 1[0m
  [4;36;1mTopic Destroy (0.0ms)[0m   [0;1mDELETE FROM `topics` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails
Completed in 31ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/4]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing TopicsController#edit (for 0.0.0.0 at 2009-09-20 16:21:49) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Rendering template within layouts/application
Rendering topics/edit
Rendered shared/_box (0.0ms)
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 1)) [0m
Rendered topics/_form (16.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/forums/1/topics/1/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TopicsController#index (for 0.0.0.0 at 2009-09-20 16:21:49) [GET]
  Parameters: {"forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Redirected to http://test.host/forums/1
Completed in 0ms (DB: 0) | 302 Found [http://test.host/forums/1/topics]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TopicsController#index to xml (for 0.0.0.0 at 2009-09-20 16:21:49) [GET]
  Parameters: {"forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.forum_id = 1) ORDER BY sticky desc, replied_at desc, sticky desc, replied_at desc LIMIT 25[0m
Completed in 31ms (View: 16, DB: 0) | 200 OK [http://test.host/forums/1/topics.xml]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing TopicsController#new (for 0.0.0.0 at 2009-09-20 16:21:49) [GET]
  Parameters: {"forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering topics/new
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = NULL) AND (`moderatorships`.user_id = 2) [0m
Rendered topics/_form (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 2 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 47, DB: 0) | 200 OK [http://test.host/forums/1/topics/new]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show to rss (for 0.0.0.0 at 2009-09-20 16:21:49) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:49' WHERE (id = 2) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY created_at desc, sb_posts.created_at LIMIT 25[0m
Rendering topics/show
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://test.host/forums/1/topics/1.rss]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#create (for 0.0.0.0 at 2009-09-20 16:21:50) [POST]
  Parameters: {"topic"=>{"title"=>"blah"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 2) [0m
WARNING: Can't mass-assign these protected attributes: title
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering topics/new
Rendered shared/_box (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 2) [0m
Rendered topics/_form (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 2 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 46, DB: 62) | 200 OK [http://test.host/forums/1/topics?topic%5Btitle%5D=blah]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `topics` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6) [0m


Processing TopicsController#update (for 0.0.0.0 at 2009-09-20 16:21:50) [PUT]
  Parameters: {"topic"=>{}, "id"=>"6", "forum_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 6 AND (`topics`.forum_id = 2)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 2) AND (`moderatorships`.user_id = 11) [0m
Redirected to http://test.host/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 31) | 302 Found [http://test.host/forums/2/topics/6?]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#update (for 0.0.0.0 at 2009-09-20 16:21:50) [PUT]
  Parameters: {"topic"=>{"user_id"=>32}, "id"=>"4", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
WARNING: Can't mass-assign these protected attributes: user_id
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `locked` = NULL, `sticky` = NULL, `updated_at` = '2009-09-20 15:21:50' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/4-ponies
Completed in 16ms (DB: 15) | 302 Found [http://test.host/forums/1/topics/4?topic%5Buser_id%5D=32]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#show to rss (for 0.0.0.0 at 2009-09-20 16:21:50) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY created_at desc, sb_posts.created_at LIMIT 25[0m
Rendering topics/show
Completed in 282ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/1/topics/1.rss]
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#show (for 0.0.0.0 at 2009-09-20 16:21:50) [GET]
  Parameters: {"id"=>"4", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 109, DB: 0) | 200 OK [http://test.host/forums/1/topics/4]
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 4) AND (`sb_posts`.topic_id = 4) ORDER BY sb_posts.created_at LIMIT 0, 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show (for 0.0.0.0 at 2009-09-20 16:21:50) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 109, DB: 47) | 200 OK [http://test.host/forums/1/topics/1]
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 2) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 3) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show to rss (for 0.0.0.0 at 2009-09-20 16:21:51) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY created_at desc, sb_posts.created_at LIMIT 25[0m
Rendering topics/show
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://test.host/forums/1/topics/1.rss]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#show to xml (for 0.0.0.0 at 2009-09-20 16:21:51) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://test.host/forums/1/topics/1.xml]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#update (for 0.0.0.0 at 2009-09-20 16:21:51) [PUT]
  Parameters: {"topic"=>{}, "id"=>#<Topic id: 4, forum_id: 1, user_id: 11, title: "ponies", created_at: "2009-09-18 16:21:50", updated_at: "2009-09-20 15:21:50", hits: 0, sticky: 0, sb_posts_count: 1, replied_at: "2009-09-18 16:21:50", locked: false, replied_by: 2, last_post_id: 4>, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET `locked` = NULL, `sticky` = NULL, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 4[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 4)) [0m
  [4;35;1mSbPost Update (0.0ms)[0m   [0mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/4-ponies
Completed in 15ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/4-ponies?]
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m


Processing TopicsController#update (for 0.0.0.0 at 2009-09-20 16:21:51) [PUT]
  Parameters: {"topic"=>{}, "id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `locked` = NULL, `sticky` = NULL, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/1-pdi-this
Completed in 31ms (DB: 16) | 302 Found [http://test.host/forums/1/topics/1?]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m


Processing TopicsController#update (for 0.0.0.0 at 2009-09-20 16:21:51) [PUT]
  Parameters: {"topic"=>{}, "id"=>"4", "tag_list"=>"tagX, tagY", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `locked` = NULL, `sticky` = NULL, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 4[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagX') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagX') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tagX')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(24, 'Topic', 4)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (name LIKE 'tagY') LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tagY') LIMIT 1[0m
  [4;36;1mTag Create (0.0ms)[0m   [0;1mINSERT INTO `tags` (`name`) VALUES('tagY')[0m
  [4;35;1mTagging Create (0.0ms)[0m   [0mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(25, 'Topic', 4)[0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/4-ponies
Completed in 47ms (DB: 0) | 302 Found [http://test.host/forums/1/topics/4?&tag_list=tagX%2C+tagY]
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 4)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#show (for 0.0.0.0 at 2009-09-20 16:21:51) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `hits` = COALESCE(`hits`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (15.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 110ms (View: 79, DB: 15) | 200 OK [http://test.host/forums/1/topics/1]
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m


Processing TopicsController#show (for 0.0.0.0 at 2009-09-20 16:21:51) [GET]
  Parameters: {"id"=>"1", "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1 AND (`topics`.forum_id = 1)) ORDER BY sticky desc, replied_at desc[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:51' WHERE (id = 2) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:21:51' WHERE (id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT sb_posts.id) AS count_sb_posts_id FROM `sb_posts` LEFT OUTER JOIN `users` ON `users`.id = `sb_posts`.user_id WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendering template within layouts/application
Rendering topics/show
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT `topics`.* FROM `topics` INNER JOIN `monitorships` ON `topics`.id = `monitorships`.topic_id WHERE (`topics`.`id` = 1) AND ((`monitorships`.user_id = 2) AND ((monitorships.active = 1))) ORDER BY topics.replied_at desc LIMIT 1[0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at[0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 2) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
  [4;36;1mSbPost Load (0.0ms)[0m   [0;1mSELECT * FROM `sb_posts` WHERE (`sb_posts`.topic_id = 1) AND (`sb_posts`.topic_id = 1) ORDER BY sb_posts.created_at LIMIT 0, 3[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IN (11,2)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 2 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 141ms (View: 125, DB: 0) | 200 OK [http://test.host/forums/1/topics/1]
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 1) [0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m


Processing TopicsController#create (for 0.0.0.0 at 2009-09-20 16:21:51) [POST]
  Parameters: {"topic"=>{"title"=>"blah", "body"=>"foo", "sticky"=>"1", "locked"=>"1"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body, sticky, locked
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 11) [0m
WARNING: Can't mass-assign these protected attributes: title, sticky, locked
  [4;36;1mTopic Create (0.0ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:51', 'blah', '2009-09-20 15:21:51', NULL, 1, NULL, 11, 0, 1, '2009-09-20 15:21:51', 1)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(15, 'topic', 11, 'Topic', '2009-09-20 15:21:51')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 11) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 11[0m
  [4;35;1mTag Load (15.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 11)) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(15, '2009-09-20 15:21:51', 'foo', 'foo', 1, 11, '2009-09-20 15:21:51')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(22, 'sb_post', 11, 'SbPost', '2009-09-20 15:21:51')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 11) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 11[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 11)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 11) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 15) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:21:51', replied_by = 11, last_post_id = 22 WHERE (id = 15) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = 15) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.0ms)[0m   [0mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(15, 11, 1)[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 15) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 11 AND `monitorships`.`topic_id` = 15) LIMIT 1[0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 15)) [0m
  [4;36;1mSbPost Update (0.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 15) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/15-blah
Completed in 359ms (DB: 62) | 302 Found [http://test.host/forums/1/topics?topic%5Bbody%5D=foo&topic%5Blocked%5D=1&topic%5Bsticky%5D=1&topic%5Btitle%5D=blah]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 12) [0m


Processing TopicsController#create (for 0.0.0.0 at 2009-09-20 16:21:51) [POST]
  Parameters: {"topic"=>{"title"=>"blah", "body"=>"foo", "sticky"=>"1", "locked"=>"1"}, "forum_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
WARNING: Can't mass-assign these protected attributes: body, sticky, locked
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `moderatorships` WHERE (forum_id = 1) AND (`moderatorships`.user_id = 12) [0m
WARNING: Can't mass-assign these protected attributes: title, sticky, locked
  [4;36;1mTopic Create (0.0ms)[0m   [0;1mINSERT INTO `topics` (`hits`, `updated_at`, `title`, `replied_at`, `last_post_id`, `forum_id`, `replied_by`, `user_id`, `sb_posts_count`, `sticky`, `created_at`, `locked`) VALUES(0, '2009-09-20 15:21:51', 'blah', '2009-09-20 15:21:51', NULL, 1, NULL, 12, 0, 0, '2009-09-20 15:21:51', 0)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(16, 'topic', 12, 'Topic', '2009-09-20 15:21:51')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 12) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 12[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 12)) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `topics_count` = COALESCE(`topics_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mSbPost Create (0.0ms)[0m   [0mINSERT INTO `sb_posts` (`topic_id`, `updated_at`, `body_html`, `body`, `forum_id`, `user_id`, `created_at`) VALUES(16, '2009-09-20 15:21:51', 'foo', 'foo', 1, 12, '2009-09-20 15:21:51')[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(23, 'sb_post', 12, 'SbPost', '2009-09-20 15:21:51')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 12) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:21:51' WHERE `id` = 12[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 12)) [0m
  [4;35;1mForum Load (0.0ms)[0m   [0mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
  [4;36;1mForum Update (0.0ms)[0m   [0;1mUPDATE `forums` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 12) [0m
  [4;36;1mTopic Update (0.0ms)[0m   [0;1mUPDATE `topics` SET `sb_posts_count` = COALESCE(`sb_posts_count`, 0) + 1 WHERE (`id` = 16) [0m
  [4;35;1mTopic Update (0.0ms)[0m   [0mUPDATE `topics` SET replied_at = '2009-09-20 15:21:51', replied_by = 12, last_post_id = 23 WHERE (id = 16) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = 16) LIMIT 1[0m
  [4;35;1mMonitorship Create (0.0ms)[0m   [0mINSERT INTO `monitorships` (`topic_id`, `user_id`, `active`) VALUES(16, 12, 1)[0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.topic_id = 16) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mMonitorship Load (0.0ms)[0m   [0;1mSELECT * FROM `monitorships` WHERE (`monitorships`.`user_id` = 12 AND `monitorships`.`topic_id` = 16) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Topic') AND (`taggings`.taggable_id = 16)) [0m
  [4;36;1mSbPost Update (16.0ms)[0m   [0;1mUPDATE `sb_posts` SET forum_id = 1 WHERE (topic_id = 16) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/forums/1-rails/topics/16-blah
Completed in 94ms (DB: 47) | 302 Found [http://test.host/forums/1/topics?topic%5Bbody%5D=foo&topic%5Blocked%5D=1&topic%5Bsticky%5D=1&topic%5Btitle%5D=blah]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Sent mail to aaron@example.com

Date: Sun, 20 Sep 2009 16:21:52 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] Your Community account has been activated!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi aaron, 
Just a quick note to let you know your Community account has been activated. There's always a lot going on at Community, so come check out what's new:

http://localhost:3000/

* As a Community member, you'll receive occasional e-mails from us (with news, contest announcements, and updates on the site). If you don't want them, you can change your e-mail preferences here:

http://localhost:3000/aaron/edit_account

Thanks for joining Community!
The Community Team
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:22:01 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] aaron has something to say to you on Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has something to say about you! Use this link to see:

http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love#comment_2 

Thanks,
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Sent mail to dwr@example.com

Date: Sun, 20 Sep 2009 16:22:10 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: dwr@example.com
Subject: [Community] aaron has commented on a Post that you also commented on.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey dwreach!

aaron has added a comment to a Post 
that you commented on. Use this link to check it out:

http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love#comment_2 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//dwreach/edit_account
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Sent mail to test@example.com

Date: Sun, 20 Sep 2009 16:22:22 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: test@example.com
Subject: [Community] aaron has commented on a Post that you also commented on.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey!

aaron has added a comment to a Post 
that you commented on. Use this link to check it out:

http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love#comment_2 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you believe you received this notice in error, please contact support at
support@community.com


To stop receiving updates about new comments on this Post, visit this URL:
http://localhost:3000/comments/unsubscribe?comment_id=2&email=test%40example.com&token=fe147ead1303ae17b8835fcfb35c9af8493b6583
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Sent mail to aaron@example.com

Date: Sun, 20 Sep 2009 16:22:34 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
You asked us to remind you of your Community username.
Your username is: aaron. 

If you have any questions, or you think this reminder was sent in error, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 2 AND `friendships`.id <> 2) LIMIT 1[0m
  [4;36;1mFriendship Update (0.0ms)[0m   [0;1mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (user_id = 1 and friend_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 2 AND `friendships`.user_id = 1 AND `friendships`.id <> 1) LIMIT 1[0m
  [4;35;1mFriendship Update (0.0ms)[0m   [0mUPDATE `friendships` SET `friendship_status_id` = 2 WHERE `id` = 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:22:44 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Friendship request accepted!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron has accepted your friendship request. To visit their profile:

http://localhost:3000/aaron 

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:22:53 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] aaron would like to be friends with you!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

aaron would like to be friends with you! Use this link to see:

http://localhost:3000/quentin/friendships/pending 

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mTopic Load (0.0ms)[0m   [0mSELECT * FROM `topics` WHERE (`topics`.`id` = 4) [0m
  [4;36;1mForum Load (0.0ms)[0m   [0;1mSELECT * FROM `forums` WHERE (`forums`.`id` = 1) [0m
Sent mail to dwr@example.com

Date: Sun, 20 Sep 2009 16:23:03 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: dwr@example.com
Subject: [Community] sam has posted in a thread you are monitoring.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey dwreach!

sam has replied to a thread you are monitoring! Use this link to see:

http://localhost:3000/forums/1-rails/topics/4-ponies?page=1#sbposts-4 

Thanks,
The Community team

---------------------------------------------------------------------------------
If you don't want to receive e-mails like this one from Community, you can change 
your e-mail preferences here:

http://localhost:3000//dwreach/edit_account
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPost Load (15.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to bar@example.com

Date: Sun, 20 Sep 2009 16:23:14 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: bar@example.com
Subject: Check out this story on Community
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

## Community&trade; &#8211; CommunityEngine Rocks! ##


foo wants to share the following article with you:

Building communities is all about love.
[http://localhost:3000/quentin/posts/1-building-communities-is-all-about-love]

Description:

Seriously, how can you build a good group of people around hatred?

Personal Message:

check it out


---------------------------------------	

Use this link to sign up for your own Community account: 

[http://localhost:3000/signup]


Thanks,
foo</p>

---------------------------------------	

The Best Place for People Who Love Communities

For support, or to report abuse, please contact support@community.com.	
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Sent mail to aaron@example.com

Date: Sun, 20 Sep 2009 16:23:28 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
We've reset your Community password. Your new password is: . 

If you have any questions, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to test@example.com

Date: Sun, 20 Sep 2009 16:23:35 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: test@example.com
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

please join

--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Sent mail to "Foo Bar" <foo@bar.com>

Date: Sun, 20 Sep 2009 16:23:43 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: Foo Bar <foo@bar.com>
Subject: quentin would like you to join Community!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

please join

--------------

Hi!

quentin(quentin@example.com) has just invited you to join Community. The Best Place for People Who Love Communities

Visit this link to sign up:

http://localhost:3000/signup/quentin/52a63c0716bb9c45d66f2093d11cc229d94b0cc0

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'aaron@example.com' AND `users`.id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (15.0ms)[0m   [0mUPDATE `users` SET `activated_at` = NULL, `activation_code` = '123456', `updated_at` = '2009-09-20 15:23:52' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Sent mail to aaron@example.com

Date: Sun, 20 Sep 2009 16:23:52 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: aaron@example.com
Subject: [Community] Please activate your new Community account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Welcome to Community, aaron!
Your account has been created, but you still need to activate it before you can log in.
Here's the skinny:

  Your username: aaron

Use this link to activate your account:

  http://localhost:3000/users/activate/123456

Can't click the link? Just copy and paste it into your address bar.

Questions? Easy: support@community.com.

Hope to see you hanging out on Community really soon!
The Community team
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#assume (for 0.0.0.0 at 2009-09-20 16:24:10) [POST]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:24:10' WHERE (id = 1) [0m
Redirected to http://test.host/quentin
Completed in 16ms (DB: 1562) | 302 Found [http://test.host/1/assume]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:10) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 20 Sep 1994 15:24:10 UTC +00:00, "password"=>"quire123", "login"=>"quire", "email"=>"quire@example.com"}, "inviter_code"=>"52a63c0716bb9c45d66f2093d11cc229d94b0cc0", "inviter_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO `users` (`salt`, `last_login_at`, `updated_at`, `activated_at`, `zip`, `crypted_password`, `stylesheet`, `remember_token_expires_at`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `login_slug`, `gender`, `description`, `remember_token`, `metro_area_id`, `birthday`, `activities_count`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `login`, `state_id`, `notify_community_news`, `profile_public`, `email`, `created_at`, `view_count`, `notify_comments`) VALUES('ed0bdc9c3d291204d27d8ce76e610236959beedb', NULL, '2009-09-20 15:24:10', NULL, NULL, '241e978a33cc5ecb64e1818b57687009decf56bf', NULL, NULL, '2d375980891d775ed0da11dc37d56e142c2f6006', NULL, 3, NULL, 'quire', NULL, NULL, NULL, NULL, '1994-09-20', 0, 0, 1, 0, 0, NULL, 'quire', NULL, 1, 1, 'quire@example.com', '2009-09-20 15:24:10', 0, 1)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 14, NULL, '2009-09-20 15:24:10')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 14) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 14) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:24:10' WHERE `id` = 14[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 14)) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `created_at` = '2009-09-20 15:24:10', `login` = 'quire', `crypted_password` = '241e978a33cc5ecb64e1818b57687009decf56bf', `login_slug` = 'quire', `activation_code` = '2d375980891d775ed0da11dc37d56e142c2f6006', `salt` = 'ed0bdc9c3d291204d27d8ce76e610236959beedb', `role_id` = 3, `birthday` = '1994-09-20', `last_login_at` = '2009-09-20 15:24:10', `email` = 'quire@example.com', `updated_at` = '2009-09-20 15:24:10' WHERE `id` = 14[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 14)) [0m
Sent mail to quire@example.com

Date: Sun, 20 Sep 2009 16:24:10 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quire@example.com
Subject: [Community] Please activate your new Community account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Welcome to Community, quire!
Your account has been created, but you still need to activate it before you can log in.
Here's the skinny:

  Your username: quire

Use this link to activate your account:

  http://localhost:3000/users/activate/2d375980891d775ed0da11dc37d56e142c2f6006

Can't click the link? Just copy and paste it into your address bar.

Questions? Easy: support@community.com.

Hope to see you hanging out on Community really soon!
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 14) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 14 AND `friendships`.user_id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (created_at > '2009-09-20 00:00:00') AND (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mFriendship Create (0.0ms)[0m   [0mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(1, 2, 1, 14, '2009-09-20 15:24:20')[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:24:20 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Friendship request accepted!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hey quentin!

quire has accepted your friendship request. To visit their profile:

http://localhost:3000/quire 

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 14) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT `friendships`.id FROM `friendships` WHERE (`friendships`.`friend_id` = 1 AND `friendships`.user_id = 14) LIMIT 1[0m
  [4;35;1mFriendship Create (0.0ms)[0m   [0mINSERT INTO `friendships` (`initiator`, `friendship_status_id`, `user_id`, `friend_id`, `created_at`) VALUES(0, 2, 14, 1, '2009-09-20 15:24:29')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quire/signup_completed
Completed in 19297ms (DB: 0) | 302 Found [http://test.host/users?inviter_code=52a63c0716bb9c45d66f2093d11cc229d94b0cc0&inviter_id=1&user%5Bbirthday%5D=1994-09-20+15%3A24%3A10+UTC&user%5Bemail%5D=quire%40example.com&user%5Blogin%5D=quire&user%5Bpassword%5D=quire123&user%5Bpassword_confirmation%5D=quire123]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#assume (for 0.0.0.0 at 2009-09-20 16:24:29) [POST]
  Parameters: {"id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/2/assume]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing UsersController#return_admin (for 0.0.0.0 at 2009-09-20 16:24:29) [POST]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:24:29' WHERE (id = 4) [0m
Redirected to http://test.host/admin
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users/return_admin]
  [4;35;1mSQL (16.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m


Processing UsersController#return_admin (for 0.0.0.0 at 2009-09-20 16:24:29) [POST]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:24:29' WHERE (id = 4) [0m
Redirected to http://test.host/admin
Completed in 0ms (DB: 16) | 302 Found [http://test.host/users/return_admin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activated_at` = NULL, `activation_code` = ':quentin_activation_code', `updated_at` = '2009-09-20 15:24:29' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (email = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activation_code` = '49275317221d5b05ec276142ef63bbe7c682cfb2', `updated_at` = '2009-09-20 15:24:29' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#activate (for 0.0.0.0 at 2009-09-20 16:24:29) [GET]
  Parameters: {"id"=>"49275317221d5b05ec276142ef63bbe7c682cfb2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`activation_code` = '49275317221d5b05ec276142ef63bbe7c682cfb2') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activated_at` = '2009-09-20 15:24:29', `activation_code` = NULL, `updated_at` = '2009-09-20 15:24:29' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:24:29 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Your Community account has been activated!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi quentin, 
Just a quick note to let you know your Community account has been activated. There's always a lot going on at Community, so come check out what's new:

http://localhost:3000/

* As a Community member, you'll receive occasional e-mails from us (with news, contest announcements, and updates on the site). If you don't want them, you can change your e-mail preferences here:

http://localhost:3000/quentin/edit_account

Thanks for joining Community!
The Community Team
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET sb_last_seen_at = '2009-09-20 15:24:36' WHERE (id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'joined_the_site', 1, NULL, '2009-09-20 15:24:36')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:24:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/welcome_photo
Completed in 6578ms (DB: 0) | 302 Found [http://test.host/users/activate/49275317221d5b05ec276142ef63bbe7c682cfb2]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 1, NULL, '2009-09-20 15:24:36')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:24:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `last_login_at` = '2009-09-20 15:24:36', `updated_at` = '2009-09-20 15:24:36' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:36) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 20 Sep 1994 15:24:36 UTC +00:00, "password"=>"quire123", "login"=>"quire", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mUser Create (0.0ms)[0m   [0mINSERT INTO `users` (`salt`, `last_login_at`, `updated_at`, `activated_at`, `zip`, `crypted_password`, `stylesheet`, `remember_token_expires_at`, `activation_code`, `country_id`, `role_id`, `avatar_id`, `login_slug`, `gender`, `description`, `remember_token`, `metro_area_id`, `birthday`, `activities_count`, `vendor`, `notify_friend_requests`, `featured_writer`, `sb_posts_count`, `sb_last_seen_at`, `login`, `state_id`, `notify_community_news`, `profile_public`, `email`, `created_at`, `view_count`, `notify_comments`) VALUES('64de8abfac25308f5734815b86cbb450f4a3a752', NULL, '2009-09-20 15:24:36', NULL, NULL, '8e913cf02d4df917381f3cb932737086e3e5db5a', NULL, NULL, '31c58b651da708c70ad7efa88a5de008587204f6', NULL, 3, NULL, 'quire', NULL, NULL, NULL, NULL, '1994-09-20', 0, 0, 1, 0, 0, NULL, 'quire', NULL, 1, 1, 'quire@example.com', '2009-09-20 15:24:36', 0, 1)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'logged_in', 15, NULL, '2009-09-20 15:24:36')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 15) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 15) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:24:36' WHERE `id` = 15[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 15)) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `created_at` = '2009-09-20 15:24:36', `login` = 'quire', `crypted_password` = '8e913cf02d4df917381f3cb932737086e3e5db5a', `login_slug` = 'quire', `activation_code` = '31c58b651da708c70ad7efa88a5de008587204f6', `salt` = '64de8abfac25308f5734815b86cbb450f4a3a752', `role_id` = 3, `birthday` = '1994-09-20', `last_login_at` = '2009-09-20 15:24:36', `email` = 'quire@example.com', `updated_at` = '2009-09-20 15:24:36' WHERE `id` = 15[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 15)) [0m
Sent mail to quire@example.com

Date: Sun, 20 Sep 2009 16:24:36 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quire@example.com
Subject: [Community] Please activate your new Community account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Welcome to Community, quire!
Your account has been created, but you still need to activate it before you can log in.
Here's the skinny:

  Your username: quire

Use this link to activate your account:

  http://localhost:3000/users/activate/31c58b651da708c70ad7efa88a5de008587204f6

Can't click the link? Just copy and paste it into your address bar.

Questions? Easy: support@community.com.

Hope to see you hanging out on Community really soon!
The Community team
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quire/signup_completed
Completed in 10422ms (DB: 0) | 302 Found [http://test.host/users?user%5Bbirthday%5D=1994-09-20+15%3A24%3A36+UTC&user%5Bemail%5D=quire%40example.com&user%5Blogin%5D=quire&user%5Bpassword%5D=quire123&user%5Bpassword_confirmation%5D=quire123]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:46', 16966, NULL, NULL, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:24:46', 142, NULL)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(19, 'photo', 1, 'Photo', '2009-09-20 15:24:46')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:24:46' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (15.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 19)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 19 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (16.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:46', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 19, '2009-09-20 15:24:46', 290, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 20)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 19 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:46', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 19, '2009-09-20 15:24:46', 100, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 21)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 19 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:46', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 19, '2009-09-20 15:24:46', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 22)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `avatar_id` = 19, `updated_at` = '2009-09-20 15:24:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#crop_profile_photo (for 0.0.0.0 at 2009-09-20 16:24:47) [PUT]
  Parameters: {"y1"=>"0", "x1"=>"0", "id"=>"1", "height"=>"320", "width"=>"290"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Update (0.0ms)[0m   [0mUPDATE `photos` SET `filename` = 'custom_library.jpg', `updated_at` = '2009-09-20 15:24:47', `size` = 20542 WHERE `id` = 19[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 19)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 19 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Update (0.0ms)[0m   [0mUPDATE `photos` SET `filename` = 'custom_library_medium.jpg', `updated_at` = '2009-09-20 15:24:47', `size` = 20554 WHERE `id` = 20[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 20)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 19 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Update (0.0ms)[0m   [0mUPDATE `photos` SET `filename` = 'custom_library_thumb.jpg', `updated_at` = '2009-09-20 15:24:47', `size` = 20554 WHERE `id` = 21[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 21)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 19 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 19) [0m
  [4;35;1mPhoto Update (0.0ms)[0m   [0mUPDATE `photos` SET `filename` = 'custom_library_large.jpg', `updated_at` = '2009-09-20 15:24:47', `size` = 20554 WHERE `id` = 22[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 22)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 219ms (DB: 78) | 302 Found [http://test.host/1/crop_profile_photo?height=320&width=290&x1=0&y1=0]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#deactivate (for 0.0.0.0 at 2009-09-20 16:24:47) [PUT]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activated_at` = NULL, `activation_code` = 'bbbf6e823746afec5582af87254dfa4a32f19e84', `updated_at` = '2009-09-20 15:24:47' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (16.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed in 47ms (DB: 47) | 302 Found [http://test.host/1/deactivate]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `metro_area_id` = 2, `updated_at` = '2009-09-20 15:24:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 2) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-20 16:24:47) [DELETE]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'User') [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mMessage Load (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE (`messages`.sender_id = 1 AND (sender_deleted = 0)) ORDER BY created_at DESC[0m
  [4;36;1mMessage Load (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE (`messages`.recipient_id = 1 AND (recipient_deleted = 0)) ORDER BY created_at DESC[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY published_at desc[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'Post') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Post') [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 2) [0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 2 AND `favorites`.favoritable_type = 'Post') [0m
  [4;35;1mPost Destroy (0.0ms)[0m   [0mDELETE FROM `posts` WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.0ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Comment') [0m
  [4;35;1mComment Destroy (0.0ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Post') [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Post') [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Post') [0m
  [4;36;1mPost Destroy (0.0ms)[0m   [0;1mDELETE FROM `posts` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Post') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mPhoto Load (16.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.user_id = 1) ORDER BY created_at desc[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 1) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 1) [0m
  [4;35;1mTagging Destroy (0.0ms)[0m   [0mDELETE FROM `taggings` WHERE `id` = 1[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Photo') [0m
  [4;35;1mPhoto Destroy (0.0ms)[0m   [0mDELETE FROM `photos` WHERE `id` = 1[0m
Exception destroying  "C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/public/photos/0000/0001/test.jpg": [Errno::ENOENT] 
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1305:in `platform_support'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `each'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/app/controllers/users_controller.rb:160:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `around_proc'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:184:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/lib/localized_application.rb:25:in `set_locale'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:186:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `sass_old_process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:567:in `process_with_test'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:447:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:413:in `delete'
 > ./test/functional/users_controller_test.rb:243:in `test_should_destroy_user'
 > ./test/unit/../test_helper.rb:24:in `assert_difference'
 > ./test/functional/users_controller_test.rb:242:in `test_should_destroy_user'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit.rb:278
 > C:/Ruby/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Photo') [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.parent_id = 2) [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'Photo') [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Photo') [0m
  [4;35;1mPhoto Destroy (0.0ms)[0m   [0mDELETE FROM `photos` WHERE `id` = 2[0m
Exception destroying  "C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/public/photos/0000/0002/test.jpg": [Errno::ENOENT] 
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `unlink'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1297:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1305:in `platform_support'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:1296:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:771:in `remove_file'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:549:in `rm'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `each'
 > C:/Ruby/lib/ruby/1.8/fileutils.rb:548:in `rm'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu/backends/file_system_backend.rb:88:in `destroy_file'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/vendor/plugins/attachment_fu/lib/technoweenie/attachment_fu.rb:486:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:338:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_proxy.rb:219:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations/association_collection.rb:368:in `method_missing'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/associations.rb:1389:in `has_many_dependent_destroy_for_photos'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:166:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:93:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `each'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:92:in `run'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:276:in `run_callbacks'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:344:in `callback'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/callbacks.rb:336:in `destroy_without_transactions'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:182:in `transaction'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.3/lib/active_record/transactions.rb:192:in `destroy'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/app/controllers/users_controller.rb:160:in `destroy'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:206:in `around_proc'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:182:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:184:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:638:in `run_before_filters'
 > C:/Documents and Settings/Administrator/My Documents/Aptana Studio Workspace/NewCEProject/lib/localized_application.rb:25:in `set_locale'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/callbacks.rb:178:in `evaluate_method'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:186:in `call'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:635:in `run_before_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:615:in `call_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `sass_old_process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/haml-2.2.2/lib/sass/plugin/rails.rb:19:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:567:in `process_with_test'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:447:in `process'
 > C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.3/lib/action_controller/test_process.rb:413:in `delete'
 > ./test/functional/users_controller_test.rb:243:in `test_should_destroy_user'
 > ./test/unit/../test_helper.rb:24:in `assert_difference'
 > ./test/functional/users_controller_test.rb:242:in `test_should_destroy_user'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `__send__'
 > C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.3/lib/active_support/testing/setup_and_teardown.rb:62:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
 > C:/Ruby/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
 > C:/Ruby/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
 > C:/Ruby/lib/ruby/1.8/test/unit.rb:278
 > C:/Ruby/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake/rake_test_loader.rb:5
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mInvitation Load (0.0ms)[0m   [0mSELECT * FROM `invitations` WHERE (`invitations`.user_id = 1) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
  [4;35;1mRsvp Load (0.0ms)[0m   [0mSELECT * FROM `rsvps` WHERE (`rsvps`.user_id = 1) [0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Rsvp') [0m
  [4;35;1mRsvp Destroy (0.0ms)[0m   [0mDELETE FROM `rsvps` WHERE `id` = 1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1) [0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 1[0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 1)) [0m
  [4;35;1mFriendship Load (0.0ms)[0m   [0mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0)) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.friend_id = 1) [0m
  [4;35;1mFriendship Destroy (0.0ms)[0m   [0mDELETE FROM `friendships` WHERE `id` = 2[0m
  [4;36;1mModeratorship Load (0.0ms)[0m   [0;1mSELECT * FROM `moderatorships` WHERE (`moderatorships`.user_id = 1) [0m
  [4;35;1mSbPost Load (0.0ms)[0m   [0mSELECT * FROM `sb_posts` WHERE (`sb_posts`.user_id = 1) [0m
  [4;36;1mTopic Load (0.0ms)[0m   [0;1mSELECT * FROM `topics` WHERE (`topics`.user_id = 1) [0m
  [4;35;1mMonitorship Load (0.0ms)[0m   [0mSELECT * FROM `monitorships` WHERE (`monitorships`.user_id = 1) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.user_id = 1) ORDER BY created_at desc[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 5 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 5[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (published_as = 'live') ORDER BY posts.published_at DESC LIMIT 16[0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 6 AND `activities`.item_type = 'Comment') [0m
  [4;36;1mComment Destroy (0.0ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 6[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.recipient_id = 1) ORDER BY created_at desc[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1) ORDER BY created_at desc[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Clipping') [0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 1 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 1 AND `taggings`.taggable_type = 'Clipping') [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;36;1mTagging Destroy (0.0ms)[0m   [0;1mDELETE FROM `taggings` WHERE `id` = 2[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.item_id = 1 AND `activities`.item_type = 'Clipping') [0m
  [4;36;1mClipping Destroy (0.0ms)[0m   [0;1mDELETE FROM `clippings` WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Clipping') [0m
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mFavorite Load (0.0ms)[0m   [0;1mSELECT * FROM `favorites` WHERE (`favorites`.favoritable_id = 2 AND `favorites`.favoritable_type = 'Clipping') [0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT * FROM `taggings` WHERE (`taggings`.taggable_id = 2 AND `taggings`.taggable_type = 'Clipping') [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m
  [4;35;1mTagging Destroy (0.0ms)[0m   [0mDELETE FROM `taggings` WHERE `id` = 3[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (`activities`.item_id = 2 AND `activities`.item_type = 'Clipping') [0m
  [4;35;1mClipping Destroy (0.0ms)[0m   [0mDELETE FROM `clippings` WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Clipping') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mFavorite Load (0.0ms)[0m   [0mSELECT * FROM `favorites` WHERE (`favorites`.user_id = 1) ORDER BY created_at desc[0m
  [4;36;1mUser Destroy (0.0ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 1[0m
  [4;35;1mActivity Load (0.0ms)[0m   [0mSELECT * FROM `activities` WHERE (`activities`.`user_id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users
Completed in 157ms (DB: 16) | 302 Found [http://test.host/quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMetroArea Load (15.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:47) [GET]
  Parameters: {"metro_area_id"=>"5"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` = 3) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 3) [0m
  [4;35;1mState Load Including Associations (0.0ms)[0m   [0mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (5)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '5')) [0m
  [4;35;1mTag Load (16.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (16.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '5')) ORDER BY users.created_at DESC LIMIT 0, 2[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (7,8) and `taggings`.`taggable_type` = 'User') [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 7) [0m
Rendered users/_user (0.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 8) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (16.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 110ms (View: 62, DB: 47) | 200 OK [http://test.host/users?metro_area_id=5]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activated_at` = NULL, `updated_at` = '2009-09-20 15:24:47' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (email = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m


Processing UsersController#activate (for 0.0.0.0 at 2009-09-20 16:24:47) [GET]
  Parameters: {"id"=>"bad_activation_code"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`activation_code` = 'bad_activation_code') LIMIT 1[0m
Redirected to http://test.host/signup
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users/activate/bad_activation_code]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (login = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (email = 'quentin' and activated_at IS NOT NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:47) [GET]
  Parameters: {"metro_area_id"=>"2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 2) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 1) [0m
  [4;35;1mState Load Including Associations (0.0ms)[0m   [0mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (1,2,3)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 2) ORDER BY name[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '2')) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (297.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 343ms (View: 328, DB: 16) | 200 OK [http://test.host/users?metro_area_id=2]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `states` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (friendship_status_id = 2)) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2009-09-13 15:24:48')) [0m


Processing UsersController#dashboard (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
  Parameters: {"id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (friendship_status_id = 2)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2009-09-13 15:24:48')) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
Rendering template within layouts/application
Rendering users/dashboard
Rendered shared/_box (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.user_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `clippings` WHERE (`clippings`.user_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'User') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 2) [0m
Rendered shared/_box (0.0ms)
Rendered users/_dashboard_nav (31.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 2 AND (initiator = 0 AND friendship_status_id = 1)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 2 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 62, DB: 16) | 200 OK [http://test.host/aaron/dashboard]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'aaron@example.com' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'hansel') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'hansel') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('hansel')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(26, 'User', 2)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'gretel') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'gretel') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('gretel')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(27, 'User', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT DISTINCT posts.* FROM `posts` INNER JOIN taggings posts_taggings ON posts_taggings.taggable_id = posts.id AND posts_taggings.taggable_type = 'Post' INNER JOIN tags posts_tags ON posts_tags.id = posts_taggings.tag_id WHERE (posts.user_id != 2 AND published_at > '2009-09-13 15:24:48' AND (posts_tags.name LIKE 'hansel' OR posts_tags.name LIKE 'gretel')) AND (published_as = 'live') ORDER BY published_at DESC LIMIT 10[0m


Processing UsersController#dashboard (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
  Parameters: {"id"=>"aaron"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(activities.id) AS count_activities_id FROM `activities` WHERE ((activities.user_id in (NULL)) AND (activities.created_at > '2009-09-13 15:24:48')) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
Rendering template within layouts/application
Rendering users/dashboard
Rendered shared/_box (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `posts` WHERE (`posts`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `photos` WHERE (`photos`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `clippings` WHERE (`clippings`.user_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `clippings` WHERE (`clippings`.user_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') [0m
Rendered shared/_box (0.0ms)
Rendered users/_dashboard_nav (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0 AND friendship_status_id = 1)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 78ms (View: 47, DB: 0) | 200 OK [http://test.host/aaron/dashboard]
  [4;36;1mSQL (31.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (16.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit_account (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/edit_account
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 47) | 200 OK [http://test.host/account/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL )) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (16.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL )) ORDER BY users.created_at DESC LIMIT 0, 13[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (8,7,10,9,5,4,2,13,12,11,6,3,1) and `taggings`.`taggable_type` = 'User') [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 8) [0m
Rendered users/_user (0.0ms)
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 7) [0m
Rendered users/_user (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 10) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendered users/_user (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 4) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 13) [0m
Rendered users/_user (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 12) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 11) [0m
Rendered users/_user (0.0ms)
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 6) [0m
Rendered users/_user (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 3) [0m
Rendered users/_user (0.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (15.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 125, DB: 0) | 200 OK [http://test.host/users]
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (`tags`.`id` = 2) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
  Parameters: {"tag_name"=>#<Tag id: 2, name: "Misc">}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL )) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (15.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL )) ORDER BY users.created_at DESC LIMIT 0, 13[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (8,7,10,9,5,4,2,13,12,11,6,3,1) and `taggings`.`taggable_type` = 'User') [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 8) [0m
Rendered users/_user (0.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 7) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 10) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mOffering Load (0.0ms)[0m   [0mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 4) [0m
Rendered users/_user (15.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 13) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 12) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 11) [0m
Rendered users/_user (16.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 6) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 3) [0m
Rendered users/_user (0.0ms)
  [4;36;1mMetroArea Load (15.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
Rendered users/_user (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 94, DB: 15) | 200 OK [http://test.host/users]
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
  Parameters: {"state_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL ) AND (state_id = '1')) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (16.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL ) AND (state_id = '1')) ORDER BY users.created_at DESC LIMIT 0, 1[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` = 1 and `taggings`.`taggable_type` = 'User') [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/users]
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:48) [GET]
  Parameters: {"metro_area_id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` = 1) [0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.country_id = 1) [0m
  [4;36;1mState Load Including Associations (0.0ms)[0m   [0;1mSELECT `states`.`id` AS t0_r0, `states`.`name` AS t0_r1, `metro_areas`.`id` AS t1_r0, `metro_areas`.`name` AS t1_r1, `metro_areas`.`state_id` AS t1_r2, `metro_areas`.`country_id` AS t1_r3, `metro_areas`.`users_count` AS t1_r4 FROM `states` LEFT OUTER JOIN `metro_areas` ON metro_areas.state_id = states.id WHERE (metro_areas.id in (1,2,3)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '1')) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (15.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL ) AND (metro_area_id = '1')) ORDER BY users.created_at DESC LIMIT 0, 1[0m
  [4;36;1mTagging Load (0.0ms)[0m   [0;1mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` = 1 and `taggings`.`taggable_type` = 'User') [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (16.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 344ms (View: 312, DB: 16) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#new (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 62, DB: 0) | 200 OK [http://test.host/signup]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#signup_completed (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering users/signup_completed
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/quentin/signup_completed]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m


Processing UsersController#statistics (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
  Parameters: {"id"=>"8"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 8 AND ('2009-09-01' <= published_at AND published_at <= '2009-10-01')) AND (published_as = 'live') ORDER BY published_at desc[0m
Rendering template within layouts/application
Rendering users/statistics
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (16.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/8/statistics]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#welcome_about (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
Rendering template within layouts/application
Rendering users/welcome_about
Rendered shared/_bio_help (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mMetroArea Load (16.0ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (16.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 93ms (View: 62, DB: 32) | 200 OK [http://test.host/1/welcome_about]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#welcome_invite (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering users/welcome_invite
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 47, DB: 0) | 200 OK [http://test.host/1/welcome_invite]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#welcome_photo (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering users/welcome_photo
Rendered shared/_box (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 62ms (View: 46, DB: 0) | 200 OK [http://test.host/1/welcome_photo]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (16.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'aaron@example.com' AND `users`.id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'aaron' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `metro_area_id` = 2, `updated_at` = '2009-09-20 15:24:49' WHERE `id` = 2[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 2)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 2) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 2) [0m
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (16.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#index (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(DISTINCT users.id) AS count_users_id FROM `users` LEFT OUTER JOIN `taggings` ON (`users`.`id` = `taggings`.`taggable_id` AND `taggings`.`taggable_type` = 'User') LEFT OUTER JOIN `tags` ON (`tags`.`id` = `taggings`.`tag_id`) WHERE ((activated_at IS NOT NULL )) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT tags.id, tags.name, COUNT(*) AS count FROM `tags` INNER JOIN taggings ON tags.id = taggings.tag_id INNER JOIN users ON users.id = taggings.taggable_id WHERE (taggings.taggable_type = 'User') GROUP BY tags.id, tags.name HAVING COUNT(*) > 0 LIMIT 10[0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (users_count > 0) ORDER BY users_count DESC LIMIT 100[0m
Rendering template within layouts/application
Rendering users/index
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` [0m
  [4;35;1mCountry Load (0.0ms)[0m   [0mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered users/_search_options (15.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE ((activated_at IS NOT NULL )) ORDER BY users.created_at DESC LIMIT 0, 13[0m
  [4;35;1mTagging Load (0.0ms)[0m   [0mSELECT `taggings`.* FROM `taggings` WHERE (`taggings`.`taggable_id` IN (8,7,10,9,5,4,2,13,12,11,6,3,1) and `taggings`.`taggable_type` = 'User') [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 8) [0m
Rendered users/_user (15.0ms)
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 7) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 10) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;36;1mOffering Load (0.0ms)[0m   [0;1mSELECT * FROM `offerings` WHERE (`offerings`.user_id = 9) [0m
  [4;35;1mSkill Load (0.0ms)[0m   [0mSELECT * FROM `skills` WHERE (`skills`.`id` = 1) [0m
Rendered users/_user (16.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 5) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 4) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 2) [0m
Rendered users/_user (16.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 13) [0m
Rendered users/_user (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 12) [0m
Rendered users/_user (0.0ms)
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 11) [0m
Rendered users/_user (0.0ms)
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 6) [0m
Rendered users/_user (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 3) [0m
Rendered users/_user (0.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
Rendered users/_user (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 125ms (View: 109, DB: 79) | 200 OK [http://test.host/users]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-20 16:24:49) [DELETE]
  Parameters: {"id"=>#<User id: 4, login: "administrator", email: "admin@example.com", description: "I am all powerful", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:51:50", state_id: nil, metro_area_id: nil, login_slug: "admin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 1>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Redirected to http://test.host/users
Completed in 0ms (DB: 0) | 302 Found [http://test.host/admin]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing UsersController#activate (for 0.0.0.0 at 2009-09-20 16:24:49) [GET]
  Parameters: {"activation_code"=>nil}
[I18n] loading locale: en from config
[I18n] Locale set to en
Redirected to http://test.host/signup
Completed in 0ms (DB: 0) | 302 Found [http://test.host/users/activate]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-20 16:24:49) [PUT]
  Parameters: {"user"=>{}, "id"=>"1", "avatar"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0xe638e78 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-4.jpg>>}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:49', 16966, NULL, NULL, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:24:49', 142, NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(23, 'photo', 1, 'Photo', '2009-09-20 15:24:49')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:24:49' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 23)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 23 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:49', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 23, '2009-09-20 15:24:49', 290, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 24)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 23 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:50', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 23, '2009-09-20 15:24:50', 100, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 25)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 23 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:24:50', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 23, '2009-09-20 15:24:50', 142, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 26)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `avatar_id` = 23, `state_id` = NULL, `metro_area_id` = NULL, `updated_at` = '2009-09-20 15:24:50' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'updated_profile', 1, NULL, '2009-09-20 15:24:50')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (16.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:24:50' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 610ms (DB: 16) | 302 Found [http://test.host/1?&avatar%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0xe638e78%3E]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-20 16:24:49) [PUT]
  Parameters: {"user"=>{}, "id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'updated_profile', 1, NULL, '2009-09-20 15:24:50')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 3, `updated_at` = '2009-09-20 15:24:50' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 47ms (DB: 0) | 302 Found [http://test.host/1?&avatar%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0xe638e78%3E]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 23) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#destroy (for 0.0.0.0 at 2009-09-20 16:24:50) [DELETE]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m


Processing UsersController#statistics (for 0.0.0.0 at 2009-09-20 16:24:50) [GET]
  Parameters: {"id"=>"8"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_or_current_user_required] rendered_or_redirected.
Completed in 15ms (DB: 0) | 302 Found [http://test.host/8/statistics]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#resend_activation (for 0.0.0.0 at 2009-09-20 16:24:50) [POST]
  Parameters: {"id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/resend_activation
Rendered shared/_box (0.0ms)
Rendered shared/_login_sidebar (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://test.host/users/resend_activation/quentin]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#resend_activation (for 0.0.0.0 at 2009-09-20 16:24:50) [POST]
  Parameters: {"id"=>"nonexistant"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('nonexistant')) LIMIT 1[0m
Rendering template within layouts/application
Rendering users/resend_activation
Rendered shared/_box (0.0ms)
Rendered shared/_login_sidebar (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://test.host/users/resend_activation/nonexistant]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-20 16:24:50) [GET]
  Parameters: {"id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:51:50", state_id: nil, metro_area_id: nil, login_slug: "aaron", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2009-09-20 15:16:50", role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 16ms (DB: 0) | 302 Found [http://test.host/aaron/edit]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-20 16:24:50) [GET]
  Parameters: {"id"=>"10"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:find_user] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/10]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_featured (for 0.0.0.0 at 2009-09-20 16:24:50) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as [:admin_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://test.host/quentin/toggle_featured]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-20 16:24:50) [PUT]
  Parameters: {"user"=>{"login"=>"changed_login", "email"=>"changed_email@email.com"}, "id"=>#<User id: 2, login: "aaron", email: "aaron@example.com", description: "I am happy to be here. Community rawks!", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-19 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-20 14:51:50", state_id: nil, metro_area_id: nil, login_slug: "aaron", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 2, sb_last_seen_at: "2009-09-20 15:16:50", role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) AND (users.activated_at IS NOT NULL) [0m
Redirected to http://test.host/login
Filter chain halted as [:require_current_user] rendered_or_redirected.
Completed in 16ms (DB: 0) | 302 Found [http://test.host/aaron?user%5Bemail%5D=changed_email%40email.com&user%5Blogin%5D=changed_login]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#forgot_username (for 0.0.0.0 at 2009-09-20 16:24:50) [POST]
  Parameters: {"email"=>"quentin@example.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'quentin@example.com') AND (users.activated_at IS NOT NULL) LIMIT 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:24:50 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
You asked us to remind you of your Community username.
Your username is: quentin. 

If you have any questions, or you think this reminder was sent in error, please contact Community support at support@community.com.

Thanks,
The Community team
Redirected to http://test.host/login
Completed in 4625ms (DB: 0) | 302 Found [http://test.host/forgot_username?email=quentin%40example.com]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 20 Sep 1994 15:24:55 UTC +00:00, "password"=>nil, "login"=>"quire", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (31.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 63, DB: 0) | 200 OK [http://test.host/users?user%5Bbirthday%5D=1994-09-20+15%3A24%3A55+UTC&user%5Bemail%5D=quire%40example.com&user%5Blogin%5D=quire&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=quire123]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 20 Sep 1994 15:24:55 UTC +00:00, "password"=>"quire123", "login"=>"quire", "email"=>nil}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (62.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 344ms (View: 203, DB: 0) | 200 OK [http://test.host/users?user%5Bbirthday%5D=1994-09-20+15%3A24%3A55+UTC&user%5Bemail%5D=&user%5Blogin%5D=quire&user%5Bpassword%5D=quire123&user%5Bpassword_confirmation%5D=quire123]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:55) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 20 Sep 1994 15:24:55 UTC +00:00, "password"=>"quire123", "login"=>nil, "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login` IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (15.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 453ms (View: 47, DB: 0) | 200 OK [http://test.host/users?user%5Bbirthday%5D=1994-09-20+15%3A24%3A55+UTC&user%5Bemail%5D=quire%40example.com&user%5Blogin%5D=&user%5Bpassword%5D=quire123&user%5Bpassword_confirmation%5D=quire123]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:56) [POST]
  Parameters: {"user"=>{"password_confirmation"=>nil, "birthday"=>Tue, 20 Sep 1994 15:24:56 UTC +00:00, "password"=>"quire123", "login"=>"quire", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;35;1mPage Load (0.0ms)[0m   [0mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 94ms (View: 79, DB: 0) | 200 OK [http://test.host/users?user%5Bbirthday%5D=1994-09-20+15%3A24%3A56+UTC&user%5Bemail%5D=quire%40example.com&user%5Blogin%5D=quire&user%5Bpassword%5D=quire123&user%5Bpassword_confirmation%5D=]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m


Processing UsersController#create (for 0.0.0.0 at 2009-09-20 16:24:56) [POST]
  Parameters: {"user"=>{"password_confirmation"=>"quire123", "birthday"=>Tue, 20 Sep 1994 15:24:56 UTC +00:00, "password"=>nil, "login"=>"quire", "email"=>"quire@example.com"}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quire') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quire@example.com') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
Rendering template within layouts/application
Rendering users/new
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (16.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (0.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 47, DB: 0) | 200 OK [http://test.host/users?user%5Bbirthday%5D=1994-09-20+15%3A24%3A56+UTC&user%5Bemail%5D=quire%40example.com&user%5Blogin%5D=quire&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=quire123]
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activated_at` = NULL, `activation_code` = '9245097eeec768094d8d465ec056433d0674c970', `updated_at` = '2009-09-20 15:24:56' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#resend_activation (for 0.0.0.0 at 2009-09-20 16:24:56) [POST]
  Parameters: {"id"=>"quentin"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login_slug` IN ('quentin')) LIMIT 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:24:56 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Please activate your new Community account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Welcome to Community, quentin!
Your account has been created, but you still need to activate it before you can log in.
Here's the skinny:

  Your username: quentin

Use this link to activate your account:

  http://localhost:3000/users/activate/9245097eeec768094d8d465ec056433d0674c970

Can't click the link? Just copy and paste it into your address bar.

Questions? Easy: support@community.com.

Hope to see you hanging out on Community really soon!
The Community team
Redirected to http://test.host/login
Completed in 5125ms (DB: 15) | 302 Found [http://test.host/users/resend_activation/quentin]
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#forgot_password (for 0.0.0.0 at 2009-09-20 16:25:01) [POST]
  Parameters: {"email"=>"quentin@example.com"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'quentin@example.com') AND (users.activated_at IS NOT NULL) LIMIT 1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
Sent mail to quentin@example.com

Date: Sun, 20 Sep 2009 16:25:01 +0100
From: The Community Team <support@community.com>
Reply-To: support@community.com
To: quentin@example.com
Subject: [Community] Community User information
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi there!
We've reset your Community password. Your new password is: qyIPzaZU. 

If you have any questions, please contact Community support at support@community.com.

Thanks,
The Community team
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `crypted_password` = '7da5441b5db817862637dc6ad24657f2b1260d83', `updated_at` = '2009-09-20 15:25:12' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed in 11156ms (DB: 31) | 302 Found [http://test.host/forgot_password?email=quentin%40example.com]
  [4;35;1mSQL (31.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#edit (for 0.0.0.0 at 2009-09-20 16:25:12) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;36;1mSkill Load (0.0ms)[0m   [0;1mSELECT * FROM `skills` [0m
Rendering template within layouts/application
Rendering users/edit
Rendered shared/_box (0.0ms)
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` [0m
  [4;36;1mCountry Load (0.0ms)[0m   [0;1mSELECT * FROM `countries` WHERE (`countries`.`id` IN (1,2,3)) [0m
Rendered shared/_location_chooser (32.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_bio_help (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (15.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 1 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (15.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 578ms (View: 562, DB: 31) | 200 OK [http://test.host/1/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#show (for 0.0.0.0 at 2009-09-20 16:25:13) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) [0m
  [4;36;1mFriendship Load (0.0ms)[0m   [0;1mSELECT * FROM `friendships` WHERE (`friendships`.user_id = 1 AND (friendship_status_id = 2)) LIMIT 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `friendships` WHERE (`friendships`.user_id = 1 AND (initiator = 0 AND friendship_status_id = 1)) [0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'User') ORDER BY created_at DESC LIMIT 10[0m
  [4;35;1mComment Load (0.0ms)[0m   [0mSELECT * FROM `comments` WHERE (recipient_id = 1 AND commentable_type = 'Photo') ORDER BY created_at DESC[0m
  [4;36;1mComment Load (0.0ms)[0m   [0;1mSELECT * FROM `comments` WHERE (user_id = 1) ORDER BY created_at DESC LIMIT 5[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1) AND (published_as = 'live') ORDER BY published_at DESC, published_at desc LIMIT 2[0m
  [4;36;1mClipping Load (0.0ms)[0m   [0;1mSELECT * FROM `clippings` WHERE (`clippings`.user_id = 1) ORDER BY created_at desc LIMIT 5[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.user_id = 1) ORDER BY created_at desc LIMIT 5[0m
  [4;36;1mActivity Load (0.0ms)[0m   [0;1mSELECT * FROM `activities` WHERE (activities.user_id in (1)) ORDER BY activities.created_at DESC LIMIT 10[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `view_count` = COALESCE(`view_count`, 0) + 1 WHERE (`id` = 1) [0m
Rendering template within layouts/application
Rendering users/show
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `offerings` WHERE (`offerings`.user_id = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered users/_profile_user_info_sidebar (15.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 3) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPost Load (0.0ms)[0m   [0;1mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
Rendered shared/_box (0.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 2) [0m
Rendered posts/_post (32.0ms)
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
Rendered posts/_post (15.0ms)
Rendered shared/_box (0.0ms)
  [4;35;1mClippingImage Load (0.0ms)[0m   [0mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 1 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
  [4;36;1mClippingImage Load (0.0ms)[0m   [0;1mSELECT * FROM `assets` WHERE (`assets`.attachable_id = 2 AND `assets`.attachable_type = 'Clipping') LIMIT 1[0m
Rendered shared/_box (0.0ms)
Rendered comments/_comment_form (16.0ms)
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 188ms (View: 157, DB: 0) | 200 OK [http://test.host/1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#statistics (for 0.0.0.0 at 2009-09-20 16:25:13) [GET]
  Parameters: {"id"=>"1"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.user_id = 1 AND ('2009-09-01' <= published_at AND published_at <= '2009-10-01')) AND (published_as = 'live') ORDER BY published_at desc[0m
Rendering template within layouts/application
Rendering users/statistics
  [4;36;1mCategory Load (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 2) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 2 AND `comments`.commentable_type = 'Post') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `comments` WHERE (`comments`.commentable_id = 1 AND `comments`.commentable_type = 'Post') [0m
Rendered shared/_box (0.0ms)
Rendered shared/_scripts_and_styles (0.0ms)
Rendered shared/_user_menu (0.0ms)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `messages` WHERE (recipient_id = 4 AND recipient_deleted = 0 AND read_at IS NULL) [0m
  [4;35;1mCategory Load (0.0ms)[0m   [0mSELECT * FROM `categories` [0m
Rendered shared/_header (16.0ms)
Rendered shared/_messages (0.0ms)
  [4;36;1mPage Load (0.0ms)[0m   [0;1mSELECT * FROM `pages` WHERE (published_as = 'live') [0m
Completed in 63ms (View: 47, DB: 0) | 200 OK [http://test.host/1/statistics]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_featured (for 0.0.0.0 at 2009-09-20 16:25:13) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `featured_writer` = 1, `updated_at` = '2009-09-20 15:25:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 31ms (DB: 0) | 302 Found [http://test.host/quentin/toggle_featured]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_featured (for 0.0.0.0 at 2009-09-20 16:25:13) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:25:13", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: true, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `featured_writer` = 0, `updated_at` = '2009-09-20 15:25:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 31ms (DB: 0) | 302 Found [http://test.host/quentin/toggle_featured]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (47.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_moderator (for 0.0.0.0 at 2009-09-20 16:25:13) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `role_id` = 2, `updated_at` = '2009-09-20 15:25:13' WHERE `id` = 1[0m
  [4;36;1mTag Load (16.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 31ms (DB: 63) | 302 Found [http://test.host/quentin/toggle_moderator]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#toggle_moderator (for 0.0.0.0 at 2009-09-20 16:25:13) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:25:13", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 2>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `role_id` = 3, `updated_at` = '2009-09-20 15:25:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 47ms (DB: 0) | 302 Found [http://test.host/quentin/toggle_moderator]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update_account (for 0.0.0.0 at 2009-09-20 16:25:13) [PUT]
  Parameters: {"user"=>{"login"=>"changed_login"}, "id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'changed_login' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `login` = 'changed_login', `login_slug` = 'changed-login', `updated_at` = '2009-09-20 15:25:13' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/changed-login
Completed in 32ms (DB: 0) | 302 Found [http://test.host/quentin/update_account?user%5Blogin%5D=changed_login]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-20 16:25:13) [PUT]
  Parameters: {"user"=>{"login"=>"changed_login", "email"=>"changed_email@email.com"}, "id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'changed_login' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'changed_email@email.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `login` = 'changed_login', `login_slug` = 'changed-login', `state_id` = NULL, `metro_area_id` = NULL, `email` = 'changed_email@email.com', `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'updated_profile', 1, NULL, '2009-09-20 15:25:14')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/changed-login
Completed in 47ms (DB: 0) | 302 Found [http://test.host/quentin?user%5Bemail%5D=changed_email%40email.com&user%5Blogin%5D=changed_login]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-20 16:25:14) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "tag_list"=>"tag1, tag2"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mState Load (0.0ms)[0m   [0mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `state_id` = NULL, `metro_area_id` = NULL, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag1') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag1') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag1')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(28, 'User', 1)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT * FROM `tags` WHERE (name LIKE 'tag2') LIMIT 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.id FROM `tags` WHERE (`tags`.`name` = BINARY 'tag2') LIMIT 1[0m
  [4;35;1mTag Create (0.0ms)[0m   [0mINSERT INTO `tags` (`name`) VALUES('tag2')[0m
  [4;36;1mTagging Create (0.0ms)[0m   [0;1mINSERT INTO `taggings` (`tag_id`, `taggable_type`, `taggable_id`) VALUES(29, 'User', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'updated_profile', 1, NULL, '2009-09-20 15:25:14')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 359ms (DB: 30) | 302 Found [http://test.host/quentin?tag_list=tag1%2C+tag2]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#update (for 0.0.0.0 at 2009-09-20 16:25:14) [PUT]
  Parameters: {"user"=>{}, "id"=>"1", "avatar"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0xe954b70 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-4.jpg>>}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.state_id = 1) ORDER BY name[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 16966, NULL, NULL, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:25:14', 142, NULL)[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(27, 'photo', 1, 'Photo', '2009-09-20 15:25:14')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;35;1mMetroArea Update (0.0ms)[0m   [0mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 27)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 27 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 27, '2009-09-20 15:25:14', 290, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 28)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 27 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 27, '2009-09-20 15:25:14', 100, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 29)) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 27 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;35;1mPhoto Create (0.0ms)[0m   [0mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 27, '2009-09-20 15:25:14', 142, NULL)[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 30)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `avatar_id` = 27, `state_id` = NULL, `metro_area_id` = NULL, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mActivity Create (0.0ms)[0m   [0;1mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(NULL, 'updated_profile', 1, NULL, '2009-09-20 15:25:14')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `activities_count` = 2, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin
Completed in 250ms (DB: 0) | 302 Found [http://test.host/1?&avatar%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0xe954b70%3E]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 27) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m


Processing UsersController#upload_profile_photo (for 0.0.0.0 at 2009-09-20 16:25:14) [PUT]
  Parameters: {"id"=>#<User id: 1, login: "quentin", email: "quentin@example.com", description: "I am friggin awesome", avatar_id: nil, crypted_password: "00742970dc9e6319f8019fd54864d3ea740f04b1", salt: "7e3041ebc2fc05a40c60028e2c4901a81035d3cd", created_at: "2009-09-15 15:21:50", updated_at: "2009-09-20 15:21:50", remember_token: nil, remember_token_expires_at: nil, stylesheet: nil, view_count: 0, vendor: false, activation_code: nil, activated_at: "2009-09-15 15:21:50", state_id: 1, metro_area_id: 1, login_slug: "quentin", notify_comments: true, notify_friend_requests: true, notify_community_news: true, country_id: nil, featured_writer: false, last_login_at: nil, zip: nil, birthday: "1994-09-20", gender: nil, profile_public: true, activities_count: 0, sb_posts_count: 0, sb_last_seen_at: nil, role_id: 3>, "avatar"=>{"uploaded_data"=>#<ActionController::TestUploadedFile:0xe882184 @content_type="image/jpg", @original_filename="library.jpg", @tempfile=#<File:C:/DOCUME~1/ADMINI~1/LOCALS~1/Temp/library5760-5.jpg>>}}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) AND (users.activated_at IS NOT NULL) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPhoto Create (15.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 16966, NULL, NULL, NULL, 'library.jpg', 300, 1, NULL, '2009-09-20 15:25:14', 142, NULL)[0m
  [4;35;1mActivity Create (0.0ms)[0m   [0mINSERT INTO `activities` (`item_id`, `action`, `user_id`, `item_type`, `created_at`) VALUES(31, 'photo', 1, 'Photo', '2009-09-20 15:25:14')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `activities` WHERE (user_id = 1) [0m
  [4;36;1mUser Update (0.0ms)[0m   [0;1mUPDATE `users` SET `activities_count` = 1, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;36;1mMetroArea Load (0.0ms)[0m   [0;1mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mMetroArea Update (0.0ms)[0m   [0;1mUPDATE `metro_areas` SET `users_count` = 1 WHERE `id` = 1[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 31)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 31 AND `photos`.`thumbnail` = 'medium') LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 31) [0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 20540, 'medium', NULL, NULL, 'library_medium.jpg', 320, NULL, 31, '2009-09-20 15:25:14', 290, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 32)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 31 AND `photos`.`thumbnail` = 'thumb') LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 31) [0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 20540, 'thumb', NULL, NULL, 'library_thumb.jpg', 100, NULL, 31, '2009-09-20 15:25:14', 100, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 33)) [0m
  [4;36;1mPhoto Load (0.0ms)[0m   [0;1mSELECT * FROM `photos` WHERE (`photos`.`parent_id` = 31 AND `photos`.`thumbnail` = 'large') LIMIT 1[0m
  [4;35;1mPhoto Load (0.0ms)[0m   [0mSELECT * FROM `photos` WHERE (`photos`.`id` = 31) [0m
  [4;36;1mPhoto Create (0.0ms)[0m   [0;1mINSERT INTO `photos` (`name`, `content_type`, `updated_at`, `size`, `thumbnail`, `album_id`, `description`, `filename`, `height`, `user_id`, `parent_id`, `created_at`, `width`, `view_count`) VALUES(NULL, 'image/jpg', '2009-09-20 15:25:14', 20540, 'large', NULL, NULL, 'library_large.jpg', 300, NULL, 31, '2009-09-20 15:25:14', 142, NULL)[0m
  [4;35;1mTag Load (0.0ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Photo') AND (`taggings`.taggable_id = 34)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mState Load (0.0ms)[0m   [0;1mSELECT * FROM `states` WHERE (`states`.`id` = 1) [0m
  [4;35;1mMetroArea Load (0.0ms)[0m   [0mSELECT * FROM `metro_areas` WHERE (`metro_areas`.`id` = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`email`) = BINARY 'quentin@example.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login_slug` = BINARY 'quentin' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Update (0.0ms)[0m   [0mUPDATE `users` SET `avatar_id` = 31, `updated_at` = '2009-09-20 15:25:14' WHERE `id` = 1[0m
  [4;36;1mTag Load (0.0ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'User') AND (`taggings`.taggable_id = 1)) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `users` WHERE (metro_area_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/quentin/crop_profile_photo
Completed in 250ms (DB: 15) | 302 Found [http://test.host/quentin/upload_profile_photo?avatar%5Buploaded_data%5D=%23%3CActionController%3A%3ATestUploadedFile%3A0xe882184%3E]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSELECT * FROM `votes` [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPoll Create (0.0ms)[0m   [0;1mINSERT INTO `polls` (`updated_at`, `votes_count`, `post_id`, `question`, `created_at`) VALUES('2009-09-20 15:25:15', 0, 1, 'Who can have a great time?', '2009-09-20 15:25:15')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mChoice Create (0.0ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'I can', 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mChoice Create (0.0ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'You can', 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mChoice Create (0.0ms)[0m   [0;1mINSERT INTO `choices` (`votes_count`, `description`, `poll_id`) VALUES(0, 'No one can', 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `polls` WHERE (`polls`.post_id = 1) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.post_id = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mVote Columns (0.0ms)[0m   [0mSHOW FIELDS FROM `votes`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` [0m
  [4;35;1mChoice Load (0.0ms)[0m   [0mSELECT * FROM `choices` LIMIT 1[0m


Processing VotesController#create (for 0.0.0.0 at 2009-09-20 16:25:15) [POST]
  Parameters: {"choice_id"=>"12"}
[I18n] loading locale: en from config
[I18n] Locale set to en
  [4;36;1mChoice Load (0.0ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 12) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mChoice Load (0.0ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 12) [0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSELECT `votes`.id FROM `votes` WHERE (`votes`.`user_id` = 1 AND `votes`.poll_id = 5) LIMIT 1[0m
  [4;36;1mVote Create (0.0ms)[0m   [0;1mINSERT INTO `votes` (`choice_id`, `user_id`, `poll_id`, `created_at`) VALUES(12, 1, 5, '2009-09-20 15:25:15')[0m
  [4;35;1mChoice Update (0.0ms)[0m   [0mUPDATE `choices` SET `votes_count` = COALESCE(`votes_count`, 0) + 1 WHERE (`id` = 12) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT sum(`choices`.votes_count) AS sum_votes_count FROM `choices` WHERE (`choices`.`poll_id` = 5) [0m
  [4;35;1mPost Load (0.0ms)[0m   [0mSELECT * FROM `posts` WHERE (`posts`.`id` = 1) [0m
  [4;36;1mPoll Update (0.0ms)[0m   [0;1mUPDATE `polls` SET `votes_count` = 1, `updated_at` = '2009-09-20 15:25:15' WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendering votes/create
  [4;36;1mVote Load (0.0ms)[0m   [0;1mSELECT `votes`.id FROM `votes` WHERE (`votes`.`user_id` = 1 AND `votes`.poll_id = 5 AND `votes`.id <> 1) LIMIT 1[0m
  [4;35;1mVote Load (0.0ms)[0m   [0mSELECT * FROM `votes` WHERE (`votes`.`user_id` = 1) AND (`votes`.poll_id = 5) LIMIT 1[0m
  [4;36;1mChoice Load (0.0ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.poll_id = 5) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 12) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 12) [0m
  [4;36;1mPoll Load (0.0ms)[0m   [0;1mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 13) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 13) [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 14) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.poll_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `votes` WHERE (`votes`.choice_id = 14) [0m
Rendered polls/_poll_ui (31.0ms)
Completed in 78ms (View: 31, DB: 0) | 200 OK [http://test.host/votes?choice_id=12]
  [4;36;1mSQL (16.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `votes` [0m
  [4;35;1mPoll Load (0.0ms)[0m   [0mSELECT * FROM `polls` WHERE (`polls`.`id` = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
